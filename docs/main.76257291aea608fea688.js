(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("30Go"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=o),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var u=Object(r.g)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=Object(r.e)(c.value,2),h=l[1];o===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(d){e={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&t(s,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,s=this.onInitCallbacks.get(e);if(s)try{for(var o=Object(r.g)(s),a=o.next();!a.done;a=o.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=o),this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(t,e,n){if(n||2===arguments.length)for(var r,i=0,s=e.length;i<s;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a});var i="8.10.1";r.a.registerVersion("firebase",i,"app"),r.a.SDK_VERSION=i},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return F}),n.d(e,"b",function(){return Tu}),n.d(e,"c",function(){return wu}),n.d(e,"d",function(){return bu}),n.d(e,"e",function(){return _u}),n.d(e,"f",function(){return mc}),n.d(e,"g",function(){return oc}),n.d(e,"h",function(){return Oa}),n.d(e,"i",function(){return Mu}),n.d(e,"j",function(){return Yo}),n.d(e,"k",function(){return Au}),n.d(e,"l",function(){return ea}),n.d(e,"m",function(){return xr}),n.d(e,"n",function(){return nu}),n.d(e,"o",function(){return cs}),n.d(e,"p",function(){return v}),n.d(e,"q",function(){return R}),n.d(e,"r",function(){return Cs}),n.d(e,"s",function(){return va}),n.d(e,"t",function(){return ba}),n.d(e,"u",function(){return xu}),n.d(e,"v",function(){return Ra}),n.d(e,"w",function(){return uc}),n.d(e,"x",function(){return Pa}),n.d(e,"y",function(){return ec}),n.d(e,"z",function(){return Uu}),n.d(e,"A",function(){return b}),n.d(e,"B",function(){return Cu}),n.d(e,"C",function(){return Ou}),n.d(e,"D",function(){return ra}),n.d(e,"E",function(){return na}),n.d(e,"F",function(){return Dr}),n.d(e,"G",function(){return sa}),n.d(e,"H",function(){return An}),n.d(e,"I",function(){return w}),n.d(e,"J",function(){return hc}),n.d(e,"K",function(){return ka}),n.d(e,"L",function(){return Qu}),n.d(e,"M",function(){return G}),n.d(e,"N",function(){return aa}),n.d(e,"O",function(){return oa}),n.d(e,"P",function(){return Ma}),n.d(e,"Q",function(){return et}),n.d(e,"R",function(){return nc}),n.d(e,"S",function(){return sn}),n.d(e,"T",function(){return z}),n.d(e,"U",function(){return rn}),n.d(e,"V",function(){return pc}),n.d(e,"W",function(){return Yu}),n.d(e,"X",function(){return Iu}),n.d(e,"Y",function(){return hs}),n.d(e,"Z",function(){return Mo}),n.d(e,"ab",function(){return In}),n.d(e,"bb",function(){return ln}),n.d(e,"cb",function(){return Qe}),n.d(e,"db",function(){return Je}),n.d(e,"eb",function(){return tn}),n.d(e,"fb",function(){return Xe}),n.d(e,"gb",function(){return Ye}),n.d(e,"hb",function(){return Ze}),n.d(e,"ib",function(){return Do}),n.d(e,"jb",function(){return fc}),n.d(e,"kb",function(){return Po}),n.d(e,"lb",function(){return Ro}),n.d(e,"mb",function(){return We}),n.d(e,"nb",function(){return B}),n.d(e,"ob",function(){return Rs}),n.d(e,"pb",function(){return Xs}),n.d(e,"qb",function(){return Ys}),n.d(e,"rb",function(){return No}),n.d(e,"sb",function(){return Vt}),n.d(e,"tb",function(){return S}),n.d(e,"ub",function(){return Ge}),n.d(e,"vb",function(){return Is}),n.d(e,"wb",function(){return Mn}),n.d(e,"xb",function(){return Qo}),n.d(e,"yb",function(){return gi}),n.d(e,"zb",function(){return Vs}),n.d(e,"Ab",function(){return fo}),n.d(e,"Bb",function(){return ho}),n.d(e,"Cb",function(){return gu}),n.d(e,"Db",function(){return dt}),n.d(e,"Eb",function(){return bt}),n.d(e,"Fb",function(){return T}),n.d(e,"Gb",function(){return I}),n.d(e,"Hb",function(){return mt}),n.d(e,"Ib",function(){return _t}),n.d(e,"Jb",function(){return qs}),n.d(e,"Kb",function(){return Gs}),n.d(e,"Lb",function(){return Ws}),n.d(e,"Mb",function(){return Qs}),n.d(e,"Nb",function(){return $s}),n.d(e,"Ob",function(){return Ks}),n.d(e,"Pb",function(){return Js}),n.d(e,"Qb",function(){return Or}),n.d(e,"Rb",function(){return Io}),n.d(e,"Sb",function(){return Ft}),n.d(e,"Tb",function(){return Bs}),n.d(e,"Ub",function(){return vu}),n.d(e,"Vb",function(){return Zs}),n.d(e,"Wb",function(){return mu}),n.d(e,"Xb",function(){return no}),n.d(e,"Yb",function(){return tu}),n.d(e,"Zb",function(){return eu}),n.d(e,"ac",function(){return Hs}),n.d(e,"bc",function(){return Xa}),n.d(e,"cc",function(){return pu}),n.d(e,"dc",function(){return jr}),n.d(e,"ec",function(){return de}),n.d(e,"fc",function(){return kn}),n.d(e,"gc",function(){return jn}),n.d(e,"hc",function(){return yt}),n.d(e,"ic",function(){return lo}),n.d(e,"jc",function(){return xo}),n.d(e,"kc",function(){return Us}),n.d(e,"lc",function(){return Oo}),n.d(e,"mc",function(){return Co}),n.d(e,"nc",function(){return To});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends s.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const d=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class f extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){return{toString:t}.toString()}const m="__parameters__";function y(t,e,n){return g(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(m)?t[m]:Object.defineProperty(t,m,{value:[]})[m];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const v=y("Inject",t=>({token:t})),b=y("Optional"),_=y("Self"),w=y("SkipSelf");function S(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(S).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function E(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}function O(t){for(let e in t)if(t[e]===O)return e;throw Error("Could not find renamed property on target object.")}function C(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function T(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function I(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function x(t){return A(t,j)||A(t,D)}function A(t,e){return t.hasOwnProperty(e)?t[e]:null}function k(t){return t&&(t.hasOwnProperty(N)||t.hasOwnProperty(P))?t[N]:null}const j=O({"\u0275prov":O}),N=O({"\u0275inj":O}),D=O({ngInjectableDef:O}),P=O({ngInjectorDef:O});class R{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=T({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const F=new R("AnalyzeForEntryComponents");var M=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({});const L="undefined"!=typeof globalThis&&globalThis,V="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,B=L||q||V||U,H=O({__forward_ref__:O});function z(t){return t.__forward_ref__=z,t.toString=function(){return S(this())},t}function K(t){return $(t)?t():t}function $(t){return"function"==typeof t&&t.hasOwnProperty(H)&&t.__forward_ref__===z}const G=Function;function Q(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),Q(r,e)):e!==t&&e.push(r)}return e}function W(t,e){t.forEach(t=>Array.isArray(t)?W(t,e):e(t))}function J(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Y(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function X(t,e,n){let r=tt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Z(t,e){const n=tt(t,e);if(n>=0)return t[1|n]}function tt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}var et=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const nt={},rt=[],it=O({"\u0275cmp":O}),st=O({"\u0275dir":O}),ot=O({"\u0275pipe":O}),at=O({"\u0275mod":O}),ut=O({"\u0275loc":O}),ct=O({"\u0275fac":O}),lt=O({__NG_ELEMENT_ID__:O});let ht=0;function dt(t){return g(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===M.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||rt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||et.Emulated,id:"c",styles:t.styles||rt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=ht++,n.inputs=vt(t.inputs,e),n.outputs=vt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(ft):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(pt):null,n})}function ft(t){return wt(t)||function(t){return t[st]||null}(t)}function pt(t){return function(t){return t[ot]||null}(t)}const gt={};function mt(t){const e={type:t.type,bootstrap:t.bootstrap||rt,declarations:t.declarations||rt,imports:t.imports||rt,exports:t.exports||rt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&g(()=>{gt[t.id]=t.type}),e}function yt(t,e){return g(()=>{const n=St(t,!0);n.declarations=e.declarations||rt,n.imports=e.imports||rt,n.exports=e.exports||rt})}function vt(t,e){if(null==t)return nt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const bt=dt;function _t(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function wt(t){return t[it]||null}function St(t,e){const n=t[at]||null;if(!n&&!0===e)throw new Error(`Type ${S(t)} does not have '\u0275mod' property.`);return n}function Et(t){return"string"==typeof t?t:null==t?"":""+t}function Ot(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Et(t)}var Ct=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let Tt;function It(t){const e=Tt;return Tt=t,e}function xt(t,e,n){const r=x(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&Ct.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${S(t)}]`)}const At={},kt=/\n/gm,jt="__source",Nt=O({provide:String,useValue:O});let Dt=void 0;function Pt(t){const e=Dt;return Dt=t,e}function Rt(t,e=Ct.Default){if(void 0===Dt)throw new Error("inject() must be called from an injection context");return null===Dt?xt(t,void 0,e):Dt.get(t,e&Ct.Optional?null:void 0,e)}function Ft(t,e=Ct.Default){return(Tt||Rt)(K(t),e)}function Mt(t){const e=[];for(let n=0;n<t.length;n++){const r=K(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=Ct.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof b||"Optional"===i.ngMetadataName||i===b?n|=Ct.Optional:i instanceof w||"SkipSelf"===i.ngMetadataName||i===w?n|=Ct.SkipSelf:i instanceof _||"Self"===i.ngMetadataName||i===_?n|=Ct.Self:t=i instanceof v||i===v?i.token:i}e.push(Ft(t,n))}else e.push(Ft(r))}return e}let Lt=void 0;function Vt(t){Lt=t}function Ut(){return void 0!==Lt?Lt:"undefined"!=typeof document?document:void 0}const qt=20,Bt=10;function Ht(t){return Array.isArray(t)&&"object"==typeof t[1]}function zt(t){return Array.isArray(t)&&!0===t[1]}function Kt(t){return 0!=(8&t.flags)}function $t(t){return 2==(2&t.flags)}function Gt(t){return 1==(1&t.flags)}function Qt(t){return null!==t.template}function Wt(t){return!!t.listen}const Jt={createRenderer:(t,e)=>Ut()};function Yt(t){for(;Array.isArray(t);)t=t[0];return t}function Xt(t,e){return Yt(e[t])}function Zt(t,e){return Yt(e[t.index])}function te(t,e){return t.data[e]}function ee(t,e){const n=e[t];return Ht(n)?n:n[0]}function ne(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function re(t){return 4==(4&t[2])}function ie(t){return 128==(128&t[2])}function se(t,e){return null==e?null:t[e]}function oe(t){t[18]=0}function ae(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const ue={lFrame:Ne(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ce(){return ue.bindingsEnabled}function le(){return ue.lFrame.lView}function he(){return ue.lFrame.tView}function de(t){ue.lFrame.contextLView=t}function fe(){let t=pe();for(;null!==t&&64===t.type;)t=t.parent;return t}function pe(){return ue.lFrame.currentTNode}function ge(t,e){const n=ue.lFrame;n.currentTNode=t,n.isParent=e}function me(){return ue.lFrame.isParent}function ye(){ue.lFrame.isParent=!1}function ve(){return ue.isInCheckNoChangesMode}function be(t){ue.isInCheckNoChangesMode=t}function _e(){const t=ue.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function we(){return ue.lFrame.bindingIndex++}function Se(t){const e=ue.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Ee(t,e){const n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,Oe(e)}function Oe(t){ue.lFrame.currentDirectiveIndex=t}function Ce(t){const e=ue.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function Te(){return ue.lFrame.currentQueryIndex}function Ie(t){ue.lFrame.currentQueryIndex=t}function xe(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Ae(t,e,n){if(n&Ct.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&Ct.Host||(r=xe(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=ue.lFrame=je();return r.currentTNode=e,r.lView=t,!0}function ke(t){const e=je(),n=t[1];ue.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function je(){const t=ue.lFrame,e=null===t?null:t.child;return null===e?Ne(t):e}function Ne(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function De(){const t=ue.lFrame;return ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Pe=De;function Re(){const t=De();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Fe(){return ue.lFrame.selectedIndex}function Me(t){ue.lFrame.selectedIndex=t}function Le(){const t=ue.lFrame;return te(t.tView,t.selectedIndex)}let Ve;function Ue(t){var e;return(null===(e=function(){if(void 0===Ve&&(Ve=null,B.trustedTypes))try{Ve=B.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Ve}())||void 0===e?void 0:e.createHTML(t))||t}class qe{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class Be extends qe{getTypeName(){return"HTML"}}class He extends qe{getTypeName(){return"Style"}}class ze extends qe{getTypeName(){return"Script"}}class Ke extends qe{getTypeName(){return"URL"}}class $e extends qe{getTypeName(){return"ResourceURL"}}function Ge(t){return t instanceof qe?t.changingThisBreaksApplicationSecurity:t}function Qe(t,e){const n=We(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function We(t){return t instanceof qe&&t.getTypeName()||null}function Je(t){return new Be(t)}function Ye(t){return new He(t)}function Xe(t){return new ze(t)}function Ze(t){return new Ke(t)}function tn(t){return new $e(t)}let en=!0,nn=!1;function rn(){return nn=!0,en}function sn(){if(nn)throw new Error("Cannot enable prod mode after platform setup.");en=!1}class on{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Ue(t),"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class an{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Ue(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Ue(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const un=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,cn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ln(t){return(t=String(t)).match(un)||t.match(cn)?t:(rn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function hn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function dn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const fn=hn("area,br,col,hr,img,wbr"),pn=hn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gn=hn("rp,rt"),mn=dn(gn,pn),yn=dn(fn,dn(pn,hn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),dn(gn,hn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mn),vn=hn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bn=hn("srcset"),_n=dn(vn,bn,hn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),hn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wn=hn("script,style,template");class Sn{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!yn.hasOwnProperty(e))return this.sanitizedSomething=!0,!wn.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!_n.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;vn[s]&&(o=ln(o)),bn[s]&&(r=o,o=(r=String(r)).split(",").map(t=>ln(t.trim())).join(", ")),this.buf.push(" ",e,'="',Cn(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();yn.hasOwnProperty(e)&&!fn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Cn(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const En=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,On=/([^\#-~ |!])/g;function Cn(t){return t.replace(/&/g,"&amp;").replace(En,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(On,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Tn;function In(t,e){let n=null;try{Tn=Tn||function(t){return function(){try{return!!(new window.DOMParser).parseFromString(Ue(""),"text/html")}catch(t){return!1}}()?new on:new an(t)}(t);let r=e?String(e):"";n=Tn.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Tn.getInertBodyElement(r)}while(r!==s);const o=new Sn,a=o.sanitizeChildren(xn(n)||n);return rn()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=xn(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function xn(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var An=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function kn(t){const e=Nn();return e?e.sanitize(An.HTML,t)||"":Qe(t,"HTML")?Ge(t):In(Ut(),Et(t))}function jn(t){const e=Nn();return e?e.sanitize(An.URL,t)||"":Qe(t,"URL")?Ge(t):ln(Et(t))}function Nn(){const t=le();return t&&t[12]}function Dn(t,e){return t.hasOwnProperty(ct)?t[ct]:null}class Pn extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function Rn(t,e){const n=e?" in "+e:"";throw new Pn("201",`No provider for ${Ot(t)} found${n}`)}class Fn{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Mn(){return Ln}function Ln(t){return t.type.prototype.ngOnChanges&&(t.setInput=Un),Vn}function Vn(){const t=qn(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===nt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Un(t,e,n,r){const i=qn(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:nt,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new Fn(u&&u.currentValue,e,o===nt),t[r]=e}function qn(t){return t.__ngSimpleChanges__||null}function Bn(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Hn(t,e,n){$n(t,e,3,n)}function zn(t,e,n,r){(3&t[2])===n&&$n(t,e,n,r)}function Kn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function $n(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(Gn(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function Gn(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}Mn.ngInherit=!0;const Qn=-1;class Wn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Jn(t,e,n){const r=Wt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Xn(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Yn(t){return 3===t||4===t||6===t}function Xn(t){return 64===t.charCodeAt(0)}function Zn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||tr(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function tr(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function er(t){return t!==Qn}function nr(t){return 32767&t}function rr(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let ir=!0;function sr(t){const e=ir;return ir=t,e}let or=0;function ar(t,e){const n=cr(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,ur(r.data,t),ur(e,null),ur(r.blueprint,null));const i=lr(t,e),s=t.injectorIndex;if(er(i)){const t=nr(i),n=rr(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function ur(t,e){t.push(0,0,0,0,0,0,0,0,e)}function cr(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function lr(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Qn;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Qn}function hr(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(lt)&&(r=n[lt]),null==r&&(r=n[lt]=or++);const i=255&r,s=1<<i,o=64&i,a=32&i,u=e.data;128&i?o?a?u[t+7]|=s:u[t+6]|=s:a?u[t+5]|=s:u[t+4]|=s:o?a?u[t+3]|=s:u[t+2]|=s:a?u[t+1]|=s:u[t]|=s}(t,e,n)}function dr(t,e,n){if(n&Ct.Optional)return t;Rn(e,"NodeInjector")}function fr(t,e,n,r){if(n&Ct.Optional&&void 0===r&&(r=null),0==(n&(Ct.Self|Ct.Host))){const i=t[9],s=It(void 0);try{return i?i.get(e,r,n&Ct.Optional):xt(e,r,n&Ct.Optional)}finally{It(s)}}return dr(r,e,n)}function pr(t,e,n,r=Ct.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(lt)?t[lt]:void 0;return"number"==typeof e?e>=0?255&e:mr:e}(n);if("function"==typeof s){if(!Ae(e,t,r))return r&Ct.Host?dr(i,n,r):fr(e,n,r,i);try{const t=s();if(null!=t||r&Ct.Optional)return t;Rn(n)}finally{Pe()}}else if("number"==typeof s){let i=null,o=cr(t,e),a=Qn,u=r&Ct.Host?e[16][6]:null;for((-1===o||r&Ct.SkipSelf)&&(a=-1===o?lr(t,e):e[o+8],a!==Qn&&wr(r,!1)?(i=e[1],o=nr(a),e=rr(a,e)):o=-1);-1!==o;){const t=e[1];if(_r(s,o,t.data)){const t=yr(o,e,n,i,r,u);if(t!==gr)return t}a=e[o+8],a!==Qn&&wr(r,e[1].data[o+8]===u)&&_r(s,o,e)?(i=t,o=nr(a),e=rr(a,e)):o=-1}}}return fr(e,n,r,i)}const gr={};function mr(){return new Sr(fe(),le())}function yr(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=vr(a,o,n,null==r?$t(a)&&ir:r!=o&&0!=(3&a.type),i&Ct.Host&&s===a);return null!==u?br(e,o,u,a):gr}function vr(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&Qt(t)&&t.type===n)return u}return null}function br(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Wn){const o=i;o.resolving&&function(t,e){throw new Pn("200","Circular dependency in DI detected for "+t)}(Ot(s[n]));const a=sr(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?It(o.injectImpl):null;Ae(t,r,Ct.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=Ln(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&It(u),sr(a),o.resolving=!1,Pe()}}return i}function _r(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function wr(t,e){return!(t&Ct.Self||t&Ct.Host&&e)}class Sr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return pr(this._tNode,this._lView,t,void 0,e)}}function Er(t){const e=t;if($(t))return()=>{const t=Er(K(e));return t?t():null};let n=Dn(e);if(null===n){const t=k(e);n=t&&t.factory}return n||null}function Or(t){return g(()=>{const e=t.prototype.constructor,n=e[ct]||Er(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[ct]||Er(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Cr(t){return t.ngDebugContext}function Tr(t){return t.ngOriginalError}function Ir(t,...e){t.error(...e)}class xr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Ir}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Cr(t)?Cr(t):this._findContext(Tr(t)):null}_findOriginalError(t){let e=Tr(t);for(;e&&Tr(e);)e=Tr(e);return e}}function Ar(t,e){t.__ngContext__=e}const kr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function jr(t){return{name:"document",target:t.ownerDocument}}function Nr(t){return t instanceof Function?t():t}var Dr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Pr(t,e){return(void 0)(t,e)}function Rr(t){const e=t[3];return zt(e)?e[3]:e}function Fr(t){return Lr(t[13])}function Mr(t){return Lr(t[4])}function Lr(t){for(;null!==t&&!zt(t);)t=t[4];return t}function Vr(t,e,n,r,i){if(null!=r){let s,o=!1;zt(r)?s=r:Ht(r)&&(o=!0,r=r[0]);const a=Yt(r);0===t&&null!==n?null==i?$r(e,n,a):Kr(e,n,a,i||null,!0):1===t&&null!==n?Kr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Qr(t,e);r&&function(t,e,n,r){Wt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Yt(n)&&Vr(e,t,r,s,i);for(let o=Bt;o<n.length;o++){const i=n[o];Zr(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Ur(t,e,n){return Wt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function qr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,ae(i,-1)),n.splice(r,1)}function Br(t,e){if(t.length<=Bt)return;const n=Bt+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&qr(s,r),e>0&&(t[n-1][4]=r[4]);const o=Y(t,Bt+e);Zr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Hr(t,e){if(!(256&e[2])){const n=e[11];Wt(n)&&n.destroyNode&&Zr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return zr(t[1],t);for(;e;){let n=null;if(Ht(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Ht(e)&&zr(e[1],e),e=e[3];null===e&&(e=t),Ht(e)&&zr(e[1],e),n=e&&e[4]}e=n}}(e)}}function zr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Wn)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):Yt(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&Wt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&zt(e[3])){n!==e[3]&&qr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Kr(t,e,n,r,i){Wt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function $r(t,e,n){Wt(t)?t.appendChild(e,n):e.appendChild(n)}function Gr(t,e,n,r,i){null!==r?Kr(t,e,n,r,i):$r(t,e,n)}function Qr(t,e){return Wt(t)?t.parentNode(e):e.parentNode}function Wr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===et.None||e===et.Emulated)return null}return Zt(r,n)}(t,e.parent,n)}(t,r,e),s=e[11],o=function(t,e,n){return function(t,e,n){return 40&t.type?Zt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Gr(s,i,n[a],o,!1);else Gr(s,i,n,o,!1)}function Jr(t,e){if(null!==e){const n=e.type;if(3&n)return Zt(e,t);if(4&n)return Yr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Jr(t,n);{const n=t[e.index];return zt(n)?Yr(-1,n):Yt(n)}}if(32&n)return Pr(e,t)()||Yt(t[e.index]);{const n=t[16],r=n[6],i=Rr(n),s=r.projection[e.projection];return null!=s?Jr(i,s):Jr(t,e.next)}}return null}function Yr(t,e){const n=Bt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Jr(t,r)}return e[7]}function Xr(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Ar(Yt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Xr(t,e,n.child,r,i,s,!1),Vr(e,t,i,a,s);else if(32&u){const o=Pr(n,r);let u;for(;u=o();)Vr(e,t,i,u,s);Vr(e,t,i,a,s)}else 16&u?ti(t,e,r,n,i,s):Vr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Zr(t,e,n,r,i,s){Xr(n,r,t.firstChild,e,i,s,!1)}function ti(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Vr(e,t,i,a[u],s);else Xr(t,e,a,o[3],i,s,!0)}function ei(t,e,n){Wt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ni(t,e,n){Wt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ri(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const ii="ng-template";function si(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ri(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function oi(t){return 4===t.type&&t.value!==ii}function ai(t,e,n){return e===(4!==t.type||n?t.value:ii)}function ui(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Yn(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!ai(t,u,n)||""===u&&1===e.length){if(ci(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!si(t.attrs,c,n)){if(ci(r))return!1;o=!0}continue}const l=li(8&r?"class":u,i,oi(t),n);if(-1===l){if(ci(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ri(e,c,0)||2&r&&c!==t){if(ci(r))return!1;o=!0}}}}else{if(!o&&!ci(r)&&!ci(u))return!1;if(o&&ci(u))continue;o=!1,r=u|1&r}}return ci(r)||o}function ci(t){return 0==(1&t)}function li(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function hi(t,e,n=!1){for(let r=0;r<e.length;r++)if(ui(t,e[r],n))return!0;return!1}function di(t,e){return t?":not("+e.trim()+")":e}function fi(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||ci(o)||(e+=di(s,i),i=""),r=o,s=s||!ci(r);n++}return""!==i&&(e+=di(s,i)),e}const pi={};function gi(t){mi(he(),le(),Fe()+t,ve())}function mi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Hn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&zn(e,r,0,n)}Me(n)}function yi(t,e){return t<<17|e<<2}function vi(t){return t>>17&32767}function bi(t){return 2|t}function _i(t){return(131068&t)>>2}function wi(t,e){return-131069&t|e<<2}function Si(t){return 1|t}function Ei(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];Ie(i),n.contentQueries(2,e[s],s)}}}function Oi(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,oe(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Ci(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=pe(),o=me(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),ue.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=ue.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return ge(s,!0),s}function Ti(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ii(t,e,n){ke(e);try{const r=t.viewQuery;null!==r&&rs(1,r,n);const i=t.template;null!==i&&ki(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ei(t,e),t.staticViewQueries&&rs(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Xi(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Re()}}function xi(t,e,n,r){const i=e[2];if(256==(256&i))return;ke(e);const s=ve();try{oe(e),ue.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ki(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Hn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&zn(e,n,0,null),Kn(e,0)}if(function(t){for(let e=Fr(t);null!==e;e=Mr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&ae(r,1),n[2]|=1024}}}(e),function(t){for(let e=Fr(t);null!==e;e=Mr(e))for(let t=Bt;t<e.length;t++){const n=e[t],r=n[1];ie(n)&&xi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Ei(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Hn(e,n)}else{const n=t.contentHooks;null!==n&&zn(e,n,1),Kn(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)Me(~r);else{const i=r,s=n[++t],o=n[++t];Ee(s,i),o(2,e[i])}}}finally{Me(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Ji(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&rs(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Hn(e,n)}else{const n=t.viewHooks;null!==n&&zn(e,n,2),Kn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ae(e[3],-1))}finally{Re()}}function Ai(t,e,n,r){const i=e[10],s=!ve(),o=re(e);try{s&&!o&&i.begin&&i.begin(),o&&Ii(t,e,r),xi(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function ki(t,e,n,r,i){const s=Fe();try{Me(-1),2&r&&e.length>qt&&mi(t,e,qt,ve()),n(r,i)}finally{Me(s)}}function ji(t,e,n){if(Kt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ni(t,e,n){ce()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||ar(n,e),Ar(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=Qt(r);s&&$i(e,n,r);const u=br(e,t,a,n);Ar(u,e),null!==o&&Gi(0,a-i,u,r,0,o),s&&(ee(n.index,e)[8]=u)}}(t,e,n,Zt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=ue.lFrame.currentDirectiveIndex;try{Me(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Oe(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||qi(r,i)}}finally{Me(-1),Oe(o)}}(t,e,n))}function Di(t,e,n=Zt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Pi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ri(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ri(t,e,n,r,i,s,o,a,u,c){const l=qt+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:pi);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Fi(t,e,n,r){const i=ss(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function Mi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Li(t,e,n,r,i,s,o,a){const u=Zt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(as(t,n,c,r,i),$t(e)&&function(t,e){const n=ee(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,Wt(s)?s.setProperty(u,r,i):Xn(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Vi(t,e,n,r){let i=!1;if(ce()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];hi(n,o.selectors,!1)&&(i||(i=[]),hr(ar(n,e),t,o.type),Qt(o)?(Bi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,zi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Ti(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Zn(n.mergedAttrs,c.hostAttrs),Ki(t,n,e,u,c),Hi(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||oi(e)?null:Qi(n,i);s.push(c),o=Mi(n,u,o),a=Mi(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Pn("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Zn(n.mergedAttrs,n.attrs),i}function Ui(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function qi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Bi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Hi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Qt(e)&&(n[""]=t)}}function zi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ki(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Dn(i.type)),o=new Wn(s,Qt(i),null);t.blueprint[r]=o,n[r]=o,Ui(t,e,0,r,Ti(t,n,i.hostVars,pi),i)}function $i(t,e,n){const r=Zt(e,t),i=Pi(n),s=t[10],o=Zi(t,Oi(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Gi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Qi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Wi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Ji(t,e){const n=ee(e,t);if(ie(n)){const t=n[1];80&n[2]?xi(t,n,t.template,n[8]):n[5]>0&&Yi(n)}}function Yi(t){for(let n=Fr(t);null!==n;n=Mr(n))for(let t=Bt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];xi(t,e,t.template,e[8])}else e[5]>0&&Yi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=ee(e[n],t);ie(r)&&r[5]>0&&Yi(r)}}function Xi(t,e){const n=ee(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ii(r,n,n[8])}function Zi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ts(t){for(;t;){t[2]|=64;const e=Rr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function es(t,e,n){const r=e[10];r.begin&&r.begin();try{xi(t,e,t.template,n)}catch(i){throw os(e,i),i}finally{r.end&&r.end()}}function ns(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=ne(n),i=r[1];Ai(i,r,i.template,n)}}(t[8])}function rs(t,e,n){Ie(0),e(t,n)}const is=(()=>Promise.resolve(null))();function ss(t){return t[7]||(t[7]=[])}function os(t,e){const n=t[9],r=n?n.get(xr,null):null;r&&r.handleError(e)}function as(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function us(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=E(i,t):2==s&&(r=E(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const cs=new R("INJECTOR",-1);class ls{get(t,e=At){if(e===At){const e=new Error(`NullInjectorError: No provider for ${S(t)}!`);throw e.name="NullInjectorError",e}return e}}const hs=new R("Set Injector scope."),ds={},fs={},ps=[];let gs=void 0;function ms(){return void 0===gs&&(gs=new ls),gs}function ys(t,e=null,n=null,r){return new vs(t,n,e||ms(),r)}class vs{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&W(e,n=>this.processProvider(n,t,e)),W([t],t=>this.processInjectorType(t,[],i)),this.records.set(cs,ws(void 0,this));const s=this.records.get(hs);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:S(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=At,n=Ct.Default){this.assertNotDestroyed();const r=Pt(this);try{if(!(n&Ct.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof R)&&x(t);e=n&&this.injectableDefInScope(n)?ws(bs(t),ds):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&Ct.Self?ms():this.parent).get(t,e=n&Ct.Optional&&e===At?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(S(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[jt]&&i.unshift(e[jt]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=S(e);if(Array.isArray(e))i=e.map(S).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):S(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(kt,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{Pt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(S(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=K(t)))return!1;let r=k(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=k(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{W(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];W(r,t=>this.processProvider(t,n,r||ps))}}this.injectorDefTypes.add(s),this.records.set(s,ws(r.factory,ds));const a=r.providers;if(null!=a&&!o){const e=t;W(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Es(t=K(t))?t:K(t&&t.provide);const i=function(t,e,n){return Ss(t)?ws(void 0,t.useValue):ws(_s(t),ds)}(t);if(Es(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=ws(void 0,ds,!0),e.factory=()=>Mt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ds&&(e.value=fs,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function bs(t){const e=x(t),n=null!==e?e.factory:Dn(t);if(null!==n)return n;const r=k(t);if(null!==r)return r.factory;if(t instanceof R)throw new Error(`Token ${S(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${S(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[j]||t[D]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function _s(t,e,n){let r=void 0;if(Es(t)){const e=K(t);return Dn(e)||bs(e)}if(Ss(t))r=()=>K(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Mt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Ft(K(t.useExisting));else{const e=K(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Dn(e)||bs(e);r=()=>new e(...Mt(t.deps))}var i;return r}function ws(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ss(t){return null!==t&&"object"==typeof t&&Nt in t}function Es(t){return"function"==typeof t}const Os=function(t,e,n){return function(t,e=null,n=null,r){const i=ys(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Cs=(()=>{class t{static create(t,e){return Array.isArray(t)?Os(t,e,""):Os(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=At,t.NULL=new ls,t.\u0275prov=T({token:t,providedIn:"any",factory:()=>Ft(cs)}),t.__NG_ELEMENT_ID__=-1,t})();function Ts(t,e){Bn(ne(t)[1],fe())}function Is(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Qt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=xs(t.inputs),e.declaredInputs=xs(t.declaredInputs),e.outputs=xs(t.outputs);const n=i.hostBindings;n&&js(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&As(t,s),o&&ks(t,o),C(t.inputs,i.inputs),C(t.declaredInputs,i.declaredInputs),C(t.outputs,i.outputs),Qt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Is&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Zn(i.hostAttrs,n=Zn(n,i.hostAttrs))}}(r)}function xs(t){return t===nt?{}:t===rt?[]:t}function As(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function ks(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function js(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Ns=null;function Ds(){if(!Ns){const t=B.Symbol;if(t&&t.iterator)Ns=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ns=n)}}}return Ns}class Ps{constructor(t){this.wrapped=t}static wrap(t){return new Ps(t)}static unwrap(t){return Ps.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ps}}function Rs(t){return!!Fs(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ds()in t)}function Fs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ms(t,e,n){return t[e]=n}function Ls(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Vs(t,e,n,r){const i=le();return Ls(i,we(),e)&&(he(),function(t,e,n,r,i,s){const o=Zt(t,e);!function(t,e,n,r,i,s,o){if(null==s)Wt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?Et(s):o(s,r||"",i);Wt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(Le(),i,t,e,n,r)),Vs}function Us(t,e,n,r,i,s,o,a){const u=le(),c=he(),l=t+qt,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Ci(e,t,4,o||null,se(c,a));Vi(e,n,l,se(c,u)),Bn(e,l);const h=l.tViews=Ri(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];ge(h,!1);const d=u[11].createComment("");Wr(c,u,d,h),Ar(d,u),Zi(u,u[l]=Wi(d,u,d,h)),Gt(h)&&Ni(c,u,h),null!=o&&Di(u,h,a)}function qs(t,e=Ct.Default){const n=le();return null===n?Ft(t,e):pr(fe(),n,K(t),e)}function Bs(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Yn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(fe(),t)}function Hs(t,e,n){const r=le();return Ls(r,we(),e)&&Li(he(),Le(),r,t,e,r[11],n,!1),Hs}function zs(t,e,n,r,i){const s=i?"class":"style";as(t,n,e.inputs[s],s,r)}function Ks(t,e,n,r){const i=le(),s=he(),o=qt+t,a=i[11],u=i[o]=Ur(a,e,ue.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=Ci(e,t,2,i,se(a,s));return Vi(e,n,u,se(a,o)),null!==u.attrs&&us(u,u.attrs,!1),null!==u.mergedAttrs&&us(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];ge(c,!0);const l=c.mergedAttrs;null!==l&&Jn(a,u,l);const h=c.classes;null!==h&&ni(a,u,h);const d=c.styles;null!==d&&ei(a,u,d),64!=(64&c.flags)&&Wr(s,i,u,c),0===ue.lFrame.elementDepthCount&&Ar(u,i),ue.lFrame.elementDepthCount++,Gt(c)&&(Ni(s,i,c),ji(s,c,i)),null!==r&&Di(i,c)}function $s(){let t=fe();me()?ye():(t=t.parent,ge(t,!1));const e=t;ue.lFrame.elementDepthCount--;const n=he();n.firstCreatePass&&(Bn(n,t),Kt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&zs(n,e,le(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&zs(n,e,le(),e.stylesWithoutHost,!1)}function Gs(t,e,n,r){Ks(t,e,n,r),$s()}function Qs(t,e,n){const r=le(),i=he(),s=t+qt,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=se(s,r),a=Ci(e,t,8,"ng-container",o);return null!==o&&us(a,o,!0),Vi(e,n,a,se(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];ge(o,!0);const a=r[s]=r[11].createComment("");Wr(i,r,a,o),Ar(a,r),Gt(o)&&(Ni(i,r,o),ji(i,o,r)),null!=n&&Di(r,o)}function Ws(){let t=fe();const e=he();me()?ye():(t=t.parent,ge(t,!1)),e.firstCreatePass&&(Bn(e,t),Kt(t)&&e.queries.elementEnd(t))}function Js(){return le()}function Ys(t){return!!t&&"function"==typeof t.then}function Xs(t){return!!t&&"function"==typeof t.subscribe}function Zs(t,e,n=!1,r){const i=le(),s=he(),o=fe();return function(t,e,n,r,i,s,o=!1,a){const u=Gt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=ss(e);let h=!0;if(3&r.type){const d=Zt(r,e),f=a?a(d):nt,p=f.target||d,g=l.length,m=a?t=>a(Yt(t[r.index])).target:r.index;if(Wt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=eo(r,e,s,!1);const t=n.listen(f.name||p,i,s);l.push(s,t),c&&c.push(i,m,g,g+1)}}else s=eo(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,m,g,o)}const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),Zs}function to(t,e,n){try{return!1!==e(n)}catch(r){return os(t,r),!1}}function eo(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?ee(t.index,e):e;0==(32&e[2])&&ts(o);let a=to(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=to(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function no(t=1){return function(t){return(ue.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,ue.lFrame.contextLView))[8]}(t)}const ro=[];function io(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?vi(s):_i(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];so(t[a],e)&&(u=!0,t[a+1]=r?Si(n):bi(n)),a=r?vi(n):_i(n)}u&&(t[n+1]=r?bi(s):Si(s))}function so(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&tt(t,e)>=0}const oo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ao(t){return t.substring(oo.key,oo.keyEnd)}function uo(t,e){const n=oo.textEnd;return n===e?-1:(e=oo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,oo.key=e,n),co(t,e,n))}function co(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function lo(t,e,n){return go(t,e,n,!1),lo}function ho(t,e){return go(t,e,null,!0),ho}function fo(t){!function(t,e,n,r){const i=he(),s=Se(2);i.firstUpdatePass&&yo(i,null,s,r);const o=le();if(n!==pi&&Ls(o,s,n)){const a=i.data[Fe()];if(Eo(a,r)&&!mo(i,s)){let t=a.classesWithoutHost;null!==t&&(n=E(t,n||"")),zs(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===pi&&(i=ro);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const o=u<i.length?i[u+1]:void 0,d=c<s.length?s[c+1]:void 0;let f=null,p=void 0;l===h?(u+=2,c+=2,o!==d&&(f=h,p=d)):null===h||null!==l&&l<h?(u+=2,f=l):(c+=2,f=h,p=d),null!==f&&_o(t,e,n,r,f,p,true,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return ro;const r=[],i=Ge(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,s)}}(X,po,t,!0)}function po(t,e){for(let n=function(t){return function(t){oo.key=0,oo.keyEnd=0,oo.value=0,oo.valueEnd=0,oo.textEnd=t.length}(t),uo(t,co(t,0,oo.textEnd))}(e);n>=0;n=uo(e,n))X(t,ao(e),!0)}function go(t,e,n,r){const i=le(),s=he(),o=Se(2);s.firstUpdatePass&&yo(s,t,o,r),e!==pi&&Ls(i,o,e)&&_o(s,s.data[Fe()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=S(Ge(t)))),t}(e,n),r,o)}function mo(t,e){return e>=t.expandoStartIndex}function yo(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Fe()],o=mo(t,n);Eo(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=Ce(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=bo(n=vo(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=vo(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==_i(r))return t[vi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=vo(null,t,e,n[1],r),n=bo(n,e.attrs,r),function(t,e,n,r){t[vi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=bo(r,t[s].hostAttrs,n);return bo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=vi(o),u=_i(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||tt(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=vi(t[a+1]);t[r+1]=yi(e,a),0!==e&&(t[e+1]=wi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=yi(a,0),0!==a&&(t[a+1]=wi(t[a+1],r)),a=r;else t[r+1]=yi(u,0),0===a?a=r:t[u+1]=wi(t[u+1],r),u=r;l&&(t[r+1]=bi(t[r+1])),io(t,c,r,!0),io(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&tt(s,e)>=0&&(n[r+1]=Si(n[r+1]))}(e,c,t,r,s),o=yi(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function vo(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=bo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function bo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),X(t,o,!!n||e[++s]))}return void 0===t?null:t}function _o(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];So(1==(1&c)?wo(u,e,n,i,_i(c),o):void 0)||(So(s)||2==(2&c)&&(s=wo(u,null,n,i,a,o)),function(t,e,n,r,i){const s=Wt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Dr.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=Dr.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Xt(Fe(),n),i,s))}function wo(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===pi&&(l=c?ro:void 0);let h=c?Z(l,r):u===r?l:void 0;if(s&&!So(h)&&(h=Z(e,r)),So(h)&&(a=h,o))return a;const d=t[i+1];i=o?vi(d):_i(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=Z(t,r))}return a}function So(t){return void 0!==t}function Eo(t,e){return 0!=(t.flags&(e?16:32))}function Oo(t,e=""){const n=le(),r=he(),i=t+qt,s=r.firstCreatePass?Ci(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return Wt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Wr(r,n,o,s),ge(s,!1)}function Co(t){return To("",t,""),Co}function To(t,e,n){const r=le(),i=function(t,e,n,r){return Ls(t,we(),n)?e+Et(n)+r:pi}(r,t,e,n);return i!==pi&&function(t,e,n){const r=Xt(e,t);!function(t,e,n){Wt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,Fe(),i),To}function Io(t,e,n){const r=le();return Ls(r,we(),e)&&Li(he(),Le(),r,t,e,r[11],n,!0),Io}function xo(t,e,n){const r=le();if(Ls(r,we(),e)){const i=he(),s=Le();Li(i,s,r,t,e,function(t,e,n){return(null===t||Qt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}(Ce(i.data),s,r),n,!0)}return xo}const Ao=void 0;var ko=["en",[["a","p"],["AM","PM"],Ao],[["AM","PM"],Ao,Ao],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ao,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ao,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ao,"{1} 'at' {0}",Ao],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let jo={};function No(t,e,n){"string"!=typeof e&&(n=e,e=t[Mo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),jo[e]=t,n&&(jo[e][Mo.ExtraData]=n)}function Do(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Fo(e);if(n)return n;const r=e.split("-")[0];if(n=Fo(r),n)return n;if("en"===r)return ko;throw new Error(`Missing locale data for the locale "${t}".`)}function Po(t){return Do(t)[Mo.CurrencyCode]||null}function Ro(t){return Do(t)[Mo.PluralCase]}function Fo(t){return t in jo||(jo[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),jo[t]}var Mo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Lo="en-US";let Vo=Lo;function Uo(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Vo=t.toLowerCase().replace(/_/g,"-"))}function qo(t,e,n,r,i){if(t=K(t),Array.isArray(t))for(let s=0;s<t.length;s++)qo(t[s],e,n,r,i);else{const s=he(),o=le();let a=Es(t)?t:K(t.provide),u=_s(t);const c=fe(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(Es(t)||!t.multi){const r=new Wn(u,i,qs),f=zo(a,e,i?l:l+d,h);-1===f?(hr(ar(c,o),s,a),Bo(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=zo(a,e,l+d,h),p=zo(a,e,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){hr(ar(c,o),s,a);const l=function(t,e,n,r,i){const s=new Wn(t,n,qs);return s.multi=[],s.index=e,s.componentProviders=0,Ho(s,i,r&&!n),s}(i?$o:Ko,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Bo(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else Bo(s,t,f>-1?f:p,Ho(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Bo(t,e,n,r){const i=Es(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Ho(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function zo(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ko(t,e,n,r){return Go(this.multi,[])}function $o(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=br(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Go(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Go(i,s);return s}function Go(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Qo(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=he();if(r.firstCreatePass){const i=Qt(t);qo(n,r.data,r.blueprint,i,!0),qo(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Wo{}class Jo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${S(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Yo=(()=>{class t{}return t.NULL=new Jo,t})();function Xo(...t){}function Zo(t,e){return new ea(Zt(t,e))}const ta=function(){return Zo(fe(),le())};let ea=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=ta,t})();class na{}let ra=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ia(),t})();const ia=function(){const t=le(),e=ee(fe().index,t);return function(t){return t[11]}(Ht(e)?e:t)};let sa=(()=>{class t{}return t.\u0275prov=T({token:t,providedIn:"root",factory:()=>null}),t})();class oa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const aa=new oa("11.0.2");class ua{constructor(){}supports(t){return Rs(t)}create(t){return new la(t)}}const ca=(t,e)=>e;class la{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ca}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<pa(n,r,i)?e:n,o=pa(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Rs(t))throw new Error(`Error trying to diff '${S(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ds()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ha(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new fa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ha{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class da{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class fa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new da,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ga{constructor(){}supports(t){return t instanceof Map||Fs(t)}create(){return new ma}}class ma{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Fs(t)))throw new Error(`Error trying to diff '${S(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ya(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ya{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let va=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new b]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=T({token:t,providedIn:"root",factory:()=>new t([new ua])}),t})(),ba=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new b]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=T({token:t,providedIn:"root",factory:()=>new t([new ga])}),t})();function _a(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Yt(s)),zt(s))for(let t=Bt;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&_a(e[1],e,n,r)}const o=n.type;if(8&o)_a(t,e,n.child,r);else if(32&o){const t=Pr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Rr(t);_a(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class wa{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return _a(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Hr(this._lView[1],this._lView)}onDestroy(t){Fi(this._lView[1],this._lView,null,t)}markForCheck(){ts(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){es(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){be(!0);try{es(t,e,n)}finally{be(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Zr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Sa extends wa{constructor(t){super(t),this._view=t}detectChanges(){ns(this._view)}checkNoChanges(){!function(t){be(!0);try{ns(t)}finally{be(!1)}}(this._view)}get context(){return null}}const Ea=Ca;let Oa=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ea,t.__ChangeDetectorRef__=!0,t})();function Ca(t=!1){return function(t,e,n){if(!n&&$t(t)){const n=ee(t.index,e);return new wa(n,n)}return 47&t.type?new wa(e[16],e):null}(fe(),le(),t)}const Ta=[new ga],Ia=new va([new ua]),xa=new ba(Ta),Aa=function(){return Da(fe(),le())};let ka=(()=>{class t{}return t.__NG_ELEMENT_ID__=Aa,t})();const ja=ka,Na=class extends ja{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Oi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ii(e,n,t),new wa(n)}};function Da(t,e){return 4&t.type?new Na(e,t,Zo(t,e)):null}class Pa{}class Ra{}const Fa=function(){return Ba(fe(),le())};let Ma=(()=>{class t{}return t.__NG_ELEMENT_ID__=Fa,t})();const La=Ma,Va=class extends La{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Zo(this._hostTNode,this._hostLView)}get injector(){return new Sr(this._hostTNode,this._hostLView)}get parentInjector(){const t=lr(this._hostTNode,this._hostLView);if(er(t)){const e=rr(t,this._hostLView),n=nr(t);return new Sr(e[1].data[n+8],e)}return new Sr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ua(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Bt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Pa,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(zt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Va(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=Bt+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-Bt?(e[4]=n[i],J(n,Bt+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Yr(i,s),a=n[11],u=Qr(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Zr(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(this),J(qa(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ua(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Br(this._lContainer,e);n&&(Y(qa(this._lContainer),e),Hr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Br(this._lContainer,e);return n&&null!=Y(qa(this._lContainer),e)?new wa(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ua(t){return t[8]}function qa(t){return t[8]||(t[8]=[])}function Ba(t,e){let n;const r=e[t.index];if(zt(r))n=r;else{let i;if(8&t.type)i=Yt(r);else{const n=e[11];i=n.createComment("");const r=Zt(t,e);Kr(n,Qr(n,r),i,function(t,e){return Wt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Wi(r,e,i,t),Zi(e,n)}return new Va(n,t,e)}const Ha={};class za extends Yo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=wt(t);return new Ga(e,this.ngModule)}}function Ka(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const $a=new R("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>kr});class Ga extends Wo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(fi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ka(this.componentDef.inputs)}get outputs(){return Ka(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Ha,i);return s!==Ha||r===Ha?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(na,Jt),o=i.get(sa,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Wt(t))return t.selectRootElement(e,n===et.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Ur(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:kr,clean:is,playerHandler:null,flags:0},d=Ri(0,null,null,1,0,null,null,null,null,null),f=Oi(null,d,h,l,null,null,s,a,o,i);let p,g;ke(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Ci(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(us(a,u,!0),null!==t&&(Jn(i,t,u),null!==a.classes&&ni(i,t,a.classes),null!==a.styles&&ei(i,t,a.styles)));const c=r.createRenderer(t,e),l=Oi(n,Pi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(hr(ar(a,n),o,e.type),Bi(o,a),zi(a,n.length,1)),Zi(n,l),n[20]=l}(c,this.componentDef,f,s,a);if(c)if(n)Jn(a,c,["ng-version",aa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ci(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Jn(a,c,t),e&&e.length>0&&ni(a,c,e.join(" "))}if(g=te(d,qt),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=fe();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ki(t,r,e,Ti(t,e,1,null),n));const i=br(e,t,r.directiveStart,r);Ar(i,e);const s=Zt(r,e);return s&&Ar(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=fe();e.contentQueries(1,o,t.directiveStart)}const a=fe();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Me(a.index),Ui(n[1],a,0,a.directiveStart,a.directiveEnd,e),qi(e,o)),o}(t,this.componentDef,f,h,[Ts]),Ii(d,f,null)}finally{Re()}return new Qa(this.componentType,p,Zo(g,f),f,g)}}class Qa extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Sa(r),this.componentType=t}get injector(){return new Sr(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Wa=new Map;class Ja extends Pa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new za(this);const n=St(t),r=t[ut]||null;r&&Uo(r),this._bootstrapComponents=Nr(n.bootstrap),this._r3Injector=ys(t,e,[{provide:Pa,useValue:this},{provide:Yo,useValue:this.componentFactoryResolver}],S(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Cs.THROW_IF_NOT_FOUND,n=Ct.Default){return t===Cs||t===Pa||t===cs?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ya extends Ra{constructor(t){super(),this.moduleType=t,null!==St(t)&&function(t){const e=new Set;!function t(n){const r=St(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${S(e)} vs ${S(e.name)}`)}(i,Wa.get(i),n),Wa.set(i,n));const s=Nr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Ja(this.moduleType,t)}}function Xa(t,e,n,r){return function(t,e,n,r,i,s){const o=e+n;return Ls(t,o,i)?Ms(t,o+1,s?r.call(s,i):r(i)):Za(t,o+1)}(le(),_e(),t,e,n,r)}function Za(t,e){const n=t[e];return n===pi?void 0:n}function tu(t,e){const n=he();let r;const i=t+qt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Pn("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Dn(r.type)),o=It(qs);try{const t=sr(!1),e=s();return sr(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,le(),i,e),e}finally{It(o)}}function eu(t,e,n,r){const i=t+qt,s=le(),o=function(t,e){return t[e]}(s,i);return function(t,e){return Ps.isWrapped(e)&&(e=Ps.unwrap(e),t[ue.lFrame.bindingIndex]=pi),e}(s,function(t,e){return t[1].data[e].pure}(s,i)?function(t,e,n,r,i,s,o){const a=e+n;return function(t,e,n,r){const i=Ls(t,e,n);return Ls(t,e+1,r)||i}(t,a,i,s)?Ms(t,a+2,o?r.call(o,i,s):r(i,s)):Za(t,a+2)}(s,_e(),e,o.transform,n,r,o):o.transform(n,r))}const nu=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function ru(){return this._results[Ds()]()}class iu{constructor(){this.dirty=!0,this._results=[],this.changes=new nu,this.length=0;const t=Ds(),e=iu.prototype;e[t]||(e[t]=ru)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=Q(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class su{constructor(t){this.queryList=t,this.matches=null}clone(){return new su(this.queryList)}setDirty(){this.queryList.setDirty()}}class ou{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new ou(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==yu(t,e).matches&&this.queries[e].setDirty()}}class au{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class uu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new uu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class cu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new cu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,lu(e,i)),this.matchTNodeWithReadOption(t,e,vr(e,t,i,!1,!1))}else n===ka?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,vr(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ea||r===Ma||r===ka&&4&e.type)this.addMatch(e.index,-2);else{const n=vr(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function lu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function hu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Zo(t,e):4&t.type?Da(t,e):null}(e,t):-2===n?function(t,e,n){return n===ea?Zo(e,t):n===ka?Da(e,t):n===Ma?Ba(e,t):void 0}(t,e,r):br(t,t[1],n,e)}function du(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:hu(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function fu(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=du(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=Bt;t<o.length;t++){const e=o[t];e[17]===e[3]&&fu(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];fu(n[1],n,i,r)}}}}}return r}function pu(t){const e=le(),n=he(),r=Te();Ie(r+1);const i=yu(n,r);if(t.dirty&&re(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?fu(n,e,r,[]):du(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function gu(t,e,n,r){!function(t,e,n,r,i,s,o,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new uu),t.queries.track(new cu(e,n))}(t,new au(n,r,false,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new iu;Fi(t,e,n,n.destroy),null===e[19]&&(e[19]=new ou),e[19].queries.push(new su(n))}(t,e)}(he(),le(),e,n,r,0,fe(),t)}function mu(){return t=le(),e=Te(),t[19].queries[e].queryList;var t,e}function yu(t,e){return t.queries.getByIndex(e)}function vu(t=Ct.Default){const e=Ca(!0);if(null!=e||t&Ct.Optional)return e;Rn("ChangeDetectorRef")}const bu=new R("Application Initializer");let _u=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Xo,this.reject=Xo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ys(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Ft(bu,8))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();const wu=new R("AppId"),Su={provide:wu,useFactory:function(){return`${Eu()}${Eu()}${Eu()}`},deps:[]};function Eu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ou=new R("Platform Initializer"),Cu=new R("Platform ID"),Tu=new R("appBootstrapListener");let Iu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();const xu=new R("LocaleId"),Au=new R("DefaultCurrencyCode");class ku{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const ju=function(t){return new Ya(t)},Nu=ju,Du=function(t){return Promise.resolve(ju(t))},Pu=function(t){const e=ju(t),n=Nr(St(t).declarations).reduce((t,e)=>{const n=wt(e);return n&&t.push(new Ga(n)),t},[]);return new ku(e,n)},Ru=Pu,Fu=function(t){return Promise.resolve(Pu(t))};let Mu=(()=>{class t{constructor(){this.compileModuleSync=Nu,this.compileModuleAsync=Du,this.compileModuleAndAllComponentsSync=Ru,this.compileModuleAndAllComponentsAsync=Fu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();const Lu=(()=>Promise.resolve(0))();function Vu(t){"undefined"==typeof Zone?Lu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Uu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nu(!1),this.onMicrotaskEmpty=new nu(!1),this.onStable=new nu(!1),this.onError=new nu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,zu(t),Hu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),zu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return Ku(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),$u(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return Ku(t),e.invoke(r,i,s,o,a)}finally{$u(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,zu(t),Hu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Uu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Uu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Bu,qu,qu);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function qu(){}const Bu={};function Hu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function zu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Ku(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function $u(t){t._nesting--,Hu(t)}class Gu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nu,this.onMicrotaskEmpty=new nu,this.onStable=new nu,this.onError=new nu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Qu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Uu.assertNotInAngularZone(),Vu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Vu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Ft(Uu))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})(),Wu=(()=>{class t{constructor(){this._applications=new Map,Zu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Zu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();class Ju{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Yu(t){Zu=t}let Xu,Zu=new Ju;const tc=new R("AllowMultipleToken");class ec{constructor(t,e){this.name=t,this.token=e}}function nc(t,e,n=[]){const r="Platform: "+e,i=new R(r);return(e=[])=>{let s=rc();if(!s||s.injector.get(tc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:hs,useValue:"platform"});!function(t){if(Xu&&!Xu.destroyed&&!Xu.injector.get(tc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Xu=t.get(ic);const e=t.get(Ou,null);e&&e.forEach(t=>t())}(Cs.create({providers:t,name:r}))}return function(t){const e=rc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function rc(){return Xu&&!Xu.destroyed?Xu:null}let ic=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Gu:("zone.js"===t?void 0:t)||new Uu({enableLongStackTrace:rn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Uu,useValue:n}];return n.run(()=>{const e=Cs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(xr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>ac(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return Ys(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(_u);return t.runInitializers(),t.donePromise.then(()=>(Uo(i.injector.get(xu,Lo)||Lo),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=sc({},e);return function(t,e,n){const r=new Ya(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(oc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${S(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Ft(Cs))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();function sc(t,e){return Array.isArray(e)?e.reduce(sc,t):Object.assign(Object.assign({},t),e)}let oc=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=rn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Uu.assertNotInAngularZone(),Vu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Uu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,d);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Wo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Pa),i=n.create(Cs.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(Qu,null);return s&&i.injector.get(Wu).registerApplication(i.location.nativeElement,s),this._loadComponent(i),rn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;ac(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Tu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),ac(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Ft(Uu),Ft(Iu),Ft(Cs),Ft(xr),Ft(Yo),Ft(_u))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();function ac(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class uc{}class cc{}const lc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let hc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||lc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>dc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>dc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Ft(Mu),Ft(cc,8))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();function dc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const fc=function(t){return null},pc=nc(null,"core",[{provide:Cu,useValue:"unknown"},{provide:ic,deps:[Cs]},{provide:Wu,deps:[]},{provide:Iu,deps:[]}]),gc=[{provide:oc,useClass:oc,deps:[Uu,Iu,Cs,xr,Yo,_u]},{provide:$a,deps:[Uu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:_u,useClass:_u,deps:[[new b,bu]]},{provide:Mu,useClass:Mu,deps:[]},Su,{provide:va,useFactory:function(){return Ia},deps:[]},{provide:ba,useFactory:function(){return xa},deps:[]},{provide:xu,useFactory:function(t){return Uo(t=t||"undefined"!=typeof $localize&&$localize.locale||Lo),t},deps:[[new v(xu),new b,new w]]},{provide:Au,useValue:"USD"}];let mc=(()=>{class t{constructor(t){}}return t.\u0275mod=mt({type:t}),t.\u0275inj=I({factory:function(e){return new(e||t)(Ft(oc))},providers:gc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n.d(e,"b",function(){return S}),n.d(e,"c",function(){return C}),n.d(e,"d",function(){return l}),n.d(e,"e",function(){return T}),n.d(e,"f",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"h",function(){return A}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return p}),n.d(e,"k",function(){return g}),n.d(e,"l",function(){return y}),n.d(e,"m",function(){return v}),n.d(e,"n",function(){return d}),n.d(e,"o",function(){return f}),n.d(e,"p",function(){return m}),n.d(e,"q",function(){return _}),n.d(e,"r",function(){return b});var r=n("30Go"),i=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,o||(l=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==u)throw Error();r.push(s<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},o=function(t){return function(t){var e=i(t);return s.encodeByteArray(e,!0)}(t).replace(/\./g,"")};function a(t){return u(void 0,t)}function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=u(t[n],e[n]));return t}var c=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function l(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[o(JSON.stringify({alg:"none",type:"JWT"})),o(JSON.stringify(a)),""].join(".")}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function f(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function p(){return"object"==typeof self&&self.self===self}function g(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return h().indexOf("Electron/")>=0}function v(){var t=h();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function b(){return h().indexOf("MSAppHost/")>=0}function _(){return!f()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var w=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,S.prototype.create),s}return Object(r.c)(e,t),e}(Error),S=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?E(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new w(i,a,r);return u},t}();function E(t,e){return t.replace(O,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var O=/\{\$([^}]+)}/g;function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function T(t,e){var n=new I(t,e);return n.subscribe.bind(n)}var I=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=x),void 0===r.error&&(r.error=x),void 0===r.complete&&(r.complete=x);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function x(){}function A(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return T}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return O}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return S});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(g.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),_=new u.O("6.1.3");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&E("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const S=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.U)()&&"undefined"!=typeof console&&console[t](...e)};function O(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const C={provide:class{},useFactory:w,deps:[v,u.z,[new u.A,b]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Hb({type:t}),t.\u0275inj=u.Gb({factory:function(e){return new(e||t)(u.Sb(u.B))},providers:[C]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const u={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class d extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new d(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=f){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=f)}static create(t,e=0,n=f){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,s=n("30Go"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=d),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}s(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.g)(u,s.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.g)(e,t)},createSubscribe:o.e,ErrorFactory:o.b,deepExtend:o.g}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.j)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.o)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.30",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyDIhG12JgNRrnJI9s3Z4BN3zIyT7evLHRE",authDomain:"empleados-bccc9.firebaseapp.com",databaseURL:"https://empleados-bccc9.firebaseio.com",projectId:"empleados-bccc9",storageBucket:"empleados-bccc9.appspot.com",messagingSenderId:"798540677359",appId:"1:798540677359:web:2965abdd8a76f72db09b1a"};let s=null;function o(){return s}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Sb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){d()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){d()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=Object(r.Fb)({factory:f,token:t,providedIn:"platform"}),t})();function d(){return!!window.history.pushState}function f(){return new h(Object(r.Sb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Sb)(a).location;return new _(Object(r.Sb)(u),e&&e.origin||"")}const b=new r.q("appBaseHref");let _=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(u),r.Sb(b,8))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(u),r.Sb(b,8))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),S=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(O(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,O(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(y),r.Sb(u))},t.normalizeQueryParams=m,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Fb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new S(Object(r.Sb)(y),Object(r.Sb)(u))}function O(t){return t.replace(/\/index.html$/,"")}var C=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const T=r.lb;class I{}let x=(()=>{class t extends I{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(T(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.u))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),A=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.ob)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.tb)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.s),r.Jb(r.t),r.Jb(r.l),r.Jb(r.D))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class k{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let j=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.U)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new k(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new N(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new N(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.P),r.Jb(r.K),r.Jb(r.s))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class N{constructor(t,e){this.record=t,this.view=e}}let D=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new P,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){R("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){R("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.P),r.Jb(r.K))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class P{constructor(){this.$implicit=null,this.ngIf=null}}function R(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}let F=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[{provide:I,useClass:x}]}),t})();function M(t){return"server"===t}let L=(()=>{class t{}return t.\u0275prov=Object(r.Fb)({token:t,providedIn:"root",factory:()=>new V(Object(r.Sb)(a),window,Object(r.Sb)(r.m))}),t})();class V{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=U(this.window.history)||U(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function U(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class q extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new q,s||(s=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=H||(H=document.querySelector("base"),H)?H.getAttribute("href"):null;return null==e?null:(n=e,B||(B=document.createElement("a")),B.setAttribute("href",n),"/"===B.pathname.charAt(0)?B.pathname:"/"+B.pathname);var n}resetBaseElement(){H=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let B,H=null;const z=new r.q("TRANSITION_ID"),K=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[z,a,r.r],multi:!0}];class ${static init(){Object(r.W)(new $)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const G=new r.q("EventManagerPlugins");let Q=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(G),r.Sb(r.z))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class W{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let J=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Y=(()=>{class t extends J{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const X={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Z=/%COMP%/g;function tt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?tt(t,i,n):(i=i.replace(Z,t),n.push(i))}return n}function et(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let nt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new rt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new it(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.Q.ShadowDom:return new st(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=tt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Q),r.Sb(Y),r.Sb(r.c))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class rt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(X[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=X[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=X[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.F.DashCase|r.F.Important)?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,et(n)):this.eventManager.addEventListener(t,e,et(n))}}class it extends rt{constructor(t,e,n,r){super(t),this.component=n;const i=tt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Z,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Z,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class st extends rt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=tt(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ot=(()=>{class t extends W{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const at=["alt","control","meta","shift"],ut={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ct={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},lt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ht=(()=>{class t extends W{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(at.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ct.hasOwnProperty(e)&&(e=ct[e]))}return ut[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),at.forEach(r=>{r!=n&&(0,lt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),dt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:function(){return Object(r.Sb)(ft)},token:t,providedIn:"root"}),t})(),ft=(()=>{class t extends dt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.H.NONE:return e;case r.H.HTML:return Object(r.cb)(e,"HTML")?Object(r.ub)(e):Object(r.ab)(this._doc,String(e));case r.H.STYLE:return Object(r.cb)(e,"Style")?Object(r.ub)(e):e;case r.H.SCRIPT:if(Object(r.cb)(e,"Script"))return Object(r.ub)(e);throw new Error("unsafe value used in a script context");case r.H.URL:return Object(r.mb)(e),Object(r.cb)(e,"URL")?Object(r.ub)(e):Object(r.bb)(String(e));case r.H.RESOURCE_URL:if(Object(r.cb)(e,"ResourceURL"))return Object(r.ub)(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.db)(t)}bypassSecurityTrustStyle(t){return Object(r.gb)(t)}bypassSecurityTrustScript(t){return Object(r.fb)(t)}bypassSecurityTrustUrl(t){return Object(r.hb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.eb)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=Object(r.Fb)({factory:function(){return t=Object(r.Sb)(r.o),new ft(t.get(a));var t},token:t,providedIn:"root"}),t})();const pt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){q.makeCurrent(),$.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],gt=Object(r.R)(r.V,"browser",pt),mt=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:G,useClass:ot,multi:!0,deps:[a,r.z,r.B]},{provide:G,useClass:ht,multi:!0,deps:[a]},[],{provide:nt,useClass:nt,deps:[Q,Y,r.c]},{provide:r.E,useExisting:nt},{provide:J,useExisting:Y},{provide:Y,useClass:Y,deps:[a]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:Q,useClass:Q,deps:[G,r.z]},[]];let yt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:z,useExisting:r.c},K]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)(r.Sb(t,12))},providers:mt,imports:[F,r.f]}),t})();"undefined"!=typeof window&&window;var vt=n("HDdC"),bt=n("DH7j"),_t=n("lJxs"),wt=n("XoHu"),St=n("Cfvw");function Et(t,e){return new vt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=Object(St.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Ot=new r.q("NgValueAccessor"),Ct={provide:Ot,useExisting:Object(r.T)(()=>Tt),multi:!0};let Tt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.xb([Ct])]}),t})();const It={provide:Ot,useExisting:Object(r.T)(()=>At),multi:!0},xt=new r.q("CompositionEventMode");let At=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l),r.Jb(xt,8))},t.\u0275dir=r.Eb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Vb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.xb([It])]}),t})();function kt(t){return null==t||0===t.length}function jt(t){return null!=t&&"number"==typeof t.length}const Nt=new r.q("NgValidators"),Dt=new r.q("NgAsyncValidators"),Pt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Rt{static min(t){return e=>{if(kt(e.value)||kt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(kt(e.value)||kt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return kt(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return kt(t.value)||Pt.test(t.value)?null:{email:!0}}static minLength(t){return e=>kt(e.value)||!jt(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>jt(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Rt.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(kt(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Ft);return 0==e.length?null:function(t){return Lt(Vt(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Ft);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(bt.a)(e))return Et(e,null);if(Object(wt.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Et(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Et(t=1===t.length&&Object(bt.a)(t[0])?t[0]:t,null).pipe(Object(_t.a)(t=>e(...t)))}return Et(t,null)}(Vt(t,e).map(Mt)).pipe(Object(_t.a)(Lt))}}}function Ft(t){return null!=t}function Mt(t){const e=Object(r.qb)(t)?Object(St.a)(t):t;return Object(r.pb)(e),e}function Lt(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Vt(t,e){return e.map(e=>e(t))}function Ut(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function qt(t){return null!=t?Rt.compose(Ut(t)):null}function Bt(t){return null!=t?Rt.composeAsync(Ut(t)):null}function Ht(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function zt(t){return t._rawValidators}function Kt(t){return t._rawAsyncValidators}let $t=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=qt(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Bt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t}),t})(),Gt=(()=>{class t extends $t{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Qt(e||t)},t.\u0275dir=r.Eb({type:t,features:[r.vb]}),t})();const Qt=r.Qb(Gt);class Wt extends $t{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Jt{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Yt=(()=>{class t extends Jt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Wt,2))},t.\u0275dir=r.Eb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Bb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),Xt=(()=>{class t extends Jt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Gt,2))},t.\u0275dir=r.Eb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Bb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();const Zt={provide:Ot,useExisting:Object(r.T)(()=>te),multi:!0};let te=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([Zt])]}),t})();const ee={provide:Ot,useExisting:Object(r.T)(()=>re),multi:!0};let ne=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),re=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Wt),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l),r.Jb(ne),r.Jb(r.r))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([ee])]}),t})();const ie={provide:Ot,useExisting:Object(r.T)(()=>se),multi:!0};let se=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([ie])]}),t})();const oe={provide:Ot,useExisting:Object(r.T)(()=>ue),multi:!0};function ae(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let ue=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=ae(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([oe])]}),t})(),ce=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(ae(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.l),r.Jb(r.D),r.Jb(ue,9))},t.\u0275dir=r.Eb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const le={provide:Ot,useExisting:Object(r.T)(()=>de),multi:!0};function he(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let de=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([le])]}),t})(),fe=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(he(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(he(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.l),r.Jb(r.D),r.Jb(de,9))},t.\u0275dir=r.Eb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function pe(t,e){return[...e.path,t]}function ge(t,e){ye(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&be(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&be(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function me(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ye(t,e,n){const r=zt(t);null!==e.validator?t.setValidators(Ht(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=Kt(t);if(null!==e.asyncValidator?t.setAsyncValidators(Ht(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();me(e._rawValidators,n),me(e._rawAsyncValidators,n)}}function ve(t,e,n){if(null!==t){if(null!==e.validator){const n=zt(t);Array.isArray(n)&&n.length>0&&t.setValidators(n.filter(t=>t!==e.validator))}if(null!==e.asyncValidator){const n=Kt(t);Array.isArray(n)&&n.length>0&&t.setAsyncValidators(n.filter(t=>t!==e.asyncValidator))}}if(n){const t=()=>{};me(e._rawValidators,t),me(e._rawAsyncValidators,t)}}function be(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function _e(t,e){ye(t,e,!1)}function we(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}const Se=[Tt,se,te,ue,de,re];function Ee(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===At?n=t:(e=t,Se.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}function Oe(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ce="VALID",Te="INVALID",Ie="PENDING",xe="DISABLED";function Ae(t){return(De(t)?t.validators:t)||null}function ke(t){return Array.isArray(t)?qt(t):t||null}function je(t,e){return(De(e)?e.asyncValidators:t)||null}function Ne(t){return Array.isArray(t)?Bt(t):t||null}function De(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Pe{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=ke(this._rawValidators),this._composedAsyncValidatorFn=Ne(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ce}get invalid(){return this.status===Te}get pending(){return this.status==Ie}get disabled(){return this.status===xe}get enabled(){return this.status!==xe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=ke(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Ne(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ie,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=xe,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ce,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Ce&&this.status!==Ie||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xe:Ce}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ie,this._hasOwnPendingAsyncValidator=!0;const e=Mt(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Fe?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Me&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?xe:this.errors?Te:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ie)?Ie:this._anyControlsHaveStatus(Te)?Te:Ce}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){De(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Re extends Pe{constructor(t=null,e,n){super(Ae(e),je(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Oe(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Oe(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Fe extends Pe{constructor(t,e,n){super(Ae(e),je(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Re?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Me extends Pe{constructor(t,e,n){super(Ae(e),je(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Re?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Le={provide:Wt,useExisting:Object(r.T)(()=>Ue)},Ve=(()=>Promise.resolve(null))();let Ue=(()=>{class t extends Wt{constructor(t,e,n,i){super(),this.control=new Re,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=Ee(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),we(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?pe(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ge(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Ve.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Ve.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Gt,9),r.Jb(Nt,10),r.Jb(Dt,10),r.Jb(Ot,10))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.xb([Le]),r.vb,r.wb]}),t})(),qe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Be=new r.q("NgModelWithFormControlWarning"),He={provide:Gt,useExisting:Object(r.T)(()=>ze)};let ze=(()=>{class t extends Gt{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return ge(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){Oe(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);_e(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);_e(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),ve(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}(t.control||null,t),e&&ge(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ye(this.form,this,!1),this._oldForm&&ve(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Nt,10),r.Jb(Dt,10))},t.\u0275dir=r.Eb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Vb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([He]),r.vb,r.wb]}),t})();const Ke={provide:Wt,useExisting:Object(r.T)(()=>$e)};let $e=(()=>{class t extends Wt{constructor(t,e,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=Ee(0,i)}set isDisabled(t){}ngOnChanges(e){var n,i;this._added||this._setUpControl(),we(e,this.viewModel)&&(n=t,this,i=this._ngModelWarningConfig,Object(r.U)()&&"never"!==i&&((null!==i&&"once"!==i||n._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return pe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Gt,13),r.Jb(Nt,10),r.Jb(Dt,10),r.Jb(Ot,10),r.Jb(Be,8))},t.\u0275dir=r.Eb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.xb([Ke]),r.vb,r.wb]}),t._ngModelWarningSentOnce=!1,t})(),Ge=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)}}),t})(),Qe=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Fe(n,{asyncValidators:i,updateOn:s,validators:r})}control(t,e,n){return new Re(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Me(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Re||t instanceof Fe||t instanceof Me?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),We=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[ne],imports:[Ge]}),t})(),Je=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Be,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[Qe,ne],imports:[Ge]}),t})();function Ye(t,e){if(1&t&&(r.Ob(0,"span"),r.lc(1),r.Nb()),2&t){const t=r.Xb();r.yb(1),r.mc(t._placeholder)}}function Xe(t,e){if(1&t){const t=r.Pb();r.Ob(0,"span",15),r.Ob(1,"span",16),r.Ob(2,"span"),r.lc(3),r.Nb(),r.Ob(4,"a",17),r.Vb("click",function(n){r.ec(t);const i=e.$implicit;return r.Xb().onItemClick(n,i)}),r.lc(5,"x"),r.Nb(),r.Nb(),r.Nb()}if(2&t){const t=e.$implicit,n=e.index,i=r.Xb();r.yb(1),r.ac("hidden",n>i._settings.itemsShowLimit-1),r.zb("title",t.tooltip),r.yb(2),r.nc("",t.text,"\xa0")}}function Ze(t,e){if(1&t&&(r.Ob(0,"span",18),r.lc(1),r.Nb()),2&t){const t=r.Xb();r.yb(1),r.nc("+",t.itemShowRemaining(),"")}}function tn(t,e){if(1&t){const t=r.Pb();r.Ob(0,"li",19),r.Vb("click",function(){return r.ec(t),r.Xb().toggleSelectAll()}),r.Kb(1,"input",20),r.Ob(2,"div"),r.lc(3),r.Nb(),r.Nb()}if(2&t){const t=r.Xb();r.yb(1),r.ac("checked",t.isAllItemsSelected())("disabled",t.disabled||t.isLimitSelectionReached()),r.yb(2),r.mc(t.isAllItemsSelected()?t._settings.unSelectAllText:t._settings.selectAllText)}}function en(t,e){if(1&t){const t=r.Pb();r.Ob(0,"li",21),r.Ob(1,"input",22),r.Vb("ngModelChange",function(e){return r.ec(t),r.Xb().filter.text=e})("ngModelChange",function(e){return r.ec(t),r.Xb().onFilterTextChange(e)}),r.Nb(),r.Nb()}if(2&t){const t=r.Xb();r.yb(1),r.ac("readOnly",t.disabled)("placeholder",t._settings.searchPlaceholderText)("ngModel",t.filter.text)}}function nn(t,e){if(1&t){const t=r.Pb();r.Ob(0,"li",23),r.Vb("click",function(n){r.ec(t);const i=e.$implicit;return r.Xb().onItemClick(n,i)}),r.Kb(1,"input",24),r.Ob(2,"div"),r.lc(3),r.Nb(),r.Nb()}if(2&t){const t=e.$implicit,n=r.Xb();r.zb("title",t.tooltip),r.yb(1),r.ac("checked",n.isSelected(t))("disabled",n.disabled||n.isLimitSelectionReached()&&!n.isSelected(t)||t.isDisabled),r.zb("aria-label",t.text),r.yb(2),r.mc(t.text)}}function rn(t,e){if(1&t&&(r.Ob(0,"li",25),r.Ob(1,"h5"),r.lc(2),r.Nb(),r.Nb()),2&t){const t=r.Xb();r.yb(2),r.mc(t._settings.noFilteredDataAvailablePlaceholderText)}}function sn(t,e){if(1&t&&(r.Ob(0,"li",26),r.Ob(1,"h5"),r.lc(2),r.Nb(),r.Nb()),2&t){const t=r.Xb();r.yb(2),r.mc(t._settings.noDataAvailablePlaceholderText)}}const on=function(t){return{"dropdown-multiselect--active":t}};class an{constructor(t){"string"!=typeof t&&"number"!=typeof t||(this.id=this.text=t,this.isDisabled=!1),"object"==typeof t&&(this.id=t.id,this.text=t.text,this.tooltip=t.tooltip,this.isDisabled=t.isDisabled)}}let un=(()=>{let t=class{transform(t,e){return t&&e?t.filter(t=>this.applyFilter(t,e)):t}applyFilter(t,e){return"string"==typeof t.text&&"string"==typeof e.text?!(e.text&&t.text&&-1===t.text.toLowerCase().indexOf(e.text.toLowerCase())):!(e.text&&t.text&&-1===t.text.toString().toLowerCase().indexOf(e.text.toString().toLowerCase()))}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Ib({name:"multiSelectFilter",type:t,pure:!1}),t})();const cn={provide:Ot,useExisting:Object(r.T)(()=>hn),multi:!0},ln=()=>{};let hn=(()=>{let t=class{constructor(t,e){this.listFilterPipe=t,this.cdr=e,this._data=[],this.selectedItems=[],this.isDropdownOpen=!0,this._placeholder="Select",this._sourceDataType=null,this._sourceDataFields=[],this.filter=new an(this.data),this.defaultSettings={singleSelection:!1,idField:"id",textField:"text",tooltipField:"tooltip",disabledField:"isDisabled",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",allowSearchFilter:!1,limitSelection:-1,clearSearchFilter:!0,maxHeight:197,itemsShowLimit:999999999999,searchPlaceholderText:"Search",noDataAvailablePlaceholderText:"No data available",noFilteredDataAvailablePlaceholderText:"No filtered data available",closeDropDownOnSelection:!1,showSelectedItemsAtTop:!1,defaultOpen:!1,allowRemoteDataSearch:!1},this.disabled=!1,this.onFilterChange=new r.n,this.onDropDownClose=new r.n,this.onSelect=new r.n,this.onDeSelect=new r.n,this.onSelectAll=new r.n,this.onDeSelectAll=new r.n,this.onTouchedCallback=ln,this.onChangeCallback=ln}set placeholder(t){this._placeholder=t||"Select"}set settings(t){this._settings=t?Object.assign(this.defaultSettings,t):Object.assign(this.defaultSettings)}set data(t){if(t){const e=t[0];this._sourceDataType=typeof e,this._sourceDataFields=this.getFields(e),this._data=t.map(t=>this.deobjectify(t))}else this._data=[]}onFilterTextChange(t){this.onFilterChange.emit(t)}onItemClick(t,e){if(this.disabled||e.isDisabled)return!1;const n=this.isSelected(e),r=-1===this._settings.limitSelection||this._settings.limitSelection>0&&this.selectedItems.length<this._settings.limitSelection;n?this.removeSelected(e):r&&this.addSelected(e),this._settings.singleSelection&&this._settings.closeDropDownOnSelection&&this.closeDropdown()}writeValue(t){if(null!=t&&t.length>0)if(this._settings.singleSelection)try{t.length>=1&&(this.selectedItems=[this.deobjectify(t[0])])}catch(V_){}else{const e=t.map(t=>this.deobjectify(t));this.selectedItems=this._settings.limitSelection>0?e.splice(0,this._settings.limitSelection):e}else this.selectedItems=[];this.onChangeCallback(t),this.cdr.markForCheck()}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}onTouched(){this.onTouchedCallback()}trackByFn(t,e){return e.id}isSelected(t){let e=!1;return this.selectedItems.forEach(n=>{t.id===n.id&&(e=!0)}),e}isLimitSelectionReached(){return this._settings.limitSelection===this.selectedItems.length}isAllItemsSelected(){let t=this.listFilterPipe.transform(this._data,this.filter);const e=t.filter(t=>t.isDisabled).length;return!((!this.data||0===this.data.length)&&this._settings.allowRemoteDataSearch)&&t.length===this.selectedItems.length+e}showButton(){return!(this._settings.singleSelection||this._settings.limitSelection>0)}itemShowRemaining(){return this.selectedItems.length-this._settings.itemsShowLimit}addSelected(t){this._settings.singleSelection?(this.selectedItems=[],this.selectedItems.push(t)):this.selectedItems.push(t),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onSelect.emit(this.emittedValue(t))}removeSelected(t){this.selectedItems.forEach(e=>{t.id===e.id&&this.selectedItems.splice(this.selectedItems.indexOf(e),1)}),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onDeSelect.emit(this.emittedValue(t))}emittedValue(t){const e=[];if(Array.isArray(t))t.map(t=>{e.push(this.objectify(t))});else if(t)return this.objectify(t);return e}objectify(t){if("object"===this._sourceDataType){const e={};return e[this._settings.idField]=t.id,e[this._settings.textField]=t.text,this._sourceDataFields.includes(this._settings.disabledField)&&(e[this._settings.disabledField]=t.isDisabled),this._sourceDataFields.includes(this._settings.tooltipField)&&(e[this._settings.tooltipField]=t.tooltip),e}return"number"===this._sourceDataType?Number(t.id):t.text}deobjectify(t){return new an("string"==typeof t||"number"==typeof t?t:{id:t[this._settings.idField],text:t[this._settings.textField],tooltip:t[this._settings.tooltipField],isDisabled:t[this._settings.disabledField]})}toggleDropdown(t){t.preventDefault(),this.disabled&&this._settings.singleSelection||(this._settings.defaultOpen=!this._settings.defaultOpen,this._settings.defaultOpen||this.onDropDownClose.emit())}closeDropdown(){this._settings.defaultOpen=!1,this._settings.clearSearchFilter&&(this.filter.text=""),this.onDropDownClose.emit()}toggleSelectAll(){if(this.disabled)return!1;this.isAllItemsSelected()?(this.selectedItems=[],this.onDeSelectAll.emit(this.emittedValue(this.selectedItems))):(this.selectedItems=this.listFilterPipe.transform(this._data,this.filter).filter(t=>!t.isDisabled).slice(),this.onSelectAll.emit(this.emittedValue(this.selectedItems))),this.onChangeCallback(this.emittedValue(this.selectedItems))}getFields(t){const e=[];if("object"!=typeof t)return e;for(const n in t)e.push(n);return e}};return t.\u0275fac=function(e){return new(e||t)(r.Jb(un),r.Jb(r.h))},t.\u0275cmp=r.Db({type:t,selectors:[["ng-multiselect-dropdown"]],hostBindings:function(t,e){1&t&&r.Vb("blur",function(){return e.onTouched()})},inputs:{disabled:"disabled",placeholder:"placeholder",settings:"settings",data:"data"},outputs:{onFilterChange:"onFilterChange",onDropDownClose:"onDropDownClose",onSelect:"onSelect",onDeSelect:"onDeSelect",onSelectAll:"onSelectAll",onDeSelectAll:"onDeSelectAll"},features:[r.xb([cn])],decls:18,vars:23,consts:[["tabindex","0",1,"multiselect-dropdown",3,"blur","clickOutside"],["tabindex","-1",1,"dropdown-btn",3,"click"],[4,"ngIf"],["class","selected-item-container",4,"ngFor","ngForOf","ngForTrackBy"],[2,"float","right !important","padding-right","4px",3,"ngClass"],["style","padding-right: 15px;",4,"ngIf"],[1,"dropdown-multiselect__caret"],[1,"dropdown-list",3,"hidden"],[1,"item1"],["class","multiselect-item-checkbox","style","border-bottom: 1px solid #ccc;padding:10px",3,"click",4,"ngIf"],["class","filter-textbox",4,"ngIf"],[1,"item2"],["class","multiselect-item-checkbox",3,"click",4,"ngFor","ngForOf"],["class","no-filtered-data",4,"ngIf"],["class","no-data",4,"ngIf"],[1,"selected-item-container"],[1,"selected-item",3,"hidden"],[2,"padding-left","2px","color","white",3,"click"],[2,"padding-right","15px"],[1,"multiselect-item-checkbox",2,"border-bottom","1px solid #ccc","padding","10px",3,"click"],["type","checkbox","aria-label","multiselect-select-all",3,"checked","disabled"],[1,"filter-textbox"],["type","text","aria-label","multiselect-search",3,"readOnly","placeholder","ngModel","ngModelChange"],[1,"multiselect-item-checkbox",3,"click"],["type","checkbox",3,"checked","disabled"],[1,"no-filtered-data"],[1,"no-data"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Vb("blur",function(){return e.onTouched()})("clickOutside",function(){return e.closeDropdown()}),r.Ob(1,"div"),r.Ob(2,"span",1),r.Vb("click",function(t){return e.toggleDropdown(t)}),r.kc(3,Ye,2,1,"span",2),r.kc(4,Xe,6,3,"span",3),r.Ob(5,"span",4),r.kc(6,Ze,2,1,"span",5),r.Kb(7,"span",6),r.Nb(),r.Nb(),r.Nb(),r.Ob(8,"div",7),r.Ob(9,"ul",8),r.kc(10,tn,4,3,"li",9),r.kc(11,en,2,3,"li",10),r.Nb(),r.Ob(12,"ul",11),r.kc(13,nn,4,5,"li",12),r.Yb(14,"multiSelectFilter"),r.kc(15,rn,3,1,"li",13),r.Yb(16,"multiSelectFilter"),r.kc(17,sn,3,1,"li",14),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.yb(1),r.Bb("disabled",e.disabled),r.yb(2),r.ac("ngIf",0==e.selectedItems.length),r.yb(1),r.ac("ngForOf",e.selectedItems)("ngForTrackBy",e.trackByFn),r.yb(1),r.ac("ngClass",r.bc(21,on,e._settings.defaultOpen)),r.yb(1),r.ac("ngIf",e.itemShowRemaining()>0),r.yb(2),r.ac("hidden",!e._settings.defaultOpen),r.yb(2),r.ac("ngIf",(e._data.length>0||e._settings.allowRemoteDataSearch)&&!e._settings.singleSelection&&e._settings.enableCheckAll&&-1===e._settings.limitSelection),r.yb(1),r.ac("ngIf",(e._data.length>0||e._settings.allowRemoteDataSearch)&&e._settings.allowSearchFilter),r.yb(1),r.ic("max-height",e._settings.maxHeight+"px"),r.yb(1),r.ac("ngForOf",r.Zb(14,15,e._data,e.filter)),r.yb(2),r.ac("ngIf",0!=e._data.length&&0==r.Zb(16,18,e._data,e.filter).length&&!e._settings.allowRemoteDataSearch),r.yb(2),r.ac("ngIf",0==e._data.length&&!e._settings.allowRemoteDataSearch))},directives:function(){return[dn,D,j,A,At,Yt,Ue]},pipes:function(){return[un]},styles:['.multiselect-dropdown[_ngcontent-%COMP%]{position:relative;width:100%;font-size:inherit;font-family:inherit}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]{display:inline-block;border:1px solid #adadad;width:100%;padding:6px 12px;margin-bottom:0;font-weight:400;line-height:1.52857143;text-align:left;vertical-align:middle;cursor:pointer;background-image:none;border-radius:4px}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item-container[_ngcontent-%COMP%]{display:flex;float:left;max-width:93%}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item-container[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]{border:1px solid #337ab7;margin-right:4px;margin-bottom:4px;background:#337ab7;padding:0 5px;color:#fff;border-radius:2px;float:left}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item-container[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item-container[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]:hover{box-shadow:1px 1px #959595}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]{line-height:16px;display:block;position:absolute;box-sizing:border-box;width:40px;height:38px;right:1px;top:0;padding:4px 8px;margin:0;text-decoration:none;text-align:center;cursor:pointer;transition:transform .2s}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]:before{position:relative;right:0;top:65%;color:#999;margin-top:4px;border-style:solid;border-width:8px 8px 0;border-color:#999 transparent;content:""}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect--active[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]{transform:rotateZ(180deg)}.multiselect-dropdown[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:#eceeef}.dropdown-list[_ngcontent-%COMP%]{position:absolute;padding-top:6px;width:100%;z-index:9999;border:1px solid #ccc;border-radius:3px;background:#fff;margin-top:10px;box-shadow:0 1px 5px #959595}.dropdown-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none;overflow:auto;margin:0}.dropdown-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px 10px;cursor:pointer;text-align:left}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;position:relative;padding:10px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;width:100%;padding:0 0 0 26px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:0}.multiselect-item-checkbox[_ngcontent-%COMP%]:hover{background-color:#e4e3e3}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus + div[_ngcontent-%COMP%]:before, .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:hover + div[_ngcontent-%COMP%]:before{border-color:#337ab7;background-color:#f2f2f2}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:active + div[_ngcontent-%COMP%]:before{transition-duration:0s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{position:relative;padding-left:2em;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;margin:0;color:#000}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:before{box-sizing:content-box;content:"";color:#337ab7;position:absolute;top:50%;left:0;width:14px;height:14px;margin-top:-9px;border:2px solid #337ab7;text-align:center;transition:.4s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:after{box-sizing:content-box;content:"";position:absolute;transform:scale(0);transform-origin:50%;transition:transform .2s ease-out;background-color:transparent;top:50%;left:4px;width:8px;height:3px;margin-top:-4px;border-style:solid;border-color:#fff;border-width:0 0 3px 3px;-o-border-image:none;border-image:none;transform:rotate(-45deg) scale(0)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled + div[_ngcontent-%COMP%]:before{border-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:focus + div[_ngcontent-%COMP%]:before   .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:hover + div[_ngcontent-%COMP%]:before{background-color:inherit}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:checked + div[_ngcontent-%COMP%]:before{background-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:after{content:"";transition:transform .2s ease-out;transform:rotate(-45deg) scale(1)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:before{-webkit-animation:.2s ease-in borderscale;animation:.2s ease-in borderscale;background:#337ab7}@-webkit-keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}@keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}'],changeDetection:0}),t})(),dn=(()=>{let t=class{constructor(t){this._elementRef=t,this.clickOutside=new r.n}onClick(t,e){e&&(this._elementRef.nativeElement.contains(e)||this.clickOutside.emit(t))}};return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["","clickOutside",""]],hostBindings:function(t,e){1&t&&r.Vb("click",function(t){return e.onClick(t,t.target)},!1,r.dc)},outputs:{clickOutside:"clickOutside"}}),t})();var fn;let pn=(()=>{let t=fn=class{static forRoot(){return{ngModule:fn}}};return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[un],imports:[[F,We]]}),t})();var gn=n("LRne"),mn=n("XNiG"),yn=n("9ppp");class vn extends mn.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new yn.a;return this._value}next(t){super.next(this._value=t)}}var bn=n("z+Ro"),_n=n("7o/Q");class wn extends _n.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Sn extends _n.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var En=n("SeVD");function On(t,e,n,r,i=new Sn(t,n,r)){if(!i.closed)return e instanceof vt.a?e.subscribe(i):Object(En.a)(e)(i)}var Cn=n("yCtX");const Tn={};class In{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new xn(t,this.resultSelector))}}class xn extends wn{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Tn),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(On(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Tn?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const An=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var kn=n("EY2u");function jn(t){return new vt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(St.a)(n):Object(kn.b)()).subscribe(e)})}var Nn=n("bHdf");function Dn(){return Object(Nn.a)(1)}function Pn(t,e){return function(n){return n.lift(new Rn(t,e))}}class Rn{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Fn(t,this.predicate,this.thisArg))}}class Fn extends _n.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Mn=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Ln(t){return function(e){return 0===t?Object(kn.b)():e.lift(new Vn(t))}}class Vn{constructor(t){if(this.total=t,this.total<0)throw new Mn}call(t,e){return e.subscribe(new Un(t,this.total))}}class Un extends _n.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function qn(t=zn){return e=>e.lift(new Bn(t))}class Bn{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Hn(t,this.errorFactory))}}class Hn extends _n.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(V_){t=V_}this.destination.error(t)}}}function zn(){return new An}function Kn(t=null){return e=>e.lift(new $n(t))}class $n{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Gn(t,this.defaultValue))}}class Gn extends _n.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Qn=n("SpAZ"),Wn=n("zx2A");function Jn(t,e){return"function"==typeof e?n=>n.pipe(Jn((n,r)=>Object(St.a)(t(n,r)).pipe(Object(_t.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Yn(t))}class Yn{constructor(t){this.project=t}call(t,e){return e.subscribe(new Xn(t,this.project))}}class Xn extends Wn.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Wn.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Wn.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function Zn(t){return e=>0===t?Object(kn.b)():e.lift(new tr(t))}class tr{constructor(t){if(this.total=t,this.total<0)throw new Mn}call(t,e){return e.subscribe(new er(t,this.total))}}class er extends _n.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function nr(...t){return Dn()(Object(gn.a)(...t))}function rr(...t){const e=t[t.length-1];return Object(bn.a)(e)?(t.pop(),n=>nr(t,n,e)):e=>nr(t,e)}function ir(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new sr(t,e,n))}}class sr{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new or(t,this.accumulator,this.seed,this.hasSeed))}}class or extends _n.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ar(t){return function(e){const n=new ur(t),r=e.lift(n);return n.caught=r}}class ur{constructor(t){this.selector=t}call(t,e){return e.subscribe(new cr(t,this.selector,this.caught))}}class cr extends Wn.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Wn.a(this);this.add(r);const i=Object(Wn.c)(n,r);i!==r&&this.add(i)}}}var lr=n("5+tZ");function hr(t,e){return Object(lr.a)(t,e,1)}function dr(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Pn((e,n)=>t(e,n,r)):Qn.a,Zn(1),n?Kn(e):qn(()=>new An))}var fr=n("vkgz"),pr=n("quSY");class gr{constructor(t){this.callback=t}call(t,e){return e.subscribe(new mr(t,this.callback))}}class mr extends _n.a{constructor(t,e){super(t),this.add(new pr.a(e))}}class yr{constructor(t,e){this.id=t,this.url=e}}class vr extends yr{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class br extends yr{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _r extends yr{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wr extends yr{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Sr extends yr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Er extends yr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Or extends yr{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Cr extends yr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tr extends yr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ir{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xr{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ar{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kr{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jr{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nr{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dr{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Pr="primary";class Rr{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Fr(t){return new Rr(t)}function Mr(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Lr(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Vr(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Ur(t[i],e[i]))return!1;return!0}function Ur(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function qr(t){return Array.prototype.concat.apply([],t)}function Br(t){return t.length>0?t[t.length-1]:null}function Hr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function zr(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(St.a)(Promise.resolve(t)):Object(gn.a)(t)}function Kr(t,e,n){return n?function(t,e){return Vr(t,e)}(t.queryParams,e.queryParams)&&$r(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Ur(t[n],e[n]))}(t.queryParams,e.queryParams)&&Gr(t.root,e.root)}function $r(t,e){if(!Xr(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!$r(t.children[n],e.children[n]))return!1}return!0}function Gr(t,e){return Qr(t,e,e.segments)}function Qr(t,e,n){if(t.segments.length>n.length)return!!Xr(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Xr(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Gr(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Xr(t.segments,r)&&!!t.children.primary&&Qr(t.children.primary,e,i)}}class Wr{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fr(this.queryParams)),this._queryParamMap}toString(){return ni.serialize(this)}}class Jr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Hr(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ri(this)}}class Yr{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Fr(this.parameters)),this._parameterMap}toString(){return li(this)}}function Xr(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Zr(t,e){let n=[];return Hr(t.children,(t,r)=>{r===Pr&&(n=n.concat(e(t,r)))}),Hr(t.children,(t,r)=>{r!==Pr&&(n=n.concat(e(t,r)))}),n}class ti{}class ei{parse(t){const e=new gi(t);return new Wr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+ii(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${oi(e)}=${oi(t)}`).join("&"):`${oi(e)}=${oi(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const ni=new ei;function ri(t){return t.segments.map(t=>li(t)).join("/")}function ii(t,e){if(!t.hasChildren())return ri(t);if(e){const e=t.children.primary?ii(t.children.primary,!1):"",n=[];return Hr(t.children,(t,e)=>{e!==Pr&&n.push(`${e}:${ii(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=Zr(t,(e,n)=>n===Pr?[ii(t.children.primary,!1)]:[`${n}:${ii(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${ri(t)}/${e[0]}`:`${ri(t)}/(${e.join("//")})`}}function si(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oi(t){return si(t).replace(/%3B/gi,";")}function ai(t){return si(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ui(t){return decodeURIComponent(t)}function ci(t){return ui(t.replace(/\+/g,"%20"))}function li(t){return`${ai(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${ai(t)}=${ai(e[t])}`).join("")}`;var e}const hi=/^[^\/()?;=#]+/;function di(t){const e=t.match(hi);return e?e[0]:""}const fi=/^[^=?&#]+/,pi=/^[^?&#]+/;class gi{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jr([],{}):new Jr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Jr(t,e)),n}parseSegment(){const t=di(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Yr(ui(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=di(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=di(this.remaining);t&&(n=t,this.capture(n))}t[ui(e)]=ui(n)}parseQueryParam(t){const e=function(t){const e=t.match(fi);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(pi);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=ci(e),i=ci(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=di(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Pr);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new Jr([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class mi{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=yi(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=yi(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=vi(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return vi(t,this._root).map(t=>t.value)}}function yi(t,e){if(t===e.value)return e;for(const n of e.children){const e=yi(t,n);if(e)return e}return null}function vi(t,e){if(t===e.value)return[e];for(const n of e.children){const r=vi(t,n);if(r.length)return r.unshift(e),r}return[]}class bi{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function _i(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class wi extends mi{constructor(t,e){super(t),this.snapshot=e,Ii(this,t)}toString(){return this.snapshot.toString()}}function Si(t,e){const n=function(t,e){const n=new Ci([],{},{},"",{},Pr,e,null,t.root,-1,{});return new Ti("",new bi(n,[]))}(t,e),r=new vn([new Yr("",{})]),i=new vn({}),s=new vn({}),o=new vn({}),a=new vn(""),u=new Ei(r,i,o,a,s,Pr,e,n.root);return u.snapshot=n.root,new wi(new bi(u,[]),n)}class Ei{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(_t.a)(t=>Fr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(_t.a)(t=>Fr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Oi(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ci{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Fr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ti extends mi{constructor(t,e){super(e),this.url=t,Ii(this,e)}toString(){return xi(this._root)}}function Ii(t,e){e.value._routerState=t,e.children.forEach(e=>Ii(t,e))}function xi(t){const e=t.children.length>0?` { ${t.children.map(xi).join(", ")} } `:"";return`${t.value}${e}`}function Ai(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Vr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Vr(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Vr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Vr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ki(t,e){return Vr(t.params,e.params)&&function(t,e){return Xr(t,e)&&t.every((t,n)=>Vr(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||ki(t.parent,e.parent))}function ji(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return ji(t,e,r);return ji(t,e)})}(t,e,n);return new bi(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Ni(e,t),t}{const n=new Ei(new vn((r=e.value).url),new vn(r.params),new vn(r.queryParams),new vn(r.fragment),new vn(r.data),r.outlet,r.component,r),i=e.children.map(e=>ji(t,e));return new bi(n,i)}}var r}function Ni(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Ni(t.children[n],e.children[n])}function Di(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Pi(t){return"object"==typeof t&&null!=t&&t.outlets}function Ri(t,e,n,r,i){let s={};return r&&Hr(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Wr(n.root===t?e:Fi(n.root,t,e),s,i)}function Fi(t,e,n){const r={};return Hr(t.children,(t,i)=>{r[i]=t===e?n:Fi(t,e,n)}),new Jr(t.segments,r)}class Mi{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Di(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Pi);if(r&&r!==Br(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Li{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Vi(t,e,n){if(t||(t=new Jr([],{})),0===t.segments.length&&t.hasChildren())return Ui(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(Pi(o))break;const a=""+o,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!zi(a,u,e))return s;r+=2}else{if(!zi(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Jr(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Jr(t.segments.slice(r.pathIndex),t.children),Ui(e,0,i)}return r.match&&0===i.length?new Jr(t.segments,{}):r.match&&!t.hasChildren()?qi(t,e,n):r.match?Ui(t,0,i):qi(t,e,n)}function Ui(t,e,n){if(0===n.length)return new Jr(t.segments,{});{const r=function(t){return Pi(t[0])?t[0].outlets:{[Pr]:t}}(n),i={};return Hr(r,(n,r)=>{null!==n&&(i[r]=Vi(t.children[r],e,n))}),Hr(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Jr(t.segments,i)}}function qi(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Pi(s)){const t=Bi(s.outlets);return new Jr(r,t)}if(0===i&&Di(n[0])){r.push(new Yr(t.segments[e].path,n[0])),i++;continue}const o=Pi(s)?s.outlets.primary:""+s,a=i<n.length-1?n[i+1]:null;o&&a&&Di(a)?(r.push(new Yr(o,Hi(a))),i+=2):(r.push(new Yr(o,{})),i++)}return new Jr(r,{})}function Bi(t){const e={};return Hr(t,(t,n)=>{null!==t&&(e[n]=qi(new Jr([],{}),0,t))}),e}function Hi(t){const e={};return Hr(t,(t,n)=>e[n]=""+t),e}function zi(t,e,n){return t==n.path&&Vr(e,n.parameters)}class Ki{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Ai(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=_i(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Hr(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=_i(t),i=t.value.component?n.children:e;Hr(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=_i(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Nr(t.value.snapshot))}),t.children.length&&this.forwardEvent(new kr(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Ai(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),$i(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function $i(t){Ai(t.value),t.children.forEach($i)}class Gi{constructor(t,e){this.routes=t,this.module=e}}function Qi(t){return"function"==typeof t}function Wi(t){return t instanceof Wr}const Ji=Symbol("INITIAL_VALUE");function Yi(){return Jn(t=>function(...t){let e=void 0,n=void 0;return Object(bn.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(bt.a)(t[0])&&(t=t[0]),Object(Cn.a)(t,n).lift(new In(e))}(...t.map(t=>t.pipe(Zn(1),rr(Ji)))).pipe(ir((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Ji)return t;if(r===Ji&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Wi(r))return r}return t},t)},Ji),Pn(t=>t!==Ji),Object(_t.a)(t=>Wi(t)?t:!0===t),Zn(1)))}let Xi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Kb(0,"router-outlet")},directives:function(){return[Ks]},encapsulation:2}),t})();function Zi(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];ts(r,es(e,r))}}function ts(t,e){t.children&&Zi(t.children,e)}function es(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function ns(t){const e=t.children&&t.children.map(ns),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Pr&&(n.component=Xi),n}function rs(t){return t.outlet||Pr}class is{constructor(t){this.segmentGroup=t||null}}class ss{constructor(t){this.urlTree=t}}function os(t){return new vt.a(e=>e.error(new is(t)))}function as(t){return new vt.a(e=>e.error(new ss(t)))}function us(t){return new vt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class cs{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Pr).pipe(Object(_t.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(ar(t=>{if(t instanceof ss)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof is)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Pr).pipe(Object(_t.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(ar(t=>{if(t instanceof is)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Jr([],{[Pr]:t}):t;return new Wr(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(_t.a)(t=>new Jr([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(gn.a)({});const n=[],r=[],i={};return Hr(t,(t,s)=>{const o=e(s,t).pipe(Object(_t.a)(t=>i[s]=t));s===Pr?n.push(o):r.push(o)}),gn.a.apply(null,n.concat(r)).pipe(Dn(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Pn((e,n)=>t(e,n,r)):Qn.a,Ln(1),n?Kn(e):qn(()=>new An))}(),Object(_t.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){const o=function(t){return t.reduce((t,e)=>{const n=rs(e);return t.has(n)?t.get(n).push(e):t.set(n,[e]),t},new Map)}(n);o.has(i)||o.set(i,[]);const a=n=>Object(St.a)(n).pipe(hr(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(ar(t=>{if(t instanceof is)return Object(gn.a)(null);throw t}))),dr(t=>null!==t),ar(t=>{if(t instanceof An||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(gn.a)(new Jr([],{}));throw new is(e)}throw t})),u=Array.from(o.entries()).map(([t,e])=>{const n=a(e);return t===i?n:n.pipe(Object(_t.a)(()=>null),ar(()=>Object(gn.a)(null)))});return Object(St.a)(u).pipe(t=>t.lift(new In(void 0)),dr(),Object(_t.a)(t=>t.find(t=>null!==t)))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return rs(r)!==s&&""!==r.path?os(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):os(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?as(i):this.lineralizeSegments(n,i).pipe(Object(lr.a)(n=>{const i=new Jr(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=ls(e,r,i);if(!o)return os(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?as(l):this.lineralizeSegments(r,l).pipe(Object(lr.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(_t.a)(t=>(n._loadedConfig=t,new Jr(r,{})))):Object(gn.a)(new Jr(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=ls(e,n,r);if(!i)return os(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(Object(lr.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>ds(t,e,n)&&rs(n)!==Pr)}(t,n,r)?{segmentGroup:hs(new Jr(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&rs(r)!==Pr&&(n[rs(r)]=new Jr([],{}));return n}(r,new Jr(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>ds(t,e,n))}(t,n,r)?{segmentGroup:hs(new Jr(t.segments,function(t,e,n,r){const i={};for(const s of n)ds(t,e,s)&&!r[rs(s)]&&(i[rs(s)]=new Jr([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(_t.a)(t=>new Jr(s,t))):0===r.length&&0===o.length?Object(gn.a)(new Jr(s,{})):this.expandSegment(n,i,r,o,Pr,!0).pipe(Object(_t.a)(t=>new Jr(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(gn.a)(new Gi(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(gn.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(lr.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(_t.a)(t=>(e._loadedConfig=t,t))):function(t){return new vt.a(e=>e.error(Mr(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(gn.a)(new Gi([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(gn.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&Qi(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!Qi(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return zr(s)});return Object(gn.a)(i).pipe(Yi(),Object(fr.a)(t=>{if(!Wi(t))return;const e=Mr(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(_t.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(gn.a)(n);if(r.numberOfChildren>1||!r.children.primary)return us(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Wr(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Hr(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return Hr(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new Jr(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function ls(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Lr)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function hs(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Jr(t.segments.concat(e.segments),e.children)}return t}function ds(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}class fs{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ps{constructor(t,e){this.component=t,this.route=e}}function gs(t,e,n){const r=t._root;return ys(r,e?e._root:null,n,[r.value])}function ms(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function ys(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=_i(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Xr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Xr(t.url,e.url)||!Vr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ki(t,e)||!Vr(t.queryParams,e.queryParams);case"paramsChange":default:return!ki(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new fs(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ys(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ps(a.outlet.component,o))}else o&&vs(e,a,i),i.canActivateChecks.push(new fs(r)),ys(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),Hr(s,(t,e)=>vs(t,n.getContext(e),i)),i}function vs(t,e,n){const r=_i(t),i=t.value;Hr(r,(t,r)=>{vs(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new ps(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function bs(t,e){return null!==t&&e&&e(new jr(t)),Object(gn.a)(!0)}function _s(t,e){return null!==t&&e&&e(new Ar(t)),Object(gn.a)(!0)}function ws(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(gn.a)(!0);const i=r.map(r=>jn(()=>{const i=ms(r,e,n);let s;if(function(t){return t&&Qi(t.canActivate)}(i))s=zr(i.canActivate(e,t));else{if(!Qi(i))throw new Error("Invalid CanActivate guard");s=zr(i(e,t))}return s.pipe(dr())}));return Object(gn.a)(i).pipe(Yi())}function Ss(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>jn(()=>{const i=e.guards.map(i=>{const s=ms(i,e.node,n);let o;if(function(t){return t&&Qi(t.canActivateChild)}(s))o=zr(s.canActivateChild(r,t));else{if(!Qi(s))throw new Error("Invalid CanActivateChild guard");o=zr(s(r,t))}return o.pipe(dr())});return Object(gn.a)(i).pipe(Yi())}));return Object(gn.a)(i).pipe(Yi())}class Es{}class Os{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=Is(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Pr),n=new Ci([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Pr,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new bi(n,e),i=new Ti(this.url,r);return this.inheritParamsAndData(i._root),Object(gn.a)(i)}catch(V_){return new vt.a(e=>e.error(V_))}}inheritParamsAndData(t){const e=t.value,n=Oi(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Zr(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===Pr?-1:e.value.outlet===Pr?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(V_){if(!(V_ instanceof Es))throw V_}if(this.noLeftoversInUrl(e,n,r))return[];throw new Es}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Es;if((t.outlet||Pr)!==r)throw new Es;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?Br(n).parameters:{};i=new Ci(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ks(t),r,t.component,t,Cs(e),Ts(e)+n.length,js(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Es;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Lr)(n,t,e);if(!r)throw new Es;const i={};Hr(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new Ci(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ks(t),r,t.component,t,Cs(e),Ts(e)+s.length,js(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Is(e,s,o,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new bi(i,t)]}if(0===a.length&&0===c.length)return[new bi(i,[])];const l=this.processSegment(a,u,c,Pr);return[new bi(i,l)]}}function Cs(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ts(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Is(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>xs(t,e,n)&&As(n)!==Pr)}(t,n,r)){const i=new Jr(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&As(s)!==Pr){const n=new Jr([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[As(s)]=n}return i}(t,e,r,new Jr(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>xs(t,e,n))}(t,n,r)){const s=new Jr(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(xs(t,n,a)&&!i[As(a)]){const n=new Jr([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[As(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Jr(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function xs(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function As(t){return t.outlet||Pr}function ks(t){return t.data||{}}function js(t){return t.resolve||{}}function Ns(t){return function(e){return e.pipe(Jn(e=>{const n=t(e);return n?Object(St.a)(n).pipe(Object(_t.a)(()=>e)):Object(St.a)([e])}))}}class Ds extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Ps=new r.q("ROUTES");class Rs{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(_t.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Gi(qr(r.injector.get(Ps)).map(ns),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(St.a)(this.loader.load(t)):zr(t()).pipe(Object(lr.a)(t=>t instanceof r.v?Object(gn.a)(t):Object(St.a)(this.compiler.compileModuleAsync(t))))}}class Fs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ms,this.attachRef=null}}class Ms{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Fs,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Ls{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Vs(t){throw t}function Us(t,e,n){return e.parse("/")}function qs(t,e){return Object(gn.a)(null)}let Bs=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new mn.a,this.errorHandler=Vs,this.malformedUriErrorHandler=Us,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:qs,afterPreactivation:qs},this.urlHandlingStrategy=new Ls,this.routeReuseStrategy=new Ds,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.x),this.console=s.get(r.X);const c=s.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new Wr(new Jr([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Rs(o,a,t=>this.triggerEvent(new Ir(t)),t=>this.triggerEvent(new xr(t))),this.routerState=Si(this.currentUrlTree,this.rootComponentType),this.transitions=new vn({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Pn(t=>0!==t.id),Object(_t.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Jn(t=>{let n=!1,r=!1;return Object(gn.a)(t).pipe(Object(fr.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Jn(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(gn.a)(t).pipe(Jn(t=>{const n=this.transitions.getValue();return e.next(new vr(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?kn.a:[t]}),Jn(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(Jn(t=>function(t,e,n,r,i){return new cs(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(_t.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(fr.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(lr.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new Os(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(_t.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(fr.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(fr.a)(t=>{const n=new Sr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new vr(n,this.serializeUrl(r),i,s);e.next(a);const u=Si(r,this.rootComponentType).snapshot;return Object(gn.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),kn.a}),Ns(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(fr.a)(t=>{const e=new Er(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(_t.a)(t=>Object.assign(Object.assign({},t),{guards:gs(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(lr.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(gn.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(St.a)(t).pipe(Object(lr.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(gn.a)(!0);const o=s.map(s=>{const o=ms(s,e,i);let a;if(function(t){return t&&Qi(t.canDeactivate)}(o))a=zr(o.canDeactivate(t,e,n,r));else{if(!Qi(o))throw new Error("Invalid CanDeactivate guard");a=zr(o(t,e,n,r))}return a.pipe(dr())});return Object(gn.a)(o).pipe(Yi())}(t.component,t.route,n,e,r)),dr(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(lr.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(St.a)(e).pipe(hr(e=>Object(St.a)([_s(e.route.parent,r),bs(e.route,r),Ss(t,e.path,n),ws(t,e.route,n)]).pipe(Dn(),dr(t=>!0!==t,!0))),dr(t=>!0!==t,!0))}(r,s,t,e):Object(gn.a)(n)),Object(_t.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(fr.a)(t=>{if(Wi(t.guardsResult)){const e=Mr(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(fr.a)(t=>{const e=new Or(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Pn(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new _r(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Ns(t=>{if(t.guards.canActivateChecks.length)return Object(gn.a)(t).pipe(Object(fr.a)(t=>{const e=new Cr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Jn(t=>{let n=!1;return Object(gn.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(lr.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(gn.a)(t);let s=0;return Object(St.a)(n).pipe(hr(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(gn.a)({});const s={};return Object(St.a)(i).pipe(Object(lr.a)(i=>function(t,e,n,r){const i=ms(t,e,r);return zr(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(fr.a)(t=>{s[i]=t}))),Ln(1),Object(lr.a)(()=>Object.keys(s).length===i.length?Object(gn.a)(s):kn.a))}(t._resolve,t,e,r).pipe(Object(_t.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Oi(t,n).resolve),null)))}(t.route,e,r,i)),Object(fr.a)(()=>s++),Ln(1),Object(lr.a)(e=>s===n.length?Object(gn.a)(t):kn.a))}))}),Object(fr.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new _r(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(fr.a)(t=>{const e=new Tr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Ns(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(_t.a)(t=>{const e=function(t,e,n){const r=ji(t,e._root,n?n._root:void 0);return new wi(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(fr.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(_t.a)(t=>(new Ki(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(fr.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new _r(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new gr(i))),ar(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Wi(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new _r(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new wr(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(ad){t.reject(ad)}}var i;return kn.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Zi(t),this.config=t.map(ns),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Ri(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Mi(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Hr(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Mi(n,e,r)}(n);if(s.toRoot())return Ri(e.root,new Jr([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Li(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Li(t,t===e.root,0)}const r=Di(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Li(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Ui(o.segmentGroup,o.index,s.commands):Vi(o.segmentGroup,o.index,s.commands);return Ri(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Wi(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(V_){e=this.malformedUriErrorHandler(V_,this.urlSerializer,t)}return e}isActive(t,e){if(Wi(t))return Kr(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Kr(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new br(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.M),r.Sb(ti),r.Sb(Ms),r.Sb(S),r.Sb(r.r),r.Sb(r.w),r.Sb(r.i),r.Sb(void 0))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Hs=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new mn.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:zs(this.skipLocationChange),replaceUrl:zs(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:zs(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Bs),r.Jb(Ei),r.Tb("tabindex"),r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Vb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})();function zs(t){return""===t||!!t}let Ks=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Pr,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new $s(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Ms),r.Jb(r.P),r.Jb(r.j),r.Tb("name"),r.Jb(r.h))},t.\u0275dir=r.Eb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class $s{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Ei?this.route:t===Ms?this.childContexts:this.parent.get(t,e)}}class Gs{}class Qs{preload(t,e){return Object(gn.a)(null)}}let Ws=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Rs(e,n,e=>t.triggerEvent(new Ir(e)),e=>t.triggerEvent(new xr(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Pn(t=>t instanceof br),hr(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(St.a)(n).pipe(Object(Nn.a)(),Object(_t.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(lr.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Bs),r.Sb(r.w),r.Sb(r.i),r.Sb(r.r),r.Sb(Gs))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Js=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof vr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof br&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Dr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Dr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Bs),r.Sb(L),r.Sb(void 0))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const Ys=new r.q("ROUTER_CONFIGURATION"),Xs=new r.q("ROUTER_FORROOT_GUARD"),Zs=[S,{provide:ti,useClass:ei},{provide:Bs,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new Bs(null,t,e,n,r,i,s,qr(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[ti,Ms,S,r.r,r.w,r.i,Ps,Ys,[class{},new r.A],[class{},new r.A]]},Ms,{provide:Ei,useFactory:function(t){return t.routerState.root},deps:[Bs]},{provide:r.w,useClass:r.J},Ws,Qs,class{preload(t,e){return e().pipe(ar(()=>Object(gn.a)(null)))}},{provide:Ys,useValue:{enableTracing:!1}}];function to(){return new r.y("Router",Bs)}let eo=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Zs,so(e),{provide:Xs,useFactory:io,deps:[[Bs,new r.A,new r.I]]},{provide:Ys,useValue:n||{}},{provide:y,useFactory:ro,deps:[u,[new r.p(b),new r.A],Ys]},{provide:Js,useFactory:no,deps:[Bs,L,Ys]},{provide:Gs,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Qs},{provide:r.y,multi:!0,useFactory:to},[oo,{provide:r.d,multi:!0,useFactory:ao,deps:[oo]},{provide:co,useFactory:uo,deps:[oo]},{provide:r.b,multi:!0,useExisting:co}]]}}static forChild(e){return{ngModule:t,providers:[so(e)]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)(r.Sb(Xs,8),r.Sb(Bs,8))}}),t})();function no(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Js(t,e,n)}function ro(t,e,n={}){return n.useHash?new w(t,e):new _(t,e)}function io(t){return"guarded"}function so(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Ps,multi:!0,useValue:t}]}let oo=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new mn.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Bs),r=this.injector.get(Ys);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(gn.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Ys),n=this.injector.get(Ws),i=this.injector.get(Js),s=this.injector.get(Bs),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.r))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();function ao(t){return t.appInitializer.bind(t)}function uo(t){return t.bootstrapListener.bind(t)}const co=new r.q("Router Initializer");var lo=n("D0XW");function ho(){return t=>t.lift(new fo)}class fo{call(t,e){return e.subscribe(new po(t))}}class po extends _n.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class go{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new mo(t,this.compare,this.keySelector))}}class mo extends _n.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var yo=n("pxpQ"),vo=n("spgP"),bo=n("Jgta"),_o=n("zIRd"),wo=n("30Go"),So=n("qOnz"),Eo=n("q/0M"),Oo=function(t,e){return(Oo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Co(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var To,Io="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},xo=xo||{},Ao=Io||self;function ko(){}function jo(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function No(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Do="closure_uid_"+(1e9*Math.random()>>>0),Po=0;function Ro(t,e,n){return t.call.apply(t.bind,arguments)}function Fo(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Mo(t,e,n){return(Mo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ro:Fo).apply(null,arguments)}function Lo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Vo(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Uo(){this.s=this.s,this.o=this.o}var qo={};Uo.prototype.s=!1,Uo.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Do)&&t[Do]||(t[Do]=++Po)}(this);delete qo[t]}},Uo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Bo=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ho=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function zo(t){return Array.prototype.concat.apply([],arguments)}function Ko(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function $o(t){return/^[\s\xa0]*$/.test(t)}var Go,Qo=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Wo(t,e){return-1!=t.indexOf(e)}function Jo(t,e){return t<e?-1:t>e?1:0}t:{var Yo=Ao.navigator;if(Yo){var Xo=Yo.userAgent;if(Xo){Go=Xo;break t}}Go=""}function Zo(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ta(t){var e={};for(var n in t)e[n]=t[n];return e}var ea="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function na(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<ea.length;s++)n=ea[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ra(t){return ra[" "](t),t}ra[" "]=ko;var ia,sa,oa=Wo(Go,"Opera"),aa=Wo(Go,"Trident")||Wo(Go,"MSIE"),ua=Wo(Go,"Edge"),ca=ua||aa,la=Wo(Go,"Gecko")&&!(Wo(Go.toLowerCase(),"webkit")&&!Wo(Go,"Edge"))&&!(Wo(Go,"Trident")||Wo(Go,"MSIE"))&&!Wo(Go,"Edge"),ha=Wo(Go.toLowerCase(),"webkit")&&!Wo(Go,"Edge");function da(){var t=Ao.document;return t?t.documentMode:void 0}t:{var fa="",pa=(sa=Go,la?/rv:([^\);]+)(\)|;)/.exec(sa):ua?/Edge\/([\d\.]+)/.exec(sa):aa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(sa):ha?/WebKit\/(\S+)/.exec(sa):oa?/(?:Version)[ \/]?(\S+)/.exec(sa):void 0);if(pa&&(fa=pa?pa[1]:""),aa){var ga=da();if(null!=ga&&ga>parseFloat(fa)){ia=String(ga);break t}}ia=fa}var ma={};var ya=Ao.document&&aa&&(da()||parseInt(ia,10))||void 0,va=function(){if(!Ao.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ao.addEventListener("test",ko,e),Ao.removeEventListener("test",ko,e)}catch(n){}return t}();function ba(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function _a(t,e){if(ba.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(la){t:{try{ra(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:wa[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&_a.Z.h.call(this)}}ba.prototype.h=function(){this.defaultPrevented=!0},Vo(_a,ba);var wa={2:"touch",3:"pen",4:"mouse"};_a.prototype.h=function(){_a.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Sa="closure_listenable_"+(1e6*Math.random()|0),Ea=0;function Oa(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ea,this.ca=this.fa=!1}function Ca(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Ta(t){this.src=t,this.g={},this.h=0}function Ia(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],s=Bo(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Ca(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function xa(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}Ta.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=xa(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new Oa(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var Aa="closure_lm_"+(1e6*Math.random()|0),ka={};function ja(t,e,n,r,i){if(r&&r.once)return Da(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ja(t,e[s],n,r,i);return null}return n=Ua(n),t&&t[Sa]?t.N(e,n,No(r)?!!r.capture:!!r,i):Na(t,e,n,!1,r,i)}function Na(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=No(i)?!!i.capture:!!i,a=La(t);if(a||(t[Aa]=a=new Ta(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Ma;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)va||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Fa(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Da(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Da(t,e[s],n,r,i);return null}return n=Ua(n),t&&t[Sa]?t.O(e,n,No(r)?!!r.capture:!!r,i):Na(t,e,n,!0,r,i)}function Pa(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Pa(t,e[s],n,r,i);else r=No(r)?!!r.capture:!!r,n=Ua(n),t&&t[Sa]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=xa(s=t.g[e],n,r,i))&&(Ca(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=La(t))&&(e=t.g[e.toString()],t=-1,e&&(t=xa(e,n,r,i)),(n=-1<t?e[t]:null)&&Ra(n))}function Ra(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Sa])Ia(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Fa(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=La(e))?(Ia(n,t),0==n.h&&(n.src=null,e[Aa]=null)):Ca(t)}}}function Fa(t){return t in ka?ka[t]:ka[t]="on"+t}function Ma(t,e){if(t.ca)t=!0;else{e=new _a(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Ra(t),t=n.call(r,e)}return t}function La(t){return(t=t[Aa])instanceof Ta?t:null}var Va="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ua(t){return"function"==typeof t?t:(t[Va]||(t[Va]=function(e){return t.handleEvent(e)}),t[Va])}function qa(){Uo.call(this),this.i=new Ta(this),this.P=this,this.I=null}function Ba(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new ba(e,t);else if(e instanceof ba)e.target=e.target||t;else{var i=e;na(e=new ba(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Ha(o,r,!0,e)&&i}if(i=Ha(o=e.g=t,r,!0,e)&&i,i=Ha(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Ha(o=e.g=n[s],r,!1,e)&&i}function Ha(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&Ia(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Vo(qa,Uo),qa.prototype[Sa]=!0,qa.prototype.removeEventListener=function(t,e,n,r){Pa(this,t,e,n,r)},qa.prototype.M=function(){if(qa.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Ca(n[r]);delete e.g[t],e.h--}}this.I=null},qa.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},qa.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var za=Ao.JSON.stringify;function Ka(){var t=Za,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var $a,Ga=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Qa.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Qa=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())(function(){return new Wa},function(t){return t.reset()}),Wa=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Ja(t){Ao.setTimeout(function(){throw t},0)}function Ya(t,e){$a||function(){var t=Ao.Promise.resolve(void 0);$a=function(){t.then(tu)}}(),Xa||($a(),Xa=!0),Za.add(t,e)}var Xa=!1,Za=new Ga;function tu(){for(var t;t=Ka();){try{t.h.call(t.g)}catch(n){Ja(n)}var e=Qa;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Xa=!1}function eu(t,e){qa.call(this),this.h=t||1,this.g=e||Ao,this.j=Mo(this.kb,this),this.l=Date.now()}function nu(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function ru(t,e,n){if("function"==typeof t)n&&(t=Mo(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Mo(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ao.setTimeout(t,e||0)}function iu(t){t.g=ru(function(){t.g=null,t.i&&(t.i=!1,iu(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}Vo(eu,qa),(To=eu.prototype).da=!1,To.S=null,To.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ba(this,"tick"),this.da&&(nu(this),this.start()))}},To.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},To.M=function(){eu.Z.M.call(this),nu(this),delete this.g};var su=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Oo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:iu(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Ao.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Uo);function ou(t){Uo.call(this),this.h=t,this.g={}}Vo(ou,Uo);var au=[];function uu(t,e,n,r){Array.isArray(n)||(n&&(au[0]=n.toString()),n=au);for(var i=0;i<n.length;i++){var s=ja(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function cu(t){Zo(t.g,function(t,e){this.g.hasOwnProperty(e)&&Ra(t)},t),t.g={}}function lu(){this.g=!0}function hu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return za(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}ou.prototype.M=function(){ou.Z.M.call(this),cu(this)},ou.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},lu.prototype.Aa=function(){this.g=!1},lu.prototype.info=function(){};var du={},fu=null;function pu(){return fu=fu||new qa}function gu(t){ba.call(this,du.Ma,t)}function mu(t){var e=pu();Ba(e,new gu(e,t))}function yu(t,e){ba.call(this,du.STAT_EVENT,t),this.stat=e}function vu(t){var e=pu();Ba(e,new yu(e,t))}function bu(t,e){ba.call(this,du.Na,t),this.size=e}function _u(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ao.setTimeout(function(){t()},e)}du.Ma="serverreachability",Vo(gu,ba),du.STAT_EVENT="statevent",Vo(yu,ba),du.Na="timingevent",Vo(bu,ba);var wu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Su={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Eu(){}function Ou(){}Eu.prototype.h=null;var Cu,Tu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Iu(){ba.call(this,"d")}function xu(){ba.call(this,"c")}function Au(){}function ku(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new ou(this),this.P=Nu,this.W=new eu(t=ca?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ju}function ju(){this.i=null,this.g="",this.h=!1}Vo(Iu,ba),Vo(xu,ba),Vo(Au,Eu),Au.prototype.g=function(){return new XMLHttpRequest},Au.prototype.i=function(){return{}},Cu=new Au;var Nu=45e3,Du={},Pu={};function Ru(t,e,n){t.K=1,t.v=ic(Xu(e)),t.s=n,t.U=!0,Fu(t,null)}function Fu(t,e){t.F=Date.now(),Uu(t),t.A=Xu(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),yc(n.h,"t",r),t.C=0,n=t.l.H,t.h=new ju,t.g=vl(t.l,n?e:null,!t.s),0<t.O&&(t.L=new su(Mo(t.Ia,t,t.g),t.O)),uu(t.V,t.g,"readystatechange",t.gb),e=t.H?ta(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),mu(1),function(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function Mu(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Lu(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=Vu(t,n))==Pu){4==e&&(t.o=4,vu(14),i=!1),hu(t.j,t.m,null,"[Incomplete Response]");break}if(r==Du){t.o=4,vu(15),hu(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}hu(t.j,t.m,r,null),Ku(t,r)}Mu(t)&&r!=Pu&&r!=Du&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,vu(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ll(e),e.L=!0,vu(11))):(hu(t.j,t.m,n,"[Invalid Chunked Response]"),zu(t),Hu(t))}function Vu(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Pu:(n=Number(e.substring(n,r)),isNaN(n)?Du:(r+=1)+n>e.length?Pu:(e=e.substr(r,n),t.C=r+n,e))}function Uu(t){t.Y=Date.now()+t.P,qu(t,t.P)}function qu(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=_u(Mo(t.eb,t),e)}function Bu(t){t.B&&(Ao.clearTimeout(t.B),t.B=null)}function Hu(t){0==t.l.G||t.I||fl(t.l,t)}function zu(t){Bu(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,nu(t.W),cu(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Ku(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Oc(n.i,t)))if(n.I=t.N,!t.J&&Oc(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(s){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;dl(n),el(n)}cl(n),vu(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=_u(Mo(n.ab,n),6e3));if(1>=Ec(n.i)&&n.ka){try{n.ka()}catch(s){}n.ka=void 0}}else gl(n,11)}else if((t.J||n.g==t)&&dl(n),!$o(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var s=i[e];if(n.U=s[0],s=s[1],2==n.G)if("c"==s[0]){n.J=s[1],n.la=s[2];var o=s[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var a=s[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=s[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(Wo(l,"spdy")||Wo(l,"quic")||Wo(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Cc(h,h.h),h.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,rc(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=t;if((r=n).oa=yl(r,r.H?r.la:null,r.W),f.J){Tc(r.i,f);var p=f,g=r.K;g&&p.setTimeout(g),p.B&&(Bu(p),Uu(p)),r.g=f}else ul(r);0<n.l.length&&il(n)}else"stop"!=s[0]&&"close"!=s[0]||gl(n,7);else 3==n.G&&("stop"==s[0]||"close"==s[0]?"stop"==s[0]?gl(n,7):tl(n):"noop"!=s[0]&&n.j&&n.j.wa(s),n.A=0)}mu(4)}catch(s){}}function $u(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(jo(t)||"string"==typeof t)Ho(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(jo(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(jo(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Gu(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Gu)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Qu(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Wu(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Wu(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Wu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(To=ku.prototype).setTimeout=function(t){this.P=t},To.gb=function(t){t=t.target;var e=this.L;e&&3==Wc(t)?e.l():this.Ia(t)},To.Ia=function(t){try{if(t==this.g)t:{var e=Wc(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||ca||this.g&&(this.h.h||this.g.ga()||Jc(this.g)))){this.I||4!=e||7==n||mu(8==n||0>=r?3:2),Bu(this);var i=this.g.ba();this.N=i;e:if(Mu(this)){var s=Jc(this.g);t="";var o=s.length,a=4==Wc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){zu(this),Hu(this);var u="";break e}this.h.i=new Ao.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,t+=this.h.i.decode(s[n],{stream:a&&n==o-1});s.splice(0,o),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$o(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,vu(12),zu(this),Hu(this);break t}hu(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ku(this,i)}this.U?(Lu(this,e,u),ca&&this.i&&3==e&&(uu(this.V,this.W,"tick",this.fb),this.W.start())):(hu(this.j,this.m,u,null),Ku(this,u)),4==e&&zu(this),this.i&&!this.I&&(4==e?fl(this.l,this):(this.i=!1,Uu(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,vu(12)):(this.o=0,vu(13)),zu(this),Hu(this)}}}catch(e){}},To.fb=function(){if(this.g){var t=Wc(this.g),e=this.g.ga();this.C<e.length&&(Bu(this),Lu(this,t,e),this.i&&4!=t&&Uu(this))}},To.cancel=function(){this.I=!0,zu(this)},To.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(mu(3),vu(17)),zu(this),this.o=2,Hu(this)):qu(this,this.Y-t)},(To=Gu.prototype).R=function(){Qu(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},To.T=function(){return Qu(this),this.g.concat()},To.get=function(t,e){return Wu(this.h,t)?this.h[t]:e},To.set=function(t,e){Wu(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},To.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Ju=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Yu(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Yu){this.g=void 0!==e?e:t.g,Zu(this,t.j),this.s=t.s,tc(this,t.i),ec(this,t.m),this.l=t.l,e=t.h;var n=new fc;n.i=e.i,e.g&&(n.g=new Gu(e.g),n.h=e.h),nc(this,n),this.o=t.o}else t&&(n=String(t).match(Ju))?(this.g=!!e,Zu(this,n[1]||"",!0),this.s=sc(n[2]||""),tc(this,n[3]||"",!0),ec(this,n[4]),this.l=sc(n[5]||"",!0),nc(this,n[6]||"",!0),this.o=sc(n[7]||"")):(this.g=!!e,this.h=new fc(null,this.g))}function Xu(t){return new Yu(t)}function Zu(t,e,n){t.j=n?sc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function tc(t,e,n){t.i=n?sc(e,!0):e}function ec(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function nc(t,e,n){e instanceof fc?(t.h=e,function(t,e){e&&!t.j&&(pc(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(gc(this,e),yc(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=oc(e,hc)),t.h=new fc(e,t.g))}function rc(t,e,n){t.h.set(e,n)}function ic(t){return rc(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function sc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function oc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ac),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ac(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Yu.prototype.toString=function(){var t=[],e=this.j;e&&t.push(oc(e,uc,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(oc(e,uc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(oc(n,"/"==n.charAt(0)?lc:cc,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",oc(n,dc)),t.join("")};var uc=/[#\/\?@]/g,cc=/[#\?:]/g,lc=/[#\?]/g,hc=/[#\?@]/g,dc=/#/g;function fc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function pc(t){t.g||(t.g=new Gu,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function gc(t,e){pc(t),e=vc(t,e),Wu(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Wu((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Qu(t)))}function mc(t,e){return pc(t),e=vc(t,e),Wu(t.g.h,e)}function yc(t,e,n){gc(t,e),0<n.length&&(t.i=null,t.g.set(vc(t,e),Ko(n)),t.h+=n.length)}function vc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(To=fc.prototype).add=function(t,e){pc(this),this.i=null,t=vc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},To.forEach=function(t,e){pc(this),this.g.forEach(function(n,r){Ho(n,function(n){t.call(e,n,r,this)},this)},this)},To.T=function(){pc(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},To.R=function(t){pc(this);var e=[];if("string"==typeof t)mc(this,t)&&(e=zo(e,this.g.get(vc(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=zo(e,t[n])}return e},To.set=function(t,e){return pc(this),this.i=null,mc(this,t=vc(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},To.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},To.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var bc=function(){return function(t,e){this.h=t,this.g=e}}();function _c(t){this.l=t||wc,t=Ao.PerformanceNavigationTiming?0<(t=Ao.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ao.g&&Ao.g.Ea&&Ao.g.Ea()&&Ao.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wc=10;function Sc(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Ec(t){return t.h?1:t.g?t.g.size:0}function Oc(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Cc(t,e){t.g?t.g.add(e):t.h=e}function Tc(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Ic(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=Co(t.g.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.D)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Ko(t.i)}function xc(){}function Ac(){this.g=new xc}function kc(t,e,n){var r=n||"";try{$u(t,function(t,n){var i=t;No(t)&&(i=za(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(V_){throw e.push(r+"type="+encodeURIComponent("_badmap")),V_}}function jc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function Nc(t){this.l=t.$b||null,this.j=t.ib||!1}function Dc(t,e){qa.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Pc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_c.prototype.cancel=function(){var t,e;if(this.i=Ic(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Co(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},xc.prototype.stringify=function(t){return Ao.JSON.stringify(t,void 0)},xc.prototype.parse=function(t){return Ao.JSON.parse(t,void 0)},Vo(Nc,Eu),Nc.prototype.g=function(){return new Dc(this.l,this.j)},Nc.prototype.i=function(t){return function(){return t}}({}),Vo(Dc,qa);var Pc=0;function Rc(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Fc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Mc(t)}function Mc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(To=Dc.prototype).open=function(t,e){if(this.readyState!=Pc)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Mc(this)},To.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Ao).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},To.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fc(this)),this.readyState=Pc},To.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Mc(this)),this.g&&(this.readyState=3,Mc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ao.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Rc(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},To.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Fc(this):Mc(this),3==this.readyState&&Rc(this)}},To.Ua=function(t){this.g&&(this.response=this.responseText=t,Fc(this))},To.Ta=function(t){this.g&&(this.response=t,Fc(this))},To.ha=function(){this.g&&Fc(this)},To.setRequestHeader=function(t,e){this.v.append(t,e)},To.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},To.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Dc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Lc=Ao.JSON.parse;function Vc(t){qa.call(this),this.headers=new Gu,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Uc,this.K=this.L=!1}Vo(Vc,qa);var Uc="",qc=/^https?$/i,Bc=["POST","PUT"];function Hc(t){return"content-type"==t.toLowerCase()}function zc(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Kc(t),Gc(t)}function Kc(t){t.D||(t.D=!0,Ba(t,"complete"),Ba(t,"error"))}function $c(t){if(t.h&&void 0!==xo&&(!t.C[1]||4!=Wc(t)||2!=t.ba()))if(t.v&&4==Wc(t))ru(t.Fa,0,t);else if(Ba(t,"readystatechange"),4==Wc(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.H).match(Ju)[1]||null;if(!s&&Ao.self&&Ao.self.location){var o=Ao.self.location.protocol;s=o.substr(0,o.length-1)}i=!qc.test(s?s.toLowerCase():"")}e=i}if(e)Ba(t,"complete"),Ba(t,"success");else{t.m=6;try{var a=2<Wc(t)?t.g.statusText:""}catch(u){a=""}t.j=a+" ["+t.ba()+"]",Kc(t)}}finally{Gc(t)}}}function Gc(t,e){if(t.g){Qc(t);var n=t.g,r=t.C[0]?ko:null;t.g=null,t.C=null,e||Ba(t,"ready");try{n.onreadystatechange=r}catch(V_){}}}function Qc(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Ao.clearTimeout(t.A),t.A=null)}function Wc(t){return t.g?t.g.readyState:0}function Jc(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Uc:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Yc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Zo(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):rc(t,e,n))}function Xc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Zc(t){this.za=0,this.l=[],this.h=new lu,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Xc("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Xc("baseRetryDelayMs",5e3,t),this.$a=Xc("retryDelaySeedMs",1e4,t),this.Ya=Xc("forwardChannelMaxRetries",2,t),this.ra=Xc("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new _c(t&&t.concurrentRequestLimit),this.Ca=new Ac,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function tl(t){if(nl(t),3==t.G){var e=t.V++,n=Xu(t.F);rc(n,"SID",t.J),rc(n,"RID",e),rc(n,"TYPE","terminate"),ol(t,n),(e=new ku(t,t.h,e,void 0)).K=2,e.v=ic(Xu(n)),n=!1,Ao.navigator&&Ao.navigator.sendBeacon&&(n=Ao.navigator.sendBeacon(e.v.toString(),"")),!n&&Ao.Image&&((new Image).src=e.v,n=!0),n||(e.g=vl(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Uu(e)}ml(t)}function el(t){t.g&&(ll(t),t.g.cancel(),t.g=null)}function nl(t){el(t),t.u&&(Ao.clearTimeout(t.u),t.u=null),dl(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Ao.clearTimeout(t.m),t.m=null)}function rl(t,e){t.l.push(new bc(t.Za++,e)),3==t.G&&il(t)}function il(t){Sc(t.i)||t.m||(t.m=!0,Ya(t.Ha,t),t.C=0)}function sl(t,e){var n;n=e?e.m:t.V++;var r=Xu(t.F);rc(r,"SID",t.J),rc(r,"RID",n),rc(r,"AID",t.U),ol(t,r),t.o&&t.s&&Yc(r,t.o,t.s),n=new ku(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=al(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Cc(t.i,n),Ru(n,r,e)}function ol(t,e){t.j&&$u({},function(t,n){rc(e,n,t)})}function al(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Mo(t.j.Oa,t.j,t):null;t:for(var i=t.l,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].h)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=s))s=Math.max(0,i[u].h-100),a=!1;else try{kc(l,o,"req"+c+"_")}catch(Jl){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function ul(t){t.g||t.u||(t.Y=1,Ya(t.Ga,t),t.A=0)}function cl(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=_u(Mo(t.Ga,t),pl(t,t.A)),t.A++,0))}function ll(t){null!=t.B&&(Ao.clearTimeout(t.B),t.B=null)}function hl(t){t.g=new ku(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Xu(t.oa);rc(e,"RID","rpc"),rc(e,"SID",t.J),rc(e,"CI",t.N?"0":"1"),rc(e,"AID",t.U),ol(t,e),rc(e,"TYPE","xmlhttp"),t.o&&t.s&&Yc(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=ic(Xu(e)),n.s=null,n.U=!0,Fu(n,t)}function dl(t){null!=t.v&&(Ao.clearTimeout(t.v),t.v=null)}function fl(t,e){var n=null;if(t.g==e){dl(t),ll(t),t.g=null;var r=2}else{if(!Oc(t.i,e))return;n=e.D,Tc(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Ba(r=pu(),new bu(r,n,e,i)),il(t)}else ul(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Ec(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=_u(Mo(t.Ha,t,e),pl(t,t.C)),t.C++,0)))}(t,e)||2==r&&cl(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:gl(t,5);break;case 4:gl(t,10);break;case 3:gl(t,6);break;default:gl(t,2)}}function pl(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function gl(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Mo(t.jb,t);n||(n=new Yu("//www.google.com/images/cleardot.gif"),Ao.location&&"http"==Ao.location.protocol||Zu(n,"https"),ic(n)),function(t,e){var n=new lu;if(Ao.Image){var r=new Image;r.onload=Lo(jc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Lo(jc,n,r,"TestLoadImage: error",!1,e),r.onabort=Lo(jc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Lo(jc,n,r,"TestLoadImage: timeout",!1,e),Ao.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else vu(2);t.G=0,t.j&&t.j.va(e),ml(t),nl(t)}function ml(t){t.G=0,t.I=-1,t.j&&(0==Ic(t.i).length&&0==t.l.length||(t.i.i.length=0,Ko(t.l),t.l.length=0),t.j.ua())}function yl(t,e,n){var r=function(t){return t instanceof Yu?Xu(t):new Yu(t,void 0)}(n);if(""!=r.i)e&&tc(r,e+"."+r.i),ec(r,r.m);else{var i=Ao.location;r=function(t,e,n,r){var i=new Yu(null,void 0);return t&&Zu(i,t),e&&tc(i,e),n&&ec(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&Zo(t.aa,function(t,e){rc(r,e,t)}),n=t.sa,(e=t.D)&&n&&rc(r,e,n),rc(r,"VER",t.ma),ol(t,r),r}function vl(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vc(n&&t.Ba&&!t.qa?new Nc({ib:!0}):t.qa)).L=t.H,e}function bl(){}function _l(){if(aa&&!(10<=Number(ya)))throw Error("Environmental error: no available transport.")}function wl(t,e){qa.call(this),this.g=new Zc(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!$o(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$o(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ol(this)}function Sl(t){Iu.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function El(){xu.call(this),this.status=1}function Ol(t){this.g=t}(To=Vc.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Cu.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:Cu),this.g.onreadystatechange=Mo(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void zc(this,s)}t=n||"";var i=new Gu(this.headers);r&&$u(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Hc,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=Ao.FormData&&t instanceof Ao.FormData,!(0<=Bo(Bc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Qc(this),0<this.B&&((this.K=function(t){return aa&&function(){return t=ma,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=Qo(String(ia)).split("."),n=Qo("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var s=e[i]||"",o=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==s[0].length&&0==o[0].length)break;t=Jo(0==s[1].length?0:parseInt(s[1],10),0==o[1].length?0:parseInt(o[1],10))||Jo(0==s[2].length,0==o[2].length)||Jo(s[2],o[2]),s=s[3],o=o[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mo(this.pa,this)):this.A=ru(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){zc(this,s)}},To.pa=function(){void 0!==xo&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ba(this,"timeout"),this.abort(8))},To.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ba(this,"complete"),Ba(this,"abort"),Gc(this))},To.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gc(this,!0)),Vc.Z.M.call(this)},To.Fa=function(){this.s||(this.F||this.v||this.l?$c(this):this.cb())},To.cb=function(){$c(this)},To.ba=function(){try{return 2<Wc(this)?this.g.status:-1}catch(sa){return-1}},To.ga=function(){try{return this.g?this.g.responseText:""}catch(sa){return""}},To.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Lc(e)}},To.Da=function(){return this.m},To.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(To=Zc.prototype).ma=8,To.G=1,To.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},To.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new ku(this,this.h,t,void 0),n=this.s;if(this.P&&(n?na(n=ta(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var s=this.l[i];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(r+=s)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=al(this,e,r),rc(i=Xu(this.F),"RID",t),rc(i,"CVER",22),this.D&&rc(i,"X-HTTP-Session-Id",this.D),ol(this,i),this.o&&n&&Yc(i,this.o,n),Cc(this.i,e),this.Ra&&rc(i,"TYPE","init"),this.ja?(rc(i,"$req",r),rc(i,"SID","null"),e.$=!0,Ru(e,i,null)):Ru(e,i,r),this.G=2}}else 3==this.G&&(t?sl(this,t):0==this.l.length||Sc(this.i)||sl(this))},To.Ga=function(){if(this.u=null,hl(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=_u(Mo(this.bb,this),t)}},To.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,vu(10),el(this),hl(this))},To.ab=function(){null!=this.v&&(this.v=null,el(this),cl(this),vu(19))},To.jb=function(t){t?(this.h.info("Successfully pinged google.com"),vu(2)):(this.h.info("Failed to ping google.com"),vu(1))},(To=bl.prototype).xa=function(){},To.wa=function(){},To.va=function(){},To.ua=function(){},To.Oa=function(){},_l.prototype.g=function(t,e){return new wl(t,e)},Vo(wl,qa),wl.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Ya(Mo(t.hb,t,e))),vu(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=yl(t,null,t.W),il(t)},wl.prototype.close=function(){tl(this.g)},wl.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,rl(this.g,e)}else this.v?((e={}).__data__=za(t),rl(this.g,e)):rl(this.g,t)},wl.prototype.M=function(){this.g.j=null,delete this.j,tl(this.g),delete this.g,wl.Z.M.call(this)},Vo(Sl,Iu),Vo(El,xu),Vo(Ol,bl),Ol.prototype.xa=function(){Ba(this.g,"a")},Ol.prototype.wa=function(t){Ba(this.g,new Sl(t))},Ol.prototype.va=function(t){Ba(this.g,new El(t))},Ol.prototype.ua=function(){Ba(this.g,"b")},_l.prototype.createWebChannel=_l.prototype.g,wl.prototype.send=wl.prototype.u,wl.prototype.open=wl.prototype.m,wl.prototype.close=wl.prototype.close,wu.NO_ERROR=0,wu.TIMEOUT=8,wu.HTTP_ERROR=6,Su.COMPLETE="complete",Ou.EventType=Tu,Tu.OPEN="a",Tu.CLOSE="b",Tu.ERROR="c",Tu.MESSAGE="d",qa.prototype.listen=qa.prototype.N,Vc.prototype.listenOnce=Vc.prototype.O,Vc.prototype.getLastError=Vc.prototype.La,Vc.prototype.getLastErrorCode=Vc.prototype.Da,Vc.prototype.getStatus=Vc.prototype.ba,Vc.prototype.getResponseJson=Vc.prototype.Qa,Vc.prototype.getResponseText=Vc.prototype.ga,Vc.prototype.send=Vc.prototype.ea;var Cl=wu,Tl=Su,Il=du,xl=Nc,Al=Ou,kl=Vc,jl=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();jl.o=-1;var Nl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Dl=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(wo.c)(e,t),e}(Error),Pl=new Eo.b("@firebase/firestore");function Rl(){return Pl.logLevel}function Fl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Pl.logLevel<=Eo.a.DEBUG){var r=e.map(Vl);Pl.debug.apply(Pl,Object(wo.f)(["Firestore (8.10.1): "+t],r))}}function Ml(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Pl.logLevel<=Eo.a.ERROR){var r=e.map(Vl);Pl.error.apply(Pl,Object(wo.f)(["Firestore (8.10.1): "+t],r))}}function Ll(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Pl.logLevel<=Eo.a.WARN){var r=e.map(Vl);Pl.warn.apply(Pl,Object(wo.f)(["Firestore (8.10.1): "+t],r))}}function Vl(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(V_){return t}}function Ul(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw Ml(e),new Error(e)}function ql(t,e){t||Ul()}function Bl(t,e){return t}function Hl(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var zl=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Hl(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Kl(t,e){return t<e?-1:t>e?1:0}function $l(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Gl(t){return t+"\0"}var Ql=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Dl(Nl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Dl(Nl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Dl(Nl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Dl(Nl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Kl(this.nanoseconds,t.nanoseconds):Kl(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Wl=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Ql(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Jl(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yl(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Xl(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Zl=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ul(),void 0===n?n=t.length-e:n>t.length-e&&Ul(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),th=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wo.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Dl(Nl.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Zl),eh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,nh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wo.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return eh.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Dl(Nl.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Dl(Nl.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Dl(Nl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Dl(Nl.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Zl),rh=function(){function t(t){this.fields=t,t.sort(nh.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return $l(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),ih=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Kl(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();ih.EMPTY_BYTE_STRING=new ih("");var sh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oh(t){if(ql(!!t),"string"==typeof t){var e=0,n=sh.exec(t);if(ql(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ah(t.seconds),nanos:ah(t.nanos)}}function ah(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function uh(t){return"string"==typeof t?ih.fromBase64String(t):ih.fromUint8Array(t)}function ch(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function lh(t){var e=t.mapValue.fields.__previous_value__;return ch(e)?lh(e):e}function hh(t){var e=oh(t.mapValue.fields.__local_write_time__.timestampValue);return new Ql(e.seconds,e.nanos)}function dh(t){return null==t}function fh(t){return 0===t&&1/t==-1/0}function ph(t){return"number"==typeof t&&Number.isInteger(t)&&!fh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var gh=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(th.fromString(e))},t.fromName=function(e){return new t(th.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===th.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return th.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new th(e.slice()))},t}();function mh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ch(t)?4:10:Ul()}function yh(t,e){var n=mh(t);if(n!==mh(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hh(t).isEqual(hh(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=oh(t.timestampValue),r=oh(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return uh(t.bytesValue).isEqual(uh(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ah(t.geoPointValue.latitude)===ah(e.geoPointValue.latitude)&&ah(t.geoPointValue.longitude)===ah(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ah(t.integerValue)===ah(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ah(t.doubleValue),r=ah(e.doubleValue);return n===r?fh(n)===fh(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return $l(t.arrayValue.values||[],e.arrayValue.values||[],yh);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Jl(n)!==Jl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!yh(n[i],r[i])))return!1;return!0}(t,e);default:return Ul()}}function vh(t,e){return void 0!==(t.values||[]).find(function(t){return yh(t,e)})}function bh(t,e){var n=mh(t),r=mh(e);if(n!==r)return Kl(n,r);switch(n){case 0:return 0;case 1:return Kl(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ah(t.integerValue||t.doubleValue),r=ah(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return _h(t.timestampValue,e.timestampValue);case 4:return _h(hh(t),hh(e));case 5:return Kl(t.stringValue,e.stringValue);case 6:return function(t,e){var n=uh(t),r=uh(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Kl(n[i],r[i]);if(0!==s)return s}return Kl(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Kl(ah(t.latitude),ah(e.latitude));return 0!==n?n:Kl(ah(t.longitude),ah(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=bh(n[i],r[i]);if(s)return s}return Kl(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Kl(r[o],s[o]);if(0!==a)return a;var u=bh(n[r[o]],i[s[o]]);if(0!==u)return u}return Kl(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Ul()}}function _h(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Kl(t,e);var n=oh(t),r=oh(e),i=Kl(n.seconds,r.seconds);return 0!==i?i:Kl(n.nanos,r.nanos)}function wh(t){return Sh(t)}function Sh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=oh(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?uh(t.bytesValue).toBase64():"referenceValue"in t?gh.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Sh(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+Sh(t.fields[s])}return e+"}"}(t.mapValue):Ul();var e}function Eh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Oh(t){return!!t&&"integerValue"in t}function Ch(t){return!!t&&"arrayValue"in t}function Th(t){return!!t&&"nullValue"in t}function Ih(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xh(t){return!!t&&"mapValue"in t}function Ah(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Yl(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=Ah(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ah(t.arrayValue.values[r]);return n}return Object.assign({},t)}var kh=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!xh(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ah(e)},t.prototype.setAll=function(t){var e=this,n=nh.emptyPath(),r={},i=[];t.forEach(function(t,s){if(!n.isImmediateParentOf(s)){var o=e.getFieldsMap(n);e.applyChanges(o,r,i),r={},i=[],n=s.popLast()}t?r[s.lastSegment()]=Ah(t):i.push(s.lastSegment())});var s=this.getFieldsMap(n);this.applyChanges(s,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());xh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return yh(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];xh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Yl(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(Ah(this.value))},t}();function jh(t){var e=[];return Yl(t.fields,function(t,n){var r=new nh([t]);if(xh(n)){var i=jh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new rh(e)}var Nh=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Wl.min(),kh.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,kh.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,kh.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=kh.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=kh.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Dh=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function Ph(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Dh(t,e,n,r,i,s,o)}function Rh(t){var e=Bl(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+wh(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Qh(e.startAt)),e.endAt&&(n+="|ub:",n+=Qh(e.endAt)),e.h=n}return e.h}function Fh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Jh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!yh(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Xh(t.startAt,e.startAt)&&Xh(t.endAt,e.endAt)}function Mh(t){return gh.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Lh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(wo.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Vh(t,n,r):"array-contains"===n?new Hh(t,r):"in"===n?new zh(t,r):"not-in"===n?new Kh(t,r):"array-contains-any"===n?new $h(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Uh(t,n):new qh(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(bh(e,this.value)):null!==e&&mh(this.value)===mh(e)&&this.m(bh(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ul()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Vh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=gh.fromName(r.referenceValue),i}return Object(wo.c)(e,t),e.prototype.matches=function(t){var e=gh.comparator(t.key,this.key);return this.m(e)},e}(Lh),Uh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Bh(0,n),r}return Object(wo.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Lh),qh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Bh(0,n),r}return Object(wo.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Lh);function Bh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return gh.fromName(t.referenceValue)})}var Hh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(wo.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Ch(e)&&vh(e.arrayValue,this.value)},e}(Lh),zh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(wo.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&vh(this.value.arrayValue,e)},e}(Lh),Kh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(wo.c)(e,t),e.prototype.matches=function(t){if(vh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!vh(this.value.arrayValue,e)},e}(Lh),$h=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(wo.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Ch(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return vh(e.value.arrayValue,t)})},e}(Lh),Gh=function(t,e){this.position=t,this.before=e};function Qh(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return wh(t)}).join(",")}var Wh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Jh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Yh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?gh.comparator(gh.fromName(o.referenceValue),n.key):bh(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Xh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!yh(t.position[n],e.position[n]))return!1;return!0}var Zh=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function td(t,e,n,r,i,s,o,a){return new Zh(t,e,n,r,i,s,o,a)}function ed(t){return new Zh(t)}function nd(t){return!dh(t.limit)&&"F"===t.limitType}function rd(t){return!dh(t.limit)&&"L"===t.limitType}function id(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function sd(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function od(t){return null!==t.collectionGroup}function ad(t){var e=Bl(t);if(null===e.p){e.p=[];var n=sd(e),r=id(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Wh(n)),e.p.push(new Wh(nh.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Wh(nh.keyField(),u))}}}return e.p}function ud(t){var e=Bl(t);if(!e.T)if("F"===e.limitType)e.T=Ph(e.path,e.collectionGroup,ad(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=ad(e);r<i.length;r++){var s=i[r];n.push(new Wh(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Gh(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Gh(e.startAt.position,!e.startAt.before):null;e.T=Ph(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function cd(t,e,n){return new Zh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ld(t,e){return Fh(ud(t),ud(e))&&t.limitType===e.limitType}function hd(t){return Rh(ud(t))+"|lt:"+t.limitType}function dd(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+wh(e.value);var e}).join(", ")+"]"),dh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Qh(t.startAt)),t.endAt&&(e+=", endAt: "+Qh(t.endAt)),"Target("+e+")"}(ud(t))+"; limitType="+t.limitType+")"}function fd(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):gh.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Yh(t.startAt,ad(t),e)||t.endAt&&Yh(t.endAt,ad(t),e))}(t,e)}function pd(t){return function(e,n){for(var r=!1,i=0,s=ad(t);i<s.length;i++){var o=s[i],a=gd(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function gd(t,e,n){var r=t.field.isKeyField()?gh.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?bh(r,i):Ul()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ul()}}function md(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function yd(t){return{integerValue:""+t}}function vd(t,e){return ph(e)?yd(e):md(t,e)}var bd=function(){this._=void 0};function _d(t,e,n){return t instanceof Ed?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Od?Cd(t,e):t instanceof Td?Id(t,e):function(t,e){var n=Sd(t,e),r=Ad(n)+Ad(t.A);return Oh(n)&&Oh(t.A)?yd(r):md(t.R,r)}(t,e)}function wd(t,e,n){return t instanceof Od?Cd(t,e):t instanceof Td?Id(t,e):n}function Sd(t,e){return t instanceof xd?Oh(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ed=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wo.c)(e,t),e}(bd),Od=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(wo.c)(e,t),e}(bd);function Cd(t,e){for(var n=kd(e),r=function(t){n.some(function(e){return yh(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Td=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(wo.c)(e,t),e}(bd);function Id(t,e){for(var n=kd(e),r=function(t){n=n.filter(function(e){return!yh(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var xd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(wo.c)(e,t),e}(bd);function Ad(t){return ah(t.integerValue||t.doubleValue)}function kd(t){return Ch(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var jd=function(t,e){this.field=t,this.transform=e},Nd=function(t,e){this.version=t,this.transformResults=e},Dd=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Pd(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Rd=function(){};function Fd(t,e,n){t instanceof qd?function(t,e,n){var r=t.value.clone(),i=zd(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Bd?function(t,e,n){if(Pd(t.precondition,e)){var r=zd(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Hd(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Md(t,e,n){t instanceof qd?function(t,e,n){if(Pd(t.precondition,e)){var r=t.value.clone(),i=Kd(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Ud(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Bd?function(t,e,n){if(Pd(t.precondition,e)){var r=Kd(t.fieldTransforms,n,e),i=e.data;i.setAll(Hd(t)),i.setAll(r),e.convertToFoundDocument(Ud(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Pd(t.precondition,e)&&e.convertToNoDocument(Wl.min())}(t,e)}function Ld(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e.data.field(s.field),a=Sd(s.transform,o||null);null!=a&&(null==n&&(n=kh.empty()),n.set(s.field,a))}return n||null}function Vd(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&$l(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Od&&e instanceof Od||t instanceof Td&&e instanceof Td?$l(t.elements,e.elements,yh):t instanceof xd&&e instanceof xd?yh(t.A,e.A):t instanceof Ed&&e instanceof Ed}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Ud(t){return t.isFoundDocument()?t.version:Wl.min()}var qd=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return Object(wo.c)(e,t),e}(Rd),Bd=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return Object(wo.c)(e,t),e}(Rd);function Hd(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function zd(t,e,n){var r=new Map;ql(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,wd(o,a,n[i]))}return r}function Kd(t,e,n){for(var r=new Map,i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,u=n.data.field(o.field);r.set(o.field,_d(a,u,e))}return r}var $d,Gd,Qd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(wo.c)(e,t),e}(Rd),Wd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(wo.c)(e,t),e}(Rd),Jd=function(t){this.count=t};function Yd(t){switch(t){case Nl.OK:return Ul();case Nl.CANCELLED:case Nl.UNKNOWN:case Nl.DEADLINE_EXCEEDED:case Nl.RESOURCE_EXHAUSTED:case Nl.INTERNAL:case Nl.UNAVAILABLE:case Nl.UNAUTHENTICATED:return!1;case Nl.INVALID_ARGUMENT:case Nl.NOT_FOUND:case Nl.ALREADY_EXISTS:case Nl.PERMISSION_DENIED:case Nl.FAILED_PRECONDITION:case Nl.ABORTED:case Nl.OUT_OF_RANGE:case Nl.UNIMPLEMENTED:case Nl.DATA_LOSS:return!0;default:return Ul()}}function Xd(t){if(void 0===t)return Ml("GRPC error has no .code"),Nl.UNKNOWN;switch(t){case $d.OK:return Nl.OK;case $d.CANCELLED:return Nl.CANCELLED;case $d.UNKNOWN:return Nl.UNKNOWN;case $d.DEADLINE_EXCEEDED:return Nl.DEADLINE_EXCEEDED;case $d.RESOURCE_EXHAUSTED:return Nl.RESOURCE_EXHAUSTED;case $d.INTERNAL:return Nl.INTERNAL;case $d.UNAVAILABLE:return Nl.UNAVAILABLE;case $d.UNAUTHENTICATED:return Nl.UNAUTHENTICATED;case $d.INVALID_ARGUMENT:return Nl.INVALID_ARGUMENT;case $d.NOT_FOUND:return Nl.NOT_FOUND;case $d.ALREADY_EXISTS:return Nl.ALREADY_EXISTS;case $d.PERMISSION_DENIED:return Nl.PERMISSION_DENIED;case $d.FAILED_PRECONDITION:return Nl.FAILED_PRECONDITION;case $d.ABORTED:return Nl.ABORTED;case $d.OUT_OF_RANGE:return Nl.OUT_OF_RANGE;case $d.UNIMPLEMENTED:return Nl.UNIMPLEMENTED;case $d.DATA_LOSS:return Nl.DATA_LOSS;default:return Ul()}}(Gd=$d||($d={}))[Gd.OK=0]="OK",Gd[Gd.CANCELLED=1]="CANCELLED",Gd[Gd.UNKNOWN=2]="UNKNOWN",Gd[Gd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gd[Gd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gd[Gd.NOT_FOUND=5]="NOT_FOUND",Gd[Gd.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gd[Gd.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gd[Gd.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gd[Gd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gd[Gd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gd[Gd.ABORTED=10]="ABORTED",Gd[Gd.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gd[Gd.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gd[Gd.INTERNAL=13]="INTERNAL",Gd[Gd.UNAVAILABLE=14]="UNAVAILABLE",Gd[Gd.DATA_LOSS=15]="DATA_LOSS";var Zd=function(){function t(t,e){this.comparator=t,this.root=e||ef.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ef.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ef.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new tf(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new tf(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new tf(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new tf(this.root,t,this.comparator,!0)},t}(),tf=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),ef=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Ul();if(this.right.isRed())throw Ul();var t=this.left.check();if(t!==this.right.check())throw Ul();return t+(this.isRed()?0:1)},t}();ef.EMPTY=null,ef.RED=!0,ef.BLACK=!1,ef.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ul()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ul()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ul()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ul()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ul()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new ef(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var nf=function(){function t(t){this.comparator=t,this.data=new Zd(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new rf(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new rf(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),rf=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),sf=new Zd(gh.comparator);function of(){return sf}var af=new Zd(gh.comparator);function uf(){return af}var cf=new Zd(gh.comparator);function lf(){return cf}var hf=new nf(gh.comparator);function df(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=hf,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var ff=new nf(Kl);function pf(){return ff}var gf=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,mf.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Wl.min(),r,pf(),of(),df())},t}(),mf=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(ih.EMPTY_BYTE_STRING,n,df(),df(),df())},t}(),yf=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},vf=function(t,e){this.targetId=t,this.V=e},bf=function(t,e,n,r){void 0===n&&(n=ih.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},_f=function(){function t(){this.S=0,this.D=Ef(),this.C=ih.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=df(),e=df(),n=df();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ul()}}),new mf(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=Ef()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),wf=function(){function t(t){this.W=t,this.G=new Map,this.H=of(),this.J=Sf(),this.Y=new nf(Kl)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.tt(r=s[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Ul()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Mh(i))if(0===n){var s=new gh(i.path);this.tt(e,s,Nh.newNoDocument(s,Wl.min()))}else ql(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var s=e.ot(i);if(s){if(r.current&&Mh(s.target)){var o=new gh(s.target.path);null!==e.H.get(o)||e.at(i,o)||e.tt(i,o,Nh.newNoDocument(o,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=df();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new gf(t,n,this.Y,this.H,r);return this.H=of(),this.J=Sf(),this.Y=new nf(Kl),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new _f,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new nf(Kl),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Fl("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new _f),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Sf(){return new Zd(gh.comparator)}function Ef(){return new Zd(gh.comparator)}var Of={asc:"ASCENDING",desc:"DESCENDING"},Cf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tf=function(t,e){this.databaseId=t,this.I=e};function If(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function xf(t,e){return t.I?e.toBase64():e.toUint8Array()}function Af(t,e){return If(t,e.toTimestamp())}function kf(t){return ql(!!t),Wl.fromTimestamp(function(t){var e=oh(t);return new Ql(e.seconds,e.nanos)}(t))}function jf(t,e){return function(t){return new th(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Nf(t){var e=th.fromString(t);return ql(np(e)),e}function Df(t,e){return jf(t.databaseId,e.path)}function Pf(t,e){var n=Nf(e);if(n.get(1)!==t.databaseId.projectId)throw new Dl(Nl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Dl(Nl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new gh(Lf(n))}function Rf(t,e){return jf(t.databaseId,e)}function Ff(t){var e=Nf(t);return 4===e.length?th.emptyPath():Lf(e)}function Mf(t){return new th(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Lf(t){return ql(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Vf(t,e,n){return{name:Df(t,e),fields:n.value.mapValue.fields}}function Uf(t,e,n){var r=Pf(t,e.name),i=kf(e.updateTime),s=new kh({mapValue:{fields:e.fields}}),o=Nh.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function qf(t,e){var n;if(e instanceof qd)n={update:Vf(t,e.key,e.value)};else if(e instanceof Qd)n={delete:Df(t,e.key)};else if(e instanceof Bd)n={update:Vf(t,e.key,e.data),updateMask:ep(e.fieldMask)};else{if(!(e instanceof Wd))return Ul();n={verify:Df(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Ed)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Od)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Td)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof xd)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Ul()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Af(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ul()}(t,e.precondition)),n}function Bf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Dd.updateTime(kf(t.updateTime)):void 0!==t.exists?Dd.exists(t.exists):Dd.none()}(e.currentDocument):Dd.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(ql("REQUEST_TIME"===e.setToServerValue),n=new Ed):"appendMissingElements"in e?n=new Od(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Td(e.removeAllFromArray.values||[]):"increment"in e?n=new xd(t,e.increment):Ul();var r=nh.fromServerFormat(e.fieldPath);return new jd(r,n)}(t,e)}):[];if(e.update){var i=Pf(t,e.update.name),s=new kh({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new rh((t.fieldPaths||[]).map(function(t){return nh.fromServerFormat(t)}))}(e.updateMask);return new Bd(i,s,o,n,r)}return new qd(i,s,n,r)}if(e.delete){var a=Pf(t,e.delete);return new Qd(a,n)}if(e.verify){var u=Pf(t,e.verify);return new Wd(u,n)}return Ul()}function Hf(t,e){return{documents:[Rf(t,e.path)]}}function zf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Rf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Rf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Ih(t.value))return{unaryFilter:{field:Yf(t.field),op:"IS_NAN"}};if(Th(t.value))return{unaryFilter:{field:Yf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ih(t.value))return{unaryFilter:{field:Yf(t.field),op:"IS_NOT_NAN"}};if(Th(t.value))return{unaryFilter:{field:Yf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yf(t.field),op:Jf(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Yf(t.field),direction:Wf(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.I||dh(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Gf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Gf(e.endAt)),n}function Kf(t){var e=Ff(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ql(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=$f(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Wh(Xf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return dh(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Qf(n.startAt));var l=null;return n.endAt&&(l=Qf(n.endAt)),td(e,i,a,o,u,"F",c,l)}function $f(t){return t?void 0!==t.unaryFilter?[tp(t)]:void 0!==t.fieldFilter?[Zf(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return $f(t)}).reduce(function(t,e){return t.concat(e)}):Ul():[]}function Gf(t){return{before:t.before,values:t.position}}function Qf(t){return new Gh(t.values||[],!!t.before)}function Wf(t){return Of[t]}function Jf(t){return Cf[t]}function Yf(t){return{fieldPath:t.canonicalString()}}function Xf(t){return nh.fromServerFormat(t.fieldPath)}function Zf(t){return Lh.create(Xf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ul()}}(t.fieldFilter.op),t.fieldFilter.value)}function tp(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Xf(t.unaryFilter.field);return Lh.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Xf(t.unaryFilter.field);return Lh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Xf(t.unaryFilter.field);return Lh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Xf(t.unaryFilter.field);return Lh.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ul()}}function ep(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function np(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function rp(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=sp(e)),e=ip(t.get(n),e);return sp(e)}function ip(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function sp(t){return t+"\x01\x01"}function op(t){var e=t.length;if(ql(e>=2),2===e)return ql("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),th.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&Ul(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Ul()}s=o+2}return new th(r)}var ap=function(t,e){this.seconds=t,this.nanoseconds=e},up=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};up.store="owner",up.key="owner";var cp=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};cp.store="mutationQueues",cp.keyPath="userId";var lp=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};lp.store="mutations",lp.keyPath="batchId",lp.userMutationsIndex="userMutationsIndex",lp.userMutationsKeyPath=["userId","batchId"];var hp=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,rp(e)]},t.key=function(t,e,n){return[t,rp(e),n]},t}();hp.store="documentMutations",hp.PLACEHOLDER=new hp;var dp=function(t,e){this.path=t,this.readTime=e},fp=function(t,e){this.path=t,this.version=e},pp=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};pp.store="remoteDocuments",pp.readTimeIndex="readTimeIndex",pp.readTimeIndexPath="readTime",pp.collectionReadTimeIndex="collectionReadTimeIndex",pp.collectionReadTimeIndexPath=["parentPath","readTime"];var gp=function(t){this.byteSize=t};gp.store="remoteDocumentGlobal",gp.key="remoteDocumentGlobalKey";var mp=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};mp.store="targets",mp.keyPath="targetId",mp.queryTargetsIndexName="queryTargetsIndex",mp.queryTargetsKeyPath=["canonicalId","targetId"];var yp=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};yp.store="targetDocuments",yp.keyPath=["targetId","path"],yp.documentTargetsIndex="documentTargetsIndex",yp.documentTargetsKeyPath=["path","targetId"];var vp=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};vp.key="targetGlobalKey",vp.store="targetGlobal";var bp=function(t,e){this.collectionId=t,this.parent=e};bp.store="collectionParents",bp.keyPath=["collectionId","parent"];var _p=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};_p.store="clientMetadata",_p.keyPath="clientId";var wp=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};wp.store="bundles",wp.keyPath="bundleId";var Sp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Sp.store="namedQueries",Sp.keyPath="name";var Ep=Object(wo.f)(Object(wo.f)([],Object(wo.f)(Object(wo.f)([],Object(wo.f)(Object(wo.f)([],Object(wo.f)(Object(wo.f)([],[cp.store,lp.store,hp.store,pp.store,mp.store,up.store,vp.store,yp.store]),[_p.store])),[gp.store])),[bp.store])),[wp.store,Sp.store]),Op="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Cp=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Tp=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Ip=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Ul(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),xp=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Tp,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new jp(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Fp(e.target.error);n.ft.reject(new jp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new jp(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Fl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Dp(e)},t}(),Ap=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(So.i)())&&Ml("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Fl("SimpleDb","Removing database:",t),Pp(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(So.i)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(wo.b)(this,void 0,void 0,function(){var e,n=this;return Object(wo.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Fl("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new jp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Dl(Nl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new jp(t,n))},i.onupgradeneeded=function(t){Fl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Fl("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(wo.b)(this,void 0,void 0,function(){var i,s,o,a,u;return Object(wo.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(wo.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=xp.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),Ip.reject(t)}).toPromise(),u={},o.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return Fl("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),kp=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Pp(this.Pt.delete())},t}(),jp=function(t){function e(e,n){var r=this;return(r=t.call(this,Nl.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(wo.c)(e,t),e}(Dl);function Np(t){return"IndexedDbTransactionError"===t.name}var Dp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Fl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Fl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Pp(n)},t.prototype.add=function(t){return Fl("SimpleDb","ADD",this.store.name,t,t),Pp(this.store.add(t))},t.prototype.get=function(t){var e=this;return Pp(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Fl("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Fl("SimpleDb","DELETE",this.store.name,t),Pp(this.store.delete(t))},t.prototype.count=function(){return Fl("SimpleDb","COUNT",this.store.name),Pp(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.kt=function(t,e){Fl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Ip(function(n,r){e.onerror=function(t){var e=Fp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Ip(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new kp(i),o=e(i.primaryKey,i.value,s);if(o instanceof Ip){var a=o.catch(function(t){return s.done(),Ip.reject(t)});n.push(a)}s.isDone?r():null===s.Dt?i.continue():i.continue(s.Dt)}else r()}}).next(function(){return Ip.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Pp(t){return new Ip(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Fp(t.target.error);n(e)}})}var Rp=!1;function Fp(t){var e=Ap._t(Object(So.i)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Dl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Rp||(Rp=!0,setTimeout(function(){throw r},0)),r}}return t}var Mp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(wo.c)(e,t),e}(Cp);function Lp(t,e){var n=Bl(t);return Ap.It(n.Mt,e)}var Vp=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Fd(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(s=n[e]).key.isEqual(t.key)&&Md(s,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var s;(s=i[r]).key.isEqual(t.key)&&Md(s,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Wl.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},df())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&$l(this.mutations,t.mutations,function(t,e){return Vd(t,e)})&&$l(this.baseMutations,t.baseMutations,function(t,e){return Vd(t,e)})},t}(),Up=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){ql(e.mutations.length===r.length);for(var i=lf(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),qp=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=Wl.min()),void 0===s&&(s=Wl.min()),void 0===o&&(o=ih.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Bp=function(t){this.Lt=t};function Hp(t,e){if(e.document)return Uf(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=gh.fromSegments(e.noDocument.path),r=Qp(e.noDocument.readTime),i=Nh.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var s=gh.fromSegments(e.unknownDocument.path);return r=Qp(e.unknownDocument.version),Nh.newUnknownDocument(s,r)}return Ul()}function zp(t,e,n){var r=Kp(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(t,e){return{name:Df(t,e.key),fields:e.data.value.mapValue.fields,updateTime:If(t,e.version.toTimestamp())}}(t.Lt,e),o=e.hasCommittedMutations;return new pp(null,null,s,o,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Gp(e.version);return o=e.hasCommittedMutations,new pp(null,new dp(a,u),null,o,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Gp(e.version);return new pp(new fp(c,l),null,null,!0,r,i)}return Ul()}function Kp(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function $p(t){var e=new Ql(t[0],t[1]);return Wl.fromTimestamp(e)}function Gp(t){var e=t.toTimestamp();return new ap(e.seconds,e.nanoseconds)}function Qp(t){var e=new Ql(t.seconds,t.nanoseconds);return Wl.fromTimestamp(e)}function Wp(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Bf(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Bf(t.Lt,e)}),s=Ql.fromMillis(e.localWriteTimeMs);return new Vp(e.batchId,s,n,i)}function Jp(t){var e,n,r=Qp(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Qp(t.lastLimboFreeSnapshotVersion):Wl.min();return void 0!==t.query.documents?(ql(1===(n=t.query).documents.length),e=ud(ed(Ff(n.documents[0])))):e=function(t){return ud(Kf(t))}(t.query),new qp(e,t.targetId,0,t.lastListenSequenceNumber,r,i,ih.fromBase64String(t.resumeToken))}function Yp(t,e){var n,r=Gp(e.snapshotVersion),i=Gp(e.lastLimboFreeSnapshotVersion);n=Mh(e.target)?Hf(t.Lt,e.target):zf(t.Lt,e.target);var s=e.resumeToken.toBase64();return new mp(e.targetId,Rh(e.target),r,s,e.sequenceNumber,i,n)}function Xp(t){var e=Kf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?cd(e,e.limit,"L"):e}var Zp=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return tg(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Qp(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return tg(t).put({bundleId:(n=e).id,createTime:Gp(kf(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return eg(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Xp(e.bundledQuery),readTime:Qp(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return eg(t).put(function(t){return{name:t.name,readTime:Gp(kf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function tg(t){return Lp(t,wp.store)}function eg(t){return Lp(t,Sp.store)}var ng=function(){function t(){this.Bt=new rg}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Ip.resolve()},t.prototype.getCollectionParents=function(t,e){return Ip.resolve(this.Bt.getEntries(e))},t}(),rg=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new nf(th.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new nf(th.comparator)).toArray()},t}(),ig=function(){function t(){this.qt=new rg}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var s={collectionId:r,parent:rp(i)};return sg(t).put(s)}return Ip.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Gl(e),""],!1,!0);return sg(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(op(s.parent))}return n})},t}();function sg(t){return Lp(t,bp.store)}var og={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ag=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function ug(t,e,n){var r=t.store(lp.store),i=t.store(hp.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){ql(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=hp.key(e,d.key.path,n.batchId);s.push(i.delete(f)),c.push(d.key)}return Ip.waitFor(s).next(function(){return c})}function cg(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ul();e=t.noDocument}return JSON.stringify(e).length}ag.DEFAULT_COLLECTION_PERCENTILE=10,ag.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ag.DEFAULT=new ag(41943040,ag.DEFAULT_COLLECTION_PERCENTILE,ag.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ag.DISABLED=new ag(-1,0,0);var lg=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return ql(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return dg(t).$t({index:lp.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=fg(t),o=dg(t);return o.add({}).next(function(a){ql("number"==typeof a);for(var u=new Vp(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return qf(t.Lt,e)}),i=n.mutations.map(function(e){return qf(t.Lt,e)});return new lp(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new nf(function(t,e){return Kl(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],g=hp.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(o.put(c)),l.push(s.put(g,hp.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[a]=u.keys()}),Ip.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return dg(t).get(e).next(function(t){return t?(ql(t.userId===n.userId),Wp(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?Ip.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return dg(t).$t({index:lp.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(ql(e.batchId>=r),s=Wp(n.R,e)),i.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return dg(t).$t({index:lp.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return dg(t).Nt(lp.userMutationsIndex,n).next(function(t){return t.map(function(t){return Wp(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=hp.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return fg(t).$t({range:i},function(r,i,o){var a=r[0],u=r[2],c=op(r[1]);if(a===n.userId&&e.path.isEqual(c))return dg(t).get(u).next(function(t){if(!t)throw Ul();ql(t.userId===n.userId),s.push(Wp(n.R,t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new nf(Kl),i=[];return e.forEach(function(e){var s=hp.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=fg(t).$t({range:o},function(t,i,s){var o=t[0],a=t[2],u=op(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),Ip.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=hp.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new nf(Kl);return fg(t).$t({range:o},function(t,e,s){var o=t[0],u=t[2],c=op(t[1]);o===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(dg(t).get(e).next(function(t){if(null===t)throw Ul();ql(t.userId===n.userId),r.push(Wp(n.R,t))}))}),Ip.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return ug(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Ip.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Ip.resolve();var r=IDBKeyRange.lowerBound(hp.prefixForUser(e.userId)),i=[];return fg(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var s=op(t[1]);i.push(s)}else r.done()}).next(function(){ql(0===i.length)})})},t.prototype.containsKey=function(t,e){return hg(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return pg(t).get(this.userId).next(function(t){return t||new cp(e.userId,-1,"")})},t}();function hg(t,e,n){var r=hp.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return fg(t).$t({range:s,Ft:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function dg(t){return Lp(t,lp.store)}function fg(t){return Lp(t,hp.store)}function pg(t){return Lp(t,cp.store)}var gg=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),mg=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new gg(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Wl.fromTimestamp(new Ql(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return yg(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return ql(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return yg(t).$t(function(o,a){var u=Jp(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.removeTargetData(t,u)))}).next(function(){return Ip.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return yg(t).$t(function(t,n){var r=Jp(n);e(r)})},t.prototype.Xt=function(t){return vg(t).get(vp.key).next(function(t){return ql(null!==t),t})},t.prototype.Zt=function(t,e){return vg(t).put(vp.key,e)},t.prototype.te=function(t,e){return yg(t).put(Yp(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Rh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return yg(t).$t({range:r,index:mp.queryTargetsIndexName},function(t,n,r){var s=Jp(n);Fh(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=bg(t);return e.forEach(function(e){var o=rp(e.path);i.push(s.put(new yp(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))}),Ip.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=bg(t);return Ip.forEach(e,function(e){var s=rp(e.path);return Ip.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=bg(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=bg(t),i=df();return r.$t({range:n,Ft:!0},function(t,e,n){var r=op(t[1]),s=new gh(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=rp(e.path),r=IDBKeyRange.bound([n],[Gl(n)],!1,!0),i=0;return bg(t).$t({index:yp.documentTargetsIndex,Ft:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return yg(t).get(e).next(function(t){return t?Jp(t):null})},t}();function yg(t){return Lp(t,mp.store)}function vg(t){return Lp(t,vp.store)}function bg(t){return Lp(t,yp.store)}function _g(t){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(e){if(t.code!==Nl.FAILED_PRECONDITION||t.message!==Op)throw t;return Fl("LocalStore","Unexpectedly lost primary lease"),[2]})})}function wg(t,e){var n=t[1],r=e[1],i=Kl(t[0],e[0]);return 0===i?Kl(n,r):i}var Sg=function(){function t(t){this.ne=t,this.buffer=new nf(wg),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();wg(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Eg=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Fl("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(wo.b)(e,void 0,void 0,function(){var e;return Object(wo.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Np(e=n.sent())?(Fl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,_g(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Og=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Ip.resolve(jl.o);var r=new Sg(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Fl("LruGarbageCollector","Garbage collection skipped; disabled"),Ip.resolve(og)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Fl("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),og):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(Fl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,o=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Rl()<=Eo.a.DEBUG&&Fl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Ip.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Cg=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Og(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Tg(t,n)},t.prototype.removeReference=function(t,e,n){return Tg(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Tg(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return pg(t).Ot(function(r){return hg(t,r,e).next(function(t){return t&&(n=!0),Ip.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.we(t,function(o,a){if(a<=e){var u=n._e(t,o).next(function(e){if(!e)return s++,r.getEntry(t,o).next(function(){return r.removeEntry(o),bg(t).delete([0,rp(o.path)])})});i.push(u)}}).next(function(){return Ip.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Tg(t,e)},t.prototype.we=function(t,e){var n,r=bg(t),i=jl.o;return r.$t({index:yp.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==jl.o&&e(new gh(op(n)),i),i=o,n=s):i=jl.o}).next(function(){i!==jl.o&&e(new gh(op(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Tg(t,e){return bg(t).put(function(t,e){return new yp(0,rp(t.path),e)}(e,t.currentSequenceNumber))}var Ig=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Yl(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return Xl(this.inner)},t}(),xg=function(){function t(){this.changes=new Ig(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Wl.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Nh.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Ip.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Ag=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Ng(t).put(Dg(e),n)},t.prototype.removeEntry=function(t,e){var n=Ng(t),r=Dg(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Ng(t).get(Dg(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Ng(t).get(Dg(e)).next(function(t){return{document:n.ye(e,t),size:cg(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=of();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=of(),i=new Zd(gh.comparator);return this.pe(t,e,function(t,e){var s=n.ye(t,e);r=r.insert(t,s),i=i.insert(t,cg(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Ip.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return Ng(t).$t({range:r},function(t,e,r){for(var o=gh.fromSegments(t);s&&gh.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ct(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=of(),s=e.path.length+1,o={};if(n.isEqual(Wl.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=Kp(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=pp.collectionReadTimeIndex}return Ng(t).$t(o,function(t,n,o){if(t.length===s){var a=Hp(r.R,n);e.path.isPrefixOf(a.key.path)?fd(e,a)&&(i=i.insert(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new kg(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return jg(t).get(gp.key).next(function(t){return ql(!!t),t})},t.prototype.me=function(t,e){return jg(t).put(gp.key,e)},t.prototype.ye=function(t,e){if(e){var n=Hp(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Wl.min()))return n}return Nh.newInvalidDocument(t)},t}(),kg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Ig(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(wo.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new nf(function(t,e){return Kl(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(s,o){var a=e.Ae.get(s);if(o.document.isValidDocument()){var u=zp(e.Ie.R,o.document,e.getReadTime(s));i=i.add(s.path.popLast());var c=cg(u);r+=c-a,n.push(e.Ie.addEntry(t,s,u))}else if(r-=a,e.trackRemovals){var l=zp(e.Ie.R,Nh.newNoDocument(s,Wl.min()),e.getReadTime(s));n.push(e.Ie.addEntry(t,s,l))}else n.push(e.Ie.removeEntry(t,s))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Ip.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(xg);function jg(t){return Lp(t,gp.store)}function Ng(t){return Lp(t,pp.store)}function Dg(t){return t.path.toArray()}var Pg=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;ql(n<r&&n>=0&&r<=11);var s=new xp("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(up.store)}(t),function(t){t.createObjectStore(cp.store,{keyPath:cp.keyPath}),t.createObjectStore(lp.store,{keyPath:lp.keyPath,autoIncrement:!0}).createIndex(lp.userMutationsIndex,lp.userMutationsKeyPath,{unique:!0}),t.createObjectStore(hp.store)}(t),Rg(t),function(t){t.createObjectStore(pp.store)}(t));var o=Ip.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(yp.store),t.deleteObjectStore(mp.store),t.deleteObjectStore(vp.store)}(t),Rg(t)),o=o.next(function(){return function(t){var e=t.store(vp.store),n=new vp(0,0,Wl.min().toTimestamp(),0);return e.put(vp.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(lp.store).Nt().next(function(n){t.deleteObjectStore(lp.store),t.createObjectStore(lp.store,{keyPath:lp.keyPath,autoIncrement:!0}).createIndex(lp.userMutationsIndex,lp.userMutationsKeyPath,{unique:!0});var r=e.store(lp.store),i=n.map(function(t){return r.put(t)});return Ip.waitFor(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(_p.store,{keyPath:_p.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Re(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(gp.store)}(t),i.be(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ve(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Pe(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(pp.store);e.createIndex(pp.readTimeIndex,pp.readTimeIndexPath,{unique:!1}),e.createIndex(pp.collectionReadTimeIndex,pp.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Ve(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(wp.store,{keyPath:wp.keyPath})}(t),function(t){t.createObjectStore(Sp.store,{keyPath:Sp.keyPath})}(t)})),o},t.prototype.be=function(t){var e=0;return t.store(pp.store).$t(function(t,n){e+=cg(n)}).next(function(){var n=new gp(e);return t.store(gp.store).put(gp.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(cp.store),r=t.store(lp.store);return n.Nt().next(function(n){return Ip.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(lp.userMutationsIndex,i).next(function(r){return Ip.forEach(r,function(r){ql(r.userId===n.userId);var i=Wp(e.R,r);return ug(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(yp.store),n=t.store(pp.store);return t.store(vp.store).get(vp.key).next(function(t){var r=[];return n.$t(function(n,i){var s=new th(n),o=function(t){return[0,rp(t)]}(s);r.push(e.get(o).next(function(n){return n?Ip.resolve():function(n){return e.put(new yp(0,rp(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return Ip.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(bp.store,{keyPath:bp.keyPath});var n=e.store(bp.store),r=new rg,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:rp(i)})}};return e.store(pp.store).$t({Ft:!0},function(t,e){var n=new th(t);return i(n.popLast())}).next(function(){return e.store(hp.store).$t({Ft:!0},function(t,e){var n=op(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(mp.store);return n.$t(function(t,r){var i=Jp(r),s=Yp(e.R,i);return n.put(s)})},t}();function Rg(t){t.createObjectStore(yp.store,{keyPath:yp.keyPath}).createIndex(yp.documentTargetsIndex,yp.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(mp.store,{keyPath:mp.keyPath}).createIndex(mp.queryTargetsIndexName,mp.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(vp.store)}var Fg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Mg=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=o,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Dl(Nl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Cg(this,i),this.Le=n+"main",this.R=new Bp(u),this.Be=new Ap(this.Le,11,new Pg(this.R)),this.qe=new mg(this.referenceDelegate,this.R),this.Ut=new ig,this.Ue=function(t,e){return new Ag(t,e)}(this.R,this.Ut),this.Ke=new Zp,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Ml("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Dl(Nl.FAILED_PRECONDITION,Fg);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new jl(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(wo.b)(e,void 0,void 0,function(){return Object(wo.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(wo.b)(e,void 0,void 0,function(){return Object(wo.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(wo.b)(e,void 0,void 0,function(){return Object(wo.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Vg(e).put(new _p(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Np(e))return Fl("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Fl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Lg(t).get(up.key).next(function(t){return Ip.resolve(e.tn(t))})},t.prototype.en=function(t){return Vg(t).delete(this.clientId)},t.prototype.nn=function(){return Object(wo.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(wo.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Lp(t,_p.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Ip.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Ip.resolve(!0):Lg(t).get(up.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Dl(Nl.FAILED_PRECONDITION,Fg);return!1}}return!(!e.networkEnabled||!e.inForeground)||Vg(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Fl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(wo.b)(this,void 0,void 0,function(){var t=this;return Object(wo.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[up.store,_p.store],function(e){var n=new Mp(e,jl.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Vg(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return lg.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Fl("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Ep,function(s){return r=new Mp(s,i.Ne?i.Ne.next():jl.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Ml("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Dl(Nl.FAILED_PRECONDITION,Op);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Lg(t).get(up.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Dl(Nl.FAILED_PRECONDITION,Fg)})},t.prototype.Ze=function(t){var e=new up(this.clientId,this.allowTabSynchronization,Date.now());return Lg(t).put(up.key,e)},t.yt=function(){return Ap.yt()},t.prototype.Xe=function(t){var e=this,n=Lg(t);return n.get(up.key).next(function(t){return e.tn(t)?(Fl("IndexedDbPersistence","Releasing primary lease."),n.delete(up.key)):Ip.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Ml("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),Object(So.q)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Fl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Ml("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Ml("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Lg(t){return Lp(t,up.store)}function Vg(t){return Lp(t,_p.store)}function Ug(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var qg=function(t,e){this.progress=t,this.wn=e},Bg=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return gh.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):od(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new gh(e)).next(function(t){var e=uf();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,s=uf();return this.Ut.getCollectionParents(t,i).next(function(o){return Ip.forEach(o,function(o){var a=function(t,e){return new Zh(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},t.prototype.An=function(t,e,n){var r,i,s=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,s._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return s.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c);null==l&&(l=Nh.newInvalidDocument(c),r=r.insert(c,l)),Md(u,l,s.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){fd(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=df(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof Bd&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),Hg=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=df(),i=df(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),zg=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Wl.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(s){var o=i.Cn(e,s);return(nd(e)||rd(e))&&i.Nn(e.limitType,o,r,n)?i.Dn(t,e):(Rl()<=Eo.a.DEBUG&&Fl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),dd(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return o.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new nf(pd(t));return e.forEach(function(e,r){fd(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Rl()<=Eo.a.DEBUG&&Fl("QueryEngine","Using full collection scan to execute query:",dd(e)),this.Sn.getDocumentsMatchingQuery(t,e,Wl.min())},t}(),Kg=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new Zd(Kl),this.Fn=new Ig(function(t){return Rh(t)},Fh),this.$n=Wl.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Bg(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.kn)})},t}();function $g(t,e,n,r){return new Kg(t,e,n,r)}function Gg(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(wo.d)(this,function(o){switch(o.label){case 0:return n=Bl(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n._n.getAllMutationBatches(t).next(function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new Bg(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],o=df(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return i.pn(t,o).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return s=o.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function Qg(t,e){var n=Bl(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Ip.resolve();return s.forEach(function(t){o=o.next(function(){return r.getEntry(e,t)}).next(function(e){var s=n.docVersions.get(t);ql(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),o.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function Wg(t){var e=Bl(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Jg(t,e){var n=Bl(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var o=[];e.targetChanges.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.qe.removeMatchingKeys(t,e.removedDocuments,s).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,s)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,c),function(t,e,n){return ql(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&o.push(n.qe.updateTargetData(t,c))}}});var a=of();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(Yg(t,s,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(Wl.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});o.push(u)}return Ip.waitFor(o).next(function(){return s.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.kn=i,t})}function Yg(t,e,n,r,i){var s=df();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=of();return n.forEach(function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Wl.min())?(e.removeEntry(n,u),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,u),s=s.insert(n,o)):Fl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function Xg(t,e){var n=Bl(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Zg(t,e){var n=Bl(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Ip.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new qp(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t})}function tm(t,e,n){return Object(wo.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(wo.d)(this,function(a){switch(a.label){case 0:r=Bl(t),i=r.kn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Np(o=a.sent()))throw o;return Fl("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}})})}function em(t,e,n){var r=Bl(t),i=Wl.min(),s=df();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Bl(t),i=r.Fn.get(n);return void 0!==i?Ip.resolve(r.kn.get(i)):r.qe.getTargetData(e,n)}(r,t,ud(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){s=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Wl.min(),n?s:df())}).next(function(t){return{documents:t,Bn:s}})})}function nm(t,e){var n=Bl(t),r=Bl(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function rm(t){var e=Bl(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Bl(t),i=of(),s=Kp(n),o=Ng(e),a=IDBKeyRange.lowerBound(s,!0);return o.$t({index:pp.readTimeIndex,range:a},function(t,e){var n=Hp(r.R,e);i=i.insert(n.key,n),s=e.readTime}).next(function(){return{wn:i,readTime:$p(s)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function im(t){return Object(wo.b)(this,void 0,void 0,function(){var e;return Object(wo.d)(this,function(n){return[2,(e=Bl(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Ng(t),n=Wl.min();return e.$t({index:pp.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=$p(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function sm(t,e,n,r){return Object(wo.b)(this,void 0,void 0,function(){var i,s,o,a,u,c,l,h,d,f;return Object(wo.d)(this,function(p){switch(p.label){case 0:for(i=Bl(t),s=df(),o=of(),a=lf(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(s=s.add(h)),o=o.insert(h,e.Un(l)),a=a.insert(h,e.Kn(l.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,Zg(i,function(t){return ud(ed(th.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Yg(t,d,o,Wl.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return i.qe.addMatchingKeys(t,s,f.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function om(t,e,n){return void 0===n&&(n=df()),Object(wo.b)(this,void 0,void 0,function(){var r,i;return Object(wo.d)(this,function(s){switch(s.label){case 0:return[4,Zg(t,ud(Xp(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=Bl(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=kf(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ke.saveNamedQuery(t,e);var o=r.withResumeToken(ih.EMPTY_BYTE_STRING,s);return i.kn=i.kn.insert(o.targetId,o),i.qe.updateTargetData(t,o).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(t,e)})})]}})})}var am=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Ip.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:kf(n.createTime)}),Ip.resolve()},t.prototype.getNamedQuery=function(t,e){return Ip.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Xp(t.bundledQuery),readTime:kf(t.readTime)}}(e)),Ip.resolve()},t}(),um=function(){function t(){this.Wn=new nf(cm.Gn),this.zn=new nf(cm.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new cm(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new cm(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new gh(new th([])),r=new cm(n,t),i=new cm(n,t+1),s=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),s.push(t.key)}),s},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new gh(new th([])),n=new cm(e,t),r=new cm(e,t+1),i=df();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new cm(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),cm=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return gh.comparator(t.key,e.key)||Kl(t.ns,e.ns)},t.Hn=function(t,e){return Kl(t.ns,e.ns)||gh.comparator(t.key,e.key)},t}(),lm=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new nf(cm.Gn)}return t.prototype.checkEmpty=function(t){return Ip.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var s=new Vp(i,e,n,r);this._n.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.rs=this.rs.add(new cm(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Ip.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return Ip.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Ip.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Ip.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Ip.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new cm(e,0),i=new cm(e,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);s.push(e)}),Ip.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new nf(Kl);return e.forEach(function(t){var e=new cm(t,0),i=new cm(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Ip.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;gh.isDocumentKey(i)||(i=i.child(""));var s=new cm(new gh(i),0),o=new nf(Kl);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ns)),!0)},s),Ip.resolve(this.us(o))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;ql(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Ip.forEach(e.mutations,function(i){var s=new cm(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new cm(e,0),r=this.rs.firstAfterOrEqual(n);return Ip.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Ip.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),hm=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Zd(gh.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Ip.resolve(n?n.document.clone():Nh.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=of();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Nh.newInvalidDocument(t))}),Ip.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=of(),i=new gh(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;c.compareTo(n)<=0||fd(e,u)&&(r=r.insert(u.key,u.clone()))}return Ip.resolve(r)},t.prototype.fs=function(t,e){return Ip.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new dm(this)},t.prototype.getSize=function(t){return Ip.resolve(this.size)},t}(),dm=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(wo.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Ip.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(xg),fm=function(){function t(t){this.persistence=t,this.ds=new Ig(function(t){return Rh(t)},Fh),this.lastRemoteSnapshotVersion=Wl.min(),this.highestTargetId=0,this.ws=0,this._s=new um,this.targetCount=0,this.ys=gg.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Ip.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Ip.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Ip.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Ip.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Ip.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new gg(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Ip.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Ip.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Ip.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.ds.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Ip.waitFor(s).next(function(){return i})},t.prototype.getTargetCount=function(t){return Ip.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Ip.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Ip.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Ip.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Ip.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Ip.resolve(n)},t.prototype.containsKey=function(t,e){return Ip.resolve(this._s.containsKey(e))},t}(),pm=function(){function t(t,e){var n=this;this.gs={},this.Ne=new jl(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new fm(this),this.Ut=new ng,this.Ue=function(t,e){return new hm(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Bp(e),this.Ke=new am(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new lm(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Fl("MemoryPersistence","Starting transaction:",t);var i=new gm(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Ip.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),gm=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(wo.c)(e,t),e}(Cp),mm=function(){function t(t){this.persistence=t,this.As=new um,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Ul()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Ip.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Ip.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Ip.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ip.forEach(this.vs,function(r){var i=gh.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Ip.or([function(){return Ip.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),ym=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function vm(t,e){return"firestore_clients_"+t+"_"+e}function bm(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function _m(t,e){return"firestore_targets_"+t+"_"+e}ym.UNAUTHENTICATED=new ym(null),ym.GOOGLE_CREDENTIALS=new ym("google-credentials-uid"),ym.FIRST_PARTY=new ym("first-party-uid"),ym.MOCK_USER=new ym("mock-user");var wm=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new Dl(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(Ml("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Sm=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Dl(i.error.code,i.error.message)),s?new t(e,i.state,r):(Ml("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Em=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=pf(),o=0;i&&o<r.activeTargetIds.length;++o)i=ph(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Ml("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Om=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Ml("SharedClientState","Failed to parse online state: "+e),null)},t}(),Cm=function(){function t(){this.activeTargetIds=pf()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Tm=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Zd(Kl),this.started=!1,this.$s=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=vm(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Cm),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(wo.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(wo.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(vm(this.persistenceKey,r)))&&(s=Em.Vs(r,i))&&(this.Fs=this.Fs.insert(s.clientId,s));for(this.Qs(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.ks(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(_m(this.persistenceKey,t));if(n){var r=Sm.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(_m(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Fl("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Fl("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Fl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Fl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Ml("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(wo.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(wo.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(o=function(t){var e=jl.o;if(null!=t)try{var n=JSON.parse(t);ql("number"==typeof n),e=n}catch(t){Ml("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==jl.o&&this.sequenceNumberHandler(o);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new wm(this.currentUser,t,e,n),i=bm(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=bm(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=_m(this.persistenceKey,t),i=new Sm(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Em.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return wm.Vs(new ym(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Sm.Vs(r,e)},t.prototype.js=function(t){return Om.Vs(t)},t.prototype.ii=function(t){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Fl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),s=this.Gs(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.syncEngine.hi(o,a).then(function(){n.Fs=r})},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=pf();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Im=function(){function t(){this.li=new Cm,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Cm,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),xm=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Am=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Fl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Fl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),km={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},jm=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Nm=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(wo.c)(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise(function(i,s){var o=new kl;o.listenOnce(Tl.COMPLETE,function(){try{switch(o.getLastErrorCode()){case Cl.NO_ERROR:var e=o.getResponseJson();Fl("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Cl.TIMEOUT:Fl("Connection",'RPC "'+t+'" timed out'),s(new Dl(Nl.DEADLINE_EXCEEDED,"Request time out"));break;case Cl.HTTP_ERROR:var n=o.getStatus();if(Fl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Nl).indexOf(e)>=0?e:Nl.UNKNOWN}(r.status);s(new Dl(a,r.message))}else s(new Dl(Nl.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Dl(Nl.UNAVAILABLE,"Connection failed."));break;default:Ul()}}finally{Fl("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new _l,i=pu(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new xl({})),this.ki(s.initMessageHeaders,e),Object(So.n)()||Object(So.p)()||Object(So.l)()||Object(So.m)()||Object(So.r)()||Object(So.k)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Fl("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new jm({Ei:function(t){c?Fl("Connection","Not sending because WebChannel is closed:",t):(u||(Fl("Connection","Opening WebChannel transport."),a.open(),u=!0),Fl("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Al.EventType.OPEN,function(){c||Fl("Connection","WebChannel transport opened.")}),h(a,Al.EventType.CLOSE,function(){c||(c=!0,Fl("Connection","WebChannel transport closed"),l.Vi())}),h(a,Al.EventType.ERROR,function(t){c||(c=!0,Ll("Connection","WebChannel transport errored:",t),l.Vi(new Dl(Nl.UNAVAILABLE,"The operation could not be completed")))}),h(a,Al.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];ql(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Fl("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=$d[t];if(void 0!==e)return Xd(e)}(i),o=r.message;void 0===s&&(s=Nl.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Dl(s,o)),a.close()}else Fl("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Il.STAT_EVENT,function(t){10===t.stat?Fl("Connection","Detected buffering proxy"):11===t.stat&&Fl("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Fl("RestConnection","Sending: ",i,n);var s={};return this.ki(s,r),this.Fi(t,i,s,n).then(function(t){return Fl("RestConnection","Received: ",t),t},function(e){throw Ll("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+km[t]},t}());function Dm(){return"undefined"!=typeof window?window:null}function Pm(){return"undefined"!=typeof document?document:null}function Rm(t){return new Tf(t,!0)}var Fm=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Fl("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Mm=function(){function t(t,e,n,r,i,s){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Fm(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Nl.RESOURCE_EXHAUSTED?(Ml(e.toString()),Ml("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Nl.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Dl(Nl.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(wo.b)(t,void 0,void 0,function(){return Object(wo.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return Fl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Fl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Lm=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).R=i,o}return Object(wo.c)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ul()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.I?(ql(void 0===e||"string"==typeof e),ih.fromBase64String(e||"")):(ql(void 0===e||e instanceof Uint8Array),ih.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Nl.UNKNOWN:Xd(t.code);return new Dl(e,t.message||"")}(a);n=new bf(r,i,s,o||null)}else if("documentChange"in e){i=Pf(t,(r=e.documentChange).document.name),s=kf(r.document.updateTime);var a=new kh({mapValue:{fields:r.document.fields}}),u=(o=Nh.newFoundDocument(i,s,a),r.targetIds||[]);n=new yf(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=Pf(t,(r=e.documentDelete).document),s=r.readTime?kf(r.readTime):Wl.min(),a=Nh.newNoDocument(i,s),n=new yf([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Pf(t,(r=e.documentRemove).document),n=new yf([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Ul();var c=e.filter;i=new Jd(r=c.count||0),n=new vf(s=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Wl.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Wl.min():e.readTime?kf(e.readTime):Wl.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Mf(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Mh(r)?{documents:Hf(t,r)}:{query:zf(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=xf(t,e.resumeToken):e.snapshotVersion.compareTo(Wl.min())>0&&(n.readTime=If(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ul()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Mf(this.R),e.removeTarget=t,this.cr(e)},e}(Mm),Vm=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).R=i,o.gr=!1,o}return Object(wo.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(ql(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(ql(void 0!==e),t.map(function(t){return function(t,e){var n=kf(t.updateTime?t.updateTime:e);return n.isEqual(Wl.min())&&(n=kf(e)),new Nd(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=kf(t.commitTime);return this.listener.Tr(n,e)}return ql(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Mf(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return qf(e.R,t)})};this.cr(n)},e}(Mm),Um=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(wo.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new Dl(Nl.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Nl.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Dl(Nl.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Nl.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Dl(Nl.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),qm=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Ml(e),this.Vr=!1):Fl("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Bm=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(wo.b)(s,void 0,void 0,function(){return Object(wo.d)(this,function(t){switch(t.label){case 0:return Ym(this)?(Fl("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(wo.b)(this,void 0,void 0,function(){var e;return Object(wo.d)(this,function(n){switch(n.label){case 0:return(e=Bl(t)).Or.add(4),[4,zm(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Hm(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new qm(n,r)};function Hm(t){return Object(wo.b)(this,void 0,void 0,function(){var e,n;return Object(wo.d)(this,function(r){switch(r.label){case 0:if(!Ym(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function zm(t){return Object(wo.b)(this,void 0,void 0,function(){var e,n;return Object(wo.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Km(t,e){var n=Bl(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Jm(n)?Wm(n):dy(n).er()&&Gm(n,e))}function $m(t,e){var n=Bl(t),r=dy(n);n.$r.delete(e),r.er()&&Qm(n,e),0===n.$r.size&&(r.er()?r.ir():Ym(n)&&n.Br.set("Unknown"))}function Gm(t,e){t.qr.U(e.targetId),dy(t).mr(e)}function Qm(t,e){t.qr.U(e),dy(t).yr(e)}function Wm(t){t.qr=new wf({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),dy(t).start(),t.Br.Sr()}function Jm(t){return Ym(t)&&!dy(t).tr()&&t.$r.size>0}function Ym(t){return 0===Bl(t).Or.size}function Xm(t){t.qr=void 0}function Zm(t){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(e){return t.$r.forEach(function(e,n){Gm(t,e)}),[2]})})}function ty(t,e){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(n){return Xm(t),Jm(t)?(t.Br.Nr(e),Wm(t)):t.Br.set("Unknown"),[2]})})}function ey(t,e,n){return Object(wo.b)(this,void 0,void 0,function(){var r,i,s;return Object(wo.d)(this,function(o){switch(o.label){case 0:if(t.Br.set("Online"),!(e instanceof bf&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(wo.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.$r.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.$r.delete(s),t.qr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Fl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,ny(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof yf?t.qr.X(e):e instanceof vf?t.qr.rt(e):t.qr.et(e),n.isEqual(Wl.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,Wg(t.localStore)];case 8:return i=o.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(ih.EMPTY_BYTE_STRING,n.snapshotVersion)),Qm(t,e);var r=new qp(n.target,e,1,n.sequenceNumber);Gm(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Fl("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,ny(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function ny(t,e,n){return Object(wo.b)(this,void 0,void 0,function(){var r=this;return Object(wo.d)(this,function(i){switch(i.label){case 0:if(!Np(e))throw e;return t.Or.add(1),[4,zm(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Wg(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(wo.b)(r,void 0,void 0,function(){return Object(wo.d)(this,function(e){switch(e.label){case 0:return Fl("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Hm(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function ry(t,e){return e().catch(function(n){return ny(t,n,e)})}function iy(t){return Object(wo.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(wo.d)(this,function(o){switch(o.label){case 0:e=Bl(t),n=fy(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return Ym(t)&&t.Fr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,Xg(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.Fr.push(e);var n=fy(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,ny(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return sy(e)&&oy(e),[2]}})})}function sy(t){return Ym(t)&&!fy(t).tr()&&t.Fr.length>0}function oy(t){fy(t).start()}function ay(t){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(e){return fy(t).Ar(),[2]})})}function uy(t){return Object(wo.b)(this,void 0,void 0,function(){var e,n,r;return Object(wo.d)(this,function(i){for(e=fy(t),n=0,r=t.Fr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function cy(t,e,n){return Object(wo.b)(this,void 0,void 0,function(){var r,i;return Object(wo.d)(this,function(s){switch(s.label){case 0:return r=t.Fr.shift(),i=Up.from(r,e,n),[4,ry(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,iy(t)];case 2:return s.sent(),[2]}})})}function ly(t,e){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(n){switch(n.label){case 0:return e&&fy(t).pr?[4,function(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r;return Object(wo.d)(this,function(i){switch(i.label){case 0:return Yd(r=e.code)&&r!==Nl.ABORTED?(n=t.Fr.shift(),fy(t).sr(),[4,ry(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,iy(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return sy(t)&&oy(t),[2]}})})}function hy(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n;return Object(wo.d)(this,function(r){switch(r.label){case 0:return n=Bl(t),e?(n.Or.delete(2),[4,Hm(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,zm(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function dy(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Bl(t);return r.br(),new Lm(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Zm.bind(null,t),Ri:ty.bind(null,t),_r:ey.bind(null,t)}),t.Mr.push(function(n){return Object(wo.b)(e,void 0,void 0,function(){return Object(wo.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Jm(t)?Wm(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Xm(t),e.label=3;case 3:return[2]}})})})),t.Ur}function fy(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=Bl(t);return r.br(),new Vm(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:ay.bind(null,t),Ri:ly.bind(null,t),Ir:uy.bind(null,t),Tr:cy.bind(null,t)}),t.Mr.push(function(n){return Object(wo.b)(e,void 0,void 0,function(){return Object(wo.d)(this,function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,iy(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(Fl("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}})})})),t.Kr}var py=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Tp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Dl(Nl.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function gy(t,e){if(Ml("AsyncQueue",e+": "+t),Np(t))return new Dl(Nl.UNAVAILABLE,e+": "+t);throw t}var my=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||gh.comparator(e.key,n.key)}:function(t,e){return gh.comparator(t.key,e.key)},this.keyedMap=uf(),this.sortedSet=new Zd(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),yy=function(){function t(){this.Qr=new Zd(gh.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Ul():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),vy=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,my.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ld(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),by=function(){this.Wr=void 0,this.listeners=[]},_y=function(){this.queries=new Ig(function(t){return hd(t)},ld),this.onlineState="Unknown",this.Gr=new Set};function wy(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(wo.d)(this,function(c){switch(c.label){case 0:if(n=Bl(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new by),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=gy(a,"Initialization of query '"+dd(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&Cy(n),[2]}})})}function Sy(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(wo.d)(this,function(a){return n=Bl(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Ey(t,e){for(var n=Bl(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(o)&&(r=!0);a.Wr=o}}r&&Cy(n)}function Oy(t,e,n){var r=Bl(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function Cy(t){t.Gr.forEach(function(t){t.next()})}var Ty=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new vy(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=vy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Iy=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),xy=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Pf(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Uf(this.R,t.document,!1):Nh.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return kf(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new xy(this.R),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.qn(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||df()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(wo.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(wo.d)(this,function(s){switch(s.label){case 0:return[4,sm(this.localStore,new xy(this.R),this.documents,this.ro.id)];case 1:t=s.sent(),e=this.co(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,om(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new qg(Object.assign({},this.progress),t))]}})})}}();var Ay=function(t){this.key=t},ky=function(t){this.key=t},jy=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=df(),this.mutatedKeys=df(),this.lo=pd(t),this.fo=new my(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new yy,i=e?e.fo:this.fo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=nd(this.query)&&i.size===this.query.limit?i.last():null,c=rd(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=fd(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),nd(this.query)||rd(this.query))for(;o.size>this.query.limit;){var l=nd(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{fo:o,mo:r,Nn:a,mutatedKeys:s}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ul()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var o=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==s.length||u?{snapshot:new vy(this.query,t.fo,i,s,t.mutatedKeys,0===a,u,!1),To:o}:{To:o}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new yy,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=df(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new ky(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Ay(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=df();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return vy.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Ny=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Dy=function(t){this.key=t,this.bo=!1},Py=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new Ig(function(t){return hd(t)},ld),this.Vo=new Map,this.So=new Set,this.Do=new Zd(gh.comparator),this.Co=new Map,this.No=new um,this.xo={},this.ko=new Map,this.Fo=gg.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Ry(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(wo.d)(this,function(a){switch(a.label){case 0:return n=lv(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Zg(n.localStore,ud(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,Fy(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&Km(n.remoteStore,s),a.label=4;case 4:return[2,r]}})})}function Fy(t,e,n,r){return Object(wo.b)(this,void 0,void 0,function(){var i,s,o,a,u,c;return Object(wo.d)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Object(wo.b)(this,void 0,void 0,function(){var i,s,o;return Object(wo.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,em(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(Wy(t,e.targetId,o.To),o.snapshot)]}})})}(t,e,n,r)},[4,em(t.localStore,e,!0)];case 1:return i=l.sent(),s=new jy(e,i.Bn),o=s._o(i.documents),a=mf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a),Wy(t,n,u.To),c=new Ny(e,n,s),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function My(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i;return Object(wo.d)(this,function(s){switch(s.label){case 0:return n=Bl(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!ld(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,tm(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),$m(n.remoteStore,r.targetId),Gy(n,r.targetId)}).catch(_g)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Gy(n,r.targetId),[4,tm(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function Ly(t,e,n){return Object(wo.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(wo.d)(this,function(a){switch(a.label){case 0:r=hv(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Bl(t),i=Ql.now(),s=e.reduce(function(t,e){return t.add(e.key)},df());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Ld(c,n.get(c.key));null!=l&&o.push(new Bd(c.key,l,jh(l.value.mapValue),Dd.exists(!0)))}return r._n.addMutationBatch(t,i,o,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Zd(Kl)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Xy(r,i.changes)];case 3:return a.sent(),[4,iy(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=gy(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function Vy(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r;return Object(wo.d)(this,function(i){switch(i.label){case 0:n=Bl(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Jg(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(ql(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?ql(r.bo):t.removedDocuments.size>0&&(ql(r.bo),r.bo=!1))}),[4,Xy(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,_g(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Uy(t,e,n){var r=Bl(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Bl(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zr(e)&&(r=!0)}),r&&Cy(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function qy(t,e,n){return Object(wo.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(wo.d)(this,function(c){switch(c.label){case 0:return(r=Bl(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(s=i&&i.key)?(o=(o=new Zd(gh.comparator)).insert(s,Nh.newNoDocument(s,Wl.min())),a=df().add(s),u=new gf(Wl.min(),new Map,new nf(Kl),o,a),[4,Vy(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),Yy(r),[3,4];case 2:return[4,tm(r.localStore,e,!1).then(function(){return Gy(r,e,n)}).catch(_g)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function By(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i;return Object(wo.d)(this,function(s){switch(s.label){case 0:n=Bl(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Qg(n.localStore,e)];case 2:return i=s.sent(),$y(n,r,null),Ky(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Xy(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,_g(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Hy(t,e,n){return Object(wo.b)(this,void 0,void 0,function(){var r,i;return Object(wo.d)(this,function(s){switch(s.label){case 0:r=Bl(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=Bl(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return ql(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=s.sent(),$y(r,e,n),Ky(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Xy(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,_g(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function zy(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(wo.d)(this,function(a){switch(a.label){case 0:Ym((n=Bl(t)).remoteStore)||Fl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Bl(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return s=a.sent(),o=gy(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function Ky(t,e){(t.ko.get(e)||[]).forEach(function(t){t.resolve()}),t.ko.delete(e)}function $y(t,e,n){var r=Bl(t),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Gy(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var s=i[r];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Qy(t,e)})}function Qy(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&($m(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Yy(t))}function Wy(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Ay?(t.No.addReference(s.key,e),Jy(t,s)):s instanceof ky?(Fl("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||Qy(t,s.key)):Ul()}}function Jy(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Fl("SyncEngine","New document in limbo: "+n),t.So.add(r),Yy(t))}function Yy(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new gh(th.fromString(e)),r=t.Fo.next();t.Co.set(r,new Dy(n)),t.Do=t.Do.insert(n,r),Km(t.remoteStore,new qp(ud(ed(n.path)),r,2,jl.o))}}function Xy(t,e,n){return Object(wo.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(wo.d)(this,function(a){switch(a.label){case 0:return r=Bl(t),i=[],s=[],o=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){o.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Hg.Pn(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return Object(wo.d)(this,function(l){switch(l.label){case 0:n=Bl(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Ip.forEach(e,function(e){return Ip.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Ip.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Np(r=l.sent()))throw r;return Fl("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.kn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.kn=n.kn.insert(a,c));return[2]}})})}(r.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Zy(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r;return Object(wo.d)(this,function(i){switch(i.label){case 0:return(n=Bl(t)).currentUser.isEqual(e)?[3,3]:(Fl("SyncEngine","User change. New user:",e.toKey()),[4,Gg(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.ko.forEach(function(t){t.forEach(function(t){t.reject(new Dl(Nl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Xy(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function tv(t,e){var n=Bl(t),r=n.Co.get(e);if(r&&r.bo)return df().add(r.key);var i=df(),s=n.Vo.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Po.get(a[o]);i=i.unionWith(u.view.wo)}return i}function ev(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i;return Object(wo.d)(this,function(s){switch(s.label){case 0:return[4,em((n=Bl(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Wy(n,e.targetId,i.To),i)]}})})}function nv(t){return Object(wo.b)(this,void 0,void 0,function(){var e;return Object(wo.d)(this,function(n){return[2,rm((e=Bl(t)).localStore).then(function(t){return Xy(e,t)})]})})}function rv(t,e,n,r){return Object(wo.b)(this,void 0,void 0,function(){var i,s;return Object(wo.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=Bl(t),r=Bl(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Ip.resolve(null)})})}((i=Bl(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,iy(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?($y(i,e,r||null),Ky(i,e),function(t,e){Bl(Bl(t)._n).Gt(e)}(i.localStore,e)):Ul(),o.label=4;case 4:return[4,Xy(i,s)];case 5:return o.sent(),[3,7];case 6:Fl("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function iv(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(wo.d)(this,function(c){switch(c.label){case 0:return lv(n=Bl(t)),hv(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,sv(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,hy(n.remoteStore,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)Km(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return Gy(n,e),tm(n.localStore,e,!0)}),$m(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,sv(n,a)];case 5:return c.sent(),function(t){var e=Bl(t);e.Co.forEach(function(t,n){$m(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Zd(gh.comparator)}(n),n.$o=!1,[4,hy(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function sv(t,e,n){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,d,f,p;return Object(wo.d)(this,function(g){switch(g.label){case 0:n=Bl(t),r=[],i=[],s=0,o=e,g.label=1;case 1:return s<o.length?(u=void 0,(c=n.Vo.get(a=o[s]))&&0!==c.length?[4,Zg(n.localStore,ud(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,ev(n,d)]):[3,6];case 4:(f=g.sent()).snapshot&&i.push(f.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,nm(n.localStore,a)];case 8:return p=g.sent(),[4,Zg(n.localStore,p)];case 9:return u=g.sent(),[4,Fy(n,ov(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function ov(t){return td(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function av(t){var e=Bl(t);return Bl(Bl(e.localStore).persistence).fn()}function uv(t,e,n,r){return Object(wo.b)(this,void 0,void 0,function(){var i,s,o;return Object(wo.d)(this,function(a){switch(a.label){case 0:return(i=Bl(t)).$o?(Fl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,rm(i.localStore)];case 3:return s=a.sent(),o=gf.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Xy(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,tm(i.localStore,e,!0)];case 6:return a.sent(),Gy(i,e,r),[3,8];case 7:Ul(),a.label=8;case 8:return[2]}})})}function cv(t,e,n){return Object(wo.b)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return Object(wo.d)(this,function(d){switch(d.label){case 0:if(!(r=lv(t)).$o)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Vo.has(o=s[i])?(Fl("SyncEngine","Adding an already active target "+o),[3,5]):[4,nm(r.localStore,o)]:[3,6];case 2:return a=d.sent(),[4,Zg(r.localStore,a)];case 3:return u=d.sent(),[4,Fy(r,ov(a),u.targetId,!1)];case 4:d.sent(),Km(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(wo.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,tm(r.localStore,t,!1).then(function(){$m(r.remoteStore,t),Gy(r,t)}).catch(_g)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function lv(t){var e=Bl(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qy.bind(null,e),e.vo._r=Ey.bind(null,e.eventManager),e.vo.Mo=Oy.bind(null,e.eventManager),e}function hv(t){var e=Bl(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=By.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Hy.bind(null,e),e}var dv=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(e){switch(e.label){case 0:return this.R=Rm(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return $g(this.persistence,new zg,t.initialUser,this.R)},t.prototype.qo=function(t){return new pm(mm.bs,this.R)},t.prototype.Bo=function(t){return new Im},t.prototype.terminate=function(){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),fv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(wo.c)(e,t),e.prototype.initialize=function(e){return Object(wo.b)(this,void 0,void 0,function(){var n=this;return Object(wo.d)(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,im(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,hv(this.Qo.syncEngine)];case 4:return r.sent(),[4,iy(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He(function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()})];case 6:return r.sent(),[2]}})})},e.prototype.Ko=function(t){return $g(this.persistence,new zg,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Eg(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Ug(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ag.withCacheSize(this.cacheSizeBytes):ag.DEFAULT;return new Mg(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Dm(),Pm(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Im},e}(dv),pv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(wo.c)(e,t),e.prototype.initialize=function(e){return Object(wo.b)(this,void 0,void 0,function(){var n,r=this;return Object(wo.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Tm?(this.sharedClientState.syncEngine={ui:rv.bind(null,n),ai:uv.bind(null,n),hi:cv.bind(null,n),fn:av.bind(null,n),ci:nv.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(wo.b)(r,void 0,void 0,function(){return Object(wo.d)(this,function(e){switch(e.label){case 0:return[4,iv(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Dm();if(!Tm.yt(e))throw new Dl(Nl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ug(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Tm(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(fv),gv=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n=this;return Object(wo.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Uy(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Zy.bind(null,this.syncEngine),[4,hy(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new _y},t.prototype.createDatastore=function(t){var e=Rm(t.databaseInfo.databaseId),n=new Nm(t.databaseInfo);return function(t,e,n){return new Um(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Uy(o.syncEngine,t,0)},s=Am.yt()?new Am:new xm,new Bm(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new Py(t,e,n,r,i,s);return o&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(wo.b)(this,void 0,void 0,function(){var e;return Object(wo.d)(this,function(n){switch(n.label){case 0:return e=Bl(t),Fl("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,zm(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),mv=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),yv=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Tp,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(wo.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(wo.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Iy(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(wo.b)(this,void 0,void 0,function(){var t,e;return Object(wo.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(wo.b)(this,void 0,void 0,function(){var e;return Object(wo.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(wo.b)(this,void 0,void 0,function(){var t,e;return Object(wo.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(wo.b)(this,void 0,void 0,function(){var e,n=this;return Object(wo.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Dl(Nl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(wo.d)(this,function(u){switch(u.label){case 0:return n=Bl(t),r=Mf(n.R)+"/documents",i={documents:e.map(function(t){return Df(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){ql(!!e.found);var n=Pf(t,e.found.name),r=kf(e.found.updateTime),i=new kh({mapValue:{fields:e.found.fields}});return Nh.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){ql(!!e.missing),ql(!!e.readTime);var n=Pf(t,e.missing),r=kf(e.readTime);return Nh.newNoDocument(n,r)}(t,e):Ul()}(n.R,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());ql(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Qd(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(wo.b)(this,void 0,void 0,function(){var t,e=this;return Object(wo.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=gh.fromPath(n);e.mutations.push(new Wd(r,e.precondition(r)))}),[4,function(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i;return Object(wo.d)(this,function(s){switch(s.label){case 0:return n=Bl(t),r=Mf(n.R)+"/documents",i={writes:e.map(function(t){return qf(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Ul();e=Wl.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Dl(Nl.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Dd.updateTime(e):Dd.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Wl.min()))throw new Dl(Nl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dd.updateTime(e)}return Dd.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),vv=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Fm(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(wo.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(wo.d)(this,function(r){return t=new yv(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!dh(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Yd(e)}return!1},t}(),bv=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=ym.UNAUTHENTICATED,this.clientId=zl.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return Object(wo.b)(r,void 0,void 0,function(){return Object(wo.d)(this,function(e){switch(e.label){case 0:return Fl("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Dl(Nl.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Tp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(wo.b)(t,void 0,void 0,function(){var t,n;return Object(wo.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=gy(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function _v(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(wo.d)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Fl("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return Object(wo.b)(i,void 0,void 0,function(){return Object(wo.d)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Gg(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function wv(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r;return Object(wo.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Sv(t)];case 1:return n=i.sent(),Fl("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return Object(wo.b)(this,void 0,void 0,function(){var n,r;return Object(wo.d)(this,function(i){switch(i.label){case 0:return(n=Bl(t)).asyncQueue.verifyOperationInProgress(),Fl("RemoteStore","RemoteStore received new credentials"),r=Ym(n),n.Or.add(3),[4,zm(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Hm(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function Sv(t){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Fl("FirestoreClient","Using default OfflineComponentProvider"),[4,_v(t,new dv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Ev(t){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Fl("FirestoreClient","Using default OnlineComponentProvider"),[4,wv(t,new gv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Ov(t){return Sv(t).then(function(t){return t.persistence})}function Cv(t){return Sv(t).then(function(t){return t.localStore})}function Tv(t){return Ev(t).then(function(t){return t.remoteStore})}function Iv(t){return Ev(t).then(function(t){return t.syncEngine})}function xv(t){return Object(wo.b)(this,void 0,void 0,function(){var e,n;return Object(wo.d)(this,function(r){switch(r.label){case 0:return[4,Ev(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Ry.bind(null,e.syncEngine),n.onUnlisten=My.bind(null,e.syncEngine),n)]}})})}function Av(t,e,n){var r=this;void 0===n&&(n={});var i=new Tp;return t.asyncQueue.enqueueAndForget(function(){return Object(wo.b)(r,void 0,void 0,function(){var r;return Object(wo.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new mv({next:function(s){e.enqueueAndForget(function(){return Sy(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Dl(Nl.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Dl(Nl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new Ty(ed(n.path),s,{includeMetadataChanges:!0,so:!0});return wy(t,o)},[4,xv(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function kv(t,e,n){var r=this;void 0===n&&(n={});var i=new Tp;return t.asyncQueue.enqueueAndForget(function(){return Object(wo.b)(r,void 0,void 0,function(){var r;return Object(wo.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new mv({next:function(n){e.enqueueAndForget(function(){return Sy(t,o)}),n.fromCache&&"server"===r.source?i.reject(new Dl(Nl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new Ty(n,s,{includeMetadataChanges:!0,so:!0});return wy(t,o)},[4,xv(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var jv=function(t,e,n,r,i,s,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a},Nv=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Dv=new Map,Pv=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Rv=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(ym.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Fv=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Mv=function(){function t(t){var e=this;this.currentUser=ym.UNAUTHENTICATED,this.oc=new Tp,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){Fl("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(Fl("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Fl("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(ql("string"==typeof n.accessToken),new Pv(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return Object(wo.b)(n,void 0,void 0,function(){return Object(wo.d)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return ql(null===t||"string"==typeof t),new ym(t)},t}(),Lv=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=ym.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Vv=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new Lv(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(ym.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Uv(t,e,n){if(!n)throw new Dl(Nl.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function qv(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Dl(Nl.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Bv(t,e,n,r){if(!0===e&&!0===r)throw new Dl(Nl.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Hv(t){if(!gh.isDocumentKey(t))throw new Dl(Nl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function zv(t){if(gh.isDocumentKey(t))throw new Dl(Nl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Kv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ul()}function $v(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Dl(Nl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Kv(t);throw new Dl(Nl.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Gv(t,e){if(e<=0)throw new Dl(Nl.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Qv=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Dl(Nl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Dl(Nl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Bv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),Wv=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qv({}),this._settingsFrozen=!1,t instanceof Nv?(this._databaseId=t,this._credentials=new Rv):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Dl(Nl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nv(t.options.projectId)}(t),this._credentials=new Mv(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Dl(Nl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Dl(Nl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qv(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Rv;switch(t.type){case"gapi":var e=t.client;return ql(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Vv(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Dl(Nl.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Dv.get(this))&&(Fl("ComponentProvider","Removing Datastore"),Dv.delete(this),t.terminate()),Promise.resolve();var t},t}(),Jv=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Xv(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Yv=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Xv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,ed(r))||this)._path=r,i.type="collection",i}return Object(wo.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Jv(this.firestore,null,new gh(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Yv);function Zv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(So.h)(t),Uv("collection","path",e),t instanceof Wv)return zv(n=th.fromString.apply(th,Object(wo.f)([e],r))),new Xv(t,null,n);if(!(t instanceof Jv||t instanceof Xv))throw new Dl(Nl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return zv(n=th.fromString.apply(th,Object(wo.f)([t.path],r)).child(th.fromString(e))),new Xv(t.firestore,null,n)}function tb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(So.h)(t),1===arguments.length&&(e=zl.u()),Uv("doc","path",e),t instanceof Wv)return Hv(n=th.fromString.apply(th,Object(wo.f)([e],r))),new Jv(t,null,new gh(n));if(!(t instanceof Jv||t instanceof Xv))throw new Dl(Nl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Hv(n=t._path.child(th.fromString.apply(th,Object(wo.f)([e],r)))),new Jv(t.firestore,t instanceof Xv?t.converter:null,new gh(n))}function eb(t,e){return t=Object(So.h)(t),e=Object(So.h)(e),(t instanceof Jv||t instanceof Xv)&&(e instanceof Jv||e instanceof Xv)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function nb(t,e){return t=Object(So.h)(t),e=Object(So.h)(e),t instanceof Yv&&e instanceof Yv&&t.firestore===e.firestore&&ld(t._query,e._query)&&t.converter===e.converter}var rb=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Fm(this,"async_queue_retry"),this.Ic=function(){var e=Pm();e&&Fl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Pm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=Pm();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new Tp;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},t.prototype.bc=function(){return Object(wo.b)(this,void 0,void 0,function(){var t,e=this;return Object(wo.d)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Np(t=n.sent()))throw t;return Fl("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),n.label=5;case 5:return[2]}})})},t.prototype.Rc=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,Ml("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=py.createAndSchedule(this,t,e,n,function(t){return r.vc(t)});return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&Ul()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return Object(wo.b)(this,void 0,void 0,function(){var t;return Object(wo.d)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()})},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function ib(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Tp,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var sb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new rb,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(wo.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||ab(this),this._firestoreClient.terminate()},e}(Wv);function ob(t){return t._firestoreClient||ab(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ab(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new jv(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new bv(t._credentials,t._queue,r)}function ub(t,e,n){var r=this,i=new Tp;return t.asyncQueue.enqueue(function(){return Object(wo.b)(r,void 0,void 0,function(){var r;return Object(wo.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,_v(t,n)];case 1:return s.sent(),[4,wv(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Nl.FAILED_PRECONDITION||t.code===Nl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function cb(t){if(t._initialized||t._terminated)throw new Dl(Nl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var lb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Dl(Nl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nh(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),hb=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(ih.fromBase64String(e))}catch(e){throw new Dl(Nl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(ih.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),db=function(t){this._methodName=t},fb=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Dl(Nl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Dl(Nl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Kl(this._lat,t._lat)||Kl(this._long,t._long)},t}(),pb=/^__.*__$/,gb=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Bd(t,this.data,this.fieldMask,e,this.fieldTransforms):new qd(t,this.data,e,this.fieldTransforms)},t}(),mb=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Bd(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function yb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ul()}}var vb=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return Lb(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(yb(this.Nc)&&pb.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),bb=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Rm(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new vb({Nc:t,methodName:e,qc:n,path:nh.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function _b(t){var e=t._freezeSettings(),n=Rm(t._databaseId);return new bb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wb(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Uc(s.merge||s.mergeFields?2:0,e,n,i);Pb("Data must be an object, but it was:",o,r);var a,u,c=Nb(r,o);if(s.merge)a=new rh(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,d=s.mergeFields;h<d.length;h++){var f=Rb(e,d[h],n);if(!o.contains(f))throw new Dl(Nl.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");Vb(l,f)||l.push(f)}a=new rh(l),u=o.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=o.fieldTransforms;return new gb(new kh(c),a,u)}var Sb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wo.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(db);function Eb(t,e,n){return new vb({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Ob=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wo.c)(e,t),e.prototype._toFieldTransform=function(t){return new jd(t.path,new Ed)},e.prototype.isEqual=function(t){return t instanceof e},e}(db),Cb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(wo.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Eb(this,t,!0),n=this.Kc.map(function(t){return jb(t,e)}),r=new Od(n);return new jd(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(db),Tb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(wo.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Eb(this,t,!0),n=this.Kc.map(function(t){return jb(t,e)}),r=new Td(n);return new jd(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(db),Ib=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return Object(wo.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new xd(t.R,vd(t.R,this.Qc));return new jd(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(db);function xb(t,e,n,r){var i=t.Uc(1,e,n);Pb("Data must be an object, but it was:",i,r);var s=[],o=kh.empty();Yl(r,function(t,r){var a=Mb(e,t,n);r=Object(So.h)(r);var u=i.Oc(a);if(r instanceof Sb)s.push(a);else{var c=jb(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new rh(s);return new mb(o,a,i.fieldTransforms)}function Ab(t,e,n,r,i,s){var o=t.Uc(1,e,n),a=[Rb(e,r,n)],u=[i];if(s.length%2!=0)throw new Dl(Nl.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(Rb(e,s[c])),u.push(s[c+1]);for(var l=[],h=kh.empty(),d=a.length-1;d>=0;--d)if(!Vb(l,a[d])){var f=a[d],p=u[d];p=Object(So.h)(p);var g=o.Oc(f);if(p instanceof Sb)l.push(f);else{var m=jb(p,g);null!=m&&(l.push(f),h.set(f,m))}}var y=new rh(l);return new mb(h,y,o.fieldTransforms)}function kb(t,e,n,r){return void 0===r&&(r=!1),jb(n,t.Uc(r?4:3,e))}function jb(t,e){if(Db(t=Object(So.h)(t)))return Pb("Unsupported field value:",e,t),Nb(t,e);if(t instanceof db)return function(t,e){if(!yb(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=jb(s[i],e.Mc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(So.h)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return vd(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Ql.fromDate(t);return{timestampValue:If(e.R,n)}}if(t instanceof Ql)return n=new Ql(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:If(e.R,n)};if(t instanceof fb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof hb)return{bytesValue:xf(e.R,t._byteString)};if(t instanceof Jv){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:jf(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+Kv(t))}(t,e)}function Nb(t,e){var n={};return Xl(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yl(t,function(t,r){var i=jb(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Db(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ql||t instanceof fb||t instanceof hb||t instanceof Jv||t instanceof db)}function Pb(t,e,n){if(!Db(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Kv(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}}function Rb(t,e,n){if((e=Object(So.h)(e))instanceof lb)return e._internalPath;if("string"==typeof e)return Mb(t,e);throw Lb("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Fb=new RegExp("[~\\*/\\[\\]]");function Mb(t,e,n){if(e.search(Fb)>=0)throw Lb("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(lb.bind.apply(lb,Object(wo.f)([void 0],e.split(".")))))._internalPath}catch(V_){throw Lb("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Lb(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new Dl(Nl.INVALID_ARGUMENT,(a+=". ")+t+u)}function Vb(t,e){return t.some(function(t){return t.isEqual(e)})}var Ub=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Jv(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new qb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Bb("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),qb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wo.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Ub);function Bb(t,e){return"string"==typeof e?Mb(t,e):e instanceof lb?e._internalPath:e._delegate._internalPath}var Hb=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),zb=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return Object(wo.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Kb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Bb("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Ub),Kb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wo.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(zb),$b=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Hb(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Kb(n._firestore,n._userDataWriter,r.key,r,new Hb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Dl(Nl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Kb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Hb(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Kb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Hb(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Gb(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Gb(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ul()}}function Qb(t,e){return t instanceof zb&&e instanceof zb?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof $b&&e instanceof $b&&t._firestore===e._firestore&&nb(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Wb(t){if(rd(t)&&0===t.explicitOrderBy.length)throw new Dl(Nl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Jb=function(){};function Yb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var Xb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return Object(wo.c)(e,t),e.prototype._apply=function(t){var e=_b(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Dl(Nl.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){s_(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(i_(r,t,l[c]));a={arrayValue:{values:u}}}else a=i_(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||s_(o,s),a=kb(n,"where",o,"in"===s||"not-in"===s);var h=Lh.create(i,s,a);return function(t,e){if(e.g()){var n=sd(t);if(null!==n&&!n.isEqual(e.field))throw new Dl(Nl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=id(t);null!==r&&o_(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Dl(Nl.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Yv(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Zh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Jb),Zb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return Object(wo.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Dl(Nl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Dl(Nl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Wh(e,n);return function(t,e){if(null===id(t)){var n=sd(t);null!==n&&o_(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new Yv(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Zh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Jb),t_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(wo.c)(e,t),e.prototype._apply=function(t){return new Yv(t.firestore,t.converter,cd(t._query,this.Hc,this.Jc))},e}(Jb),e_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return Object(wo.c)(e,t),e.prototype._apply=function(t){var e=r_(t,this.type,this.Yc,this.Xc);return new Yv(t.firestore,t.converter,function(t,e){return new Zh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Jb),n_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return Object(wo.c)(e,t),e.prototype._apply=function(t){var e=r_(t,this.type,this.Yc,this.Xc);return new Yv(t.firestore,t.converter,function(t,e){return new Zh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Jb);function r_(t,e,n,r){if(n[0]=Object(So.h)(n[0]),n[0]instanceof Ub)return function(t,e,n,r,i){if(!r)throw new Dl(Nl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=ad(t);o<a.length;o++){var u=a[o];if(u.field.isKeyField())s.push(Eh(e,r.key));else{var c=r.data.field(u.field);if(ch(c))throw new Dl(Nl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Dl(Nl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new Gh(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=_b(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new Dl(Nl.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Dl(Nl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!od(t)&&-1!==c.indexOf("/"))throw new Dl(Nl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(th.fromString(c));if(!gh.isDocumentKey(l))throw new Dl(Nl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new gh(l);a.push(Eh(e,h))}else{var d=kb(n,r,c);a.push(d)}}return new Gh(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function i_(t,e,n){if("string"==typeof(n=Object(So.h)(n))){if(""===n)throw new Dl(Nl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!od(e)&&-1!==n.indexOf("/"))throw new Dl(Nl.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(th.fromString(n));if(!gh.isDocumentKey(r))throw new Dl(Nl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Eh(t,new gh(r))}if(n instanceof Jv)return Eh(t,n._key);throw new Dl(Nl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Kv(n)+".")}function s_(t,e){if(!Array.isArray(t)||0===t.length)throw new Dl(Nl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Dl(Nl.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function o_(t,e,n){if(!n.isEqual(e))throw new Dl(Nl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var a_=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),mh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ah(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(uh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Ul()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Yl(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new fb(ah(t.latitude),ah(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=lh(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(hh(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=oh(t);return new Ql(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=th.fromString(t);ql(np(n));var r=new Nv(n.get(1),n.get(3)),i=new gh(n.popFirst(5));return r.isEqual(e)||Ml("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function u_(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var c_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(wo.c)(e,t),e.prototype.convertBytes=function(t){return new hb(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Jv(this.firestore,null,e)},e}(a_),l_=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=_b(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=h_(t,this._firestore),i=u_(r.converter,e,n),s=wb(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Dd.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=h_(t,this._firestore);return s="string"==typeof(e=Object(So.h)(e))||e instanceof lb?Ab(this._dataReader,"WriteBatch.update",o._key,e,n,r):xb(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,Dd.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=h_(t,this._firestore);return this._mutations=this._mutations.concat(new Qd(e._key,Dd.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Dl(Nl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function h_(t,e){if((t=Object(So.h)(t)).firestore!==e)throw new Dl(Nl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var d_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(wo.c)(e,t),e.prototype.convertBytes=function(t){return new hb(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Jv(this.firestore,null,e)},e}(a_);function f_(t,e,n){t=$v(t,Jv);var r=$v(t.firestore,sb),i=u_(t.converter,e,n);return m_(r,[wb(_b(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Dd.none())])}function p_(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=$v(t,Jv);var s=$v(t.firestore,sb),o=_b(s);return m_(s,[("string"==typeof(e=Object(So.h)(e))||e instanceof lb?Ab(o,"updateDoc",t._key,e,n,r):xb(o,"updateDoc",t._key,e)).toMutation(t._key,Dd.exists(!0))])}function g_(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t=Object(So.h)(t);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||ib(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(ib(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof Jv)c=$v(t.firestore,sb),l=ed(t._key.path),u={next:function(e){i[a]&&i[a](y_(c,t,e))},error:i[a+1],complete:i[a+2]};else{var f=$v(t,Yv);c=$v(f.firestore,sb),l=f._query;var p=new d_(c);u={next:function(t){i[a]&&i[a](new $b(c,p,f,t))},error:i[a+1],complete:i[a+2]},Wb(t._query)}return function(t,e,n,r){var i=this,s=new mv(r),o=new Ty(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return Object(wo.b)(i,void 0,void 0,function(){var e;return Object(wo.d)(this,function(n){switch(n.label){case 0:return e=wy,[4,xv(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(wo.b)(i,void 0,void 0,function(){var e;return Object(wo.d)(this,function(n){switch(n.label){case 0:return e=Sy,[4,xv(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(ob(c),l,h,u)}function m_(t,e){return function(t,e){var n=this,r=new Tp;return t.asyncQueue.enqueueAndForget(function(){return Object(wo.b)(n,void 0,void 0,function(){var n;return Object(wo.d)(this,function(i){switch(i.label){case 0:return n=Ly,[4,Iv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(ob(t),e)}function y_(t,e,n){var r=n.docs.get(e._key),i=new d_(t);return new zb(t,i,e._key,r,new Hb(n.hasPendingWrites,n.fromCache),e.converter)}var v_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(wo.c)(e,t),e.prototype.get=function(e){var n=this,r=h_(e,this._firestore),i=new d_(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new zb(n._firestore,i,r._key,t._document,new Hb(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=_b(t)}return t.prototype.get=function(t){var e=this,n=h_(t,this._firestore),r=new c_(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Ul();var i=t[0];if(i.isFoundDocument())return new Ub(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Ub(e._firestore,r,n._key,null,n.converter);throw Ul()})},t.prototype.set=function(t,e,n){var r=h_(t,this._firestore),i=u_(r.converter,e,n),s=wb(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=h_(t,this._firestore);return s="string"==typeof(e=Object(So.h)(e))||e instanceof lb?Ab(this._dataReader,"Transaction.update",o._key,e,n,r):xb(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=h_(t,this._firestore);return this._transaction.delete(e._key),this},t}());function b_(){if("undefined"==typeof Uint8Array)throw new Dl(Nl.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function __(){if("undefined"==typeof atob)throw new Dl(Nl.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var w_=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return __(),new t(hb.fromBase64String(e))},t.fromUint8Array=function(e){return b_(),new t(hb.fromUint8Array(e))},t.prototype.toBase64=function(){return __(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return b_(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),S_=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){cb(t=$v(t,sb));var n=ob(t),r=t._freezeSettings(),i=new gv;return ub(n,i,new fv(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){cb(t=$v(t,sb));var e=ob(t),n=t._freezeSettings(),r=new gv;return ub(e,r,new pv(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Dl(Nl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Tp;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(wo.b)(e,void 0,void 0,function(){var e;return Object(wo.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(wo.b)(this,void 0,void 0,function(){return Object(wo.d)(this,function(e){switch(e.label){case 0:return Ap.yt()?[4,Ap.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Ug(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),E_=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Nv||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Ll("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){var i;void 0===r&&(r={});var s=(t=$v(t,Wv))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Ll("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=ym.MOCK_USER;else{o=Object(So.d)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Dl(Nl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new ym(u)}t._credentials=new Fv(new Pv(o,a))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(wo.b)(e,void 0,void 0,function(){var e,n;return Object(wo.d)(this,function(r){switch(r.label){case 0:return[4,Ov(t)];case 1:return e=r.sent(),[4,Tv(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Bl(t);return e.Or.delete(0),Hm(e)}(n))]}})})})}(ob($v(this._delegate,sb)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(wo.b)(e,void 0,void 0,function(){var e,n;return Object(wo.d)(this,function(r){switch(r.label){case 0:return[4,Ov(t)];case 1:return e=r.sent(),[4,Tv(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(wo.b)(this,void 0,void 0,function(){var e;return Object(wo.d)(this,function(n){switch(n.label){case 0:return(e=Bl(t)).Or.add(0),[4,zm(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(ob($v(this._delegate,sb)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Bv("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Tp;return t.asyncQueue.enqueueAndForget(function(){return Object(wo.b)(e,void 0,void 0,function(){var e;return Object(wo.d)(this,function(r){switch(r.label){case 0:return e=zy,[4,Iv(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(ob($v(this._delegate,sb)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new mv(e);return t.asyncQueue.enqueueAndForget(function(){return Object(wo.b)(n,void 0,void 0,function(){var e;return Object(wo.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Bl(t).Gr.add(e),e.next()},[4,xv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(wo.b)(n,void 0,void 0,function(){var e;return Object(wo.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Bl(t).Gr.delete(e)},[4,xv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(ob(t=$v(t,sb)),ib(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Dl(Nl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new M_(this,Zv(this._delegate,t))}catch(t){throw A_(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new x_(this,tb(this._delegate,t))}catch(t){throw A_(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new P_(this,function(t,e){if(t=$v(t,Wv),Uv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Dl(Nl.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Yv(t,null,function(t){return new Zh(th.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw A_(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Tp;return t.asyncQueue.enqueueAndForget(function(){return Object(wo.b)(n,void 0,void 0,function(){var n;return Object(wo.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Ev(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new vv(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(ob(t),function(n){return e(new v_(t,n))})}(this._delegate,function(n){return t(new C_(e,n))})},t.prototype.batch=function(){var t=this;return ob(this._delegate),new T_(new l_(this._delegate,function(e){return m_(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Dl(Nl.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Dl(Nl.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),O_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(wo.c)(e,t),e.prototype.convertBytes=function(t){return new w_(new hb(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return x_.eu(e,this.firestore,null)},e}(a_),C_=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new O_(t)}return t.prototype.get=function(t){var e=this,n=L_(t);return this._delegate.get(n).then(function(t){return new N_(e._firestore,new zb(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=L_(t);return n?(qv("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=L_(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(wo.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=L_(t);return this._delegate.delete(e),this},t}(),T_=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=L_(t);return n?(qv("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=L_(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(wo.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=L_(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),I_=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Kb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new D_(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var s=i.get(n);return s||(s=new t(e,new O_(e),n),i.set(n,s)),s},t}();I_.su=new WeakMap;var x_=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new O_(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new Dl(Nl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Jv(n._delegate,r,new gh(e)))},t.eu=function(e,n,r){return new t(n,new Jv(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new M_(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new M_(this.firestore,Zv(this._delegate,t))}catch(t){throw A_(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(So.h)(t))instanceof Jv&&eb(this._delegate,t)},t.prototype.set=function(t,e){e=qv("DocumentReference.set",e);try{return e?f_(this._delegate,t,e):f_(this._delegate,t)}catch(t){throw A_(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?p_(this._delegate,t):p_.apply(void 0,Object(wo.f)([this._delegate,t,e],n))}catch(t){throw A_(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return m_($v((t=this._delegate).firestore,sb),[new Qd(t._key,Dd.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=k_(e),i=j_(e,function(e){return new N_(t.firestore,new zb(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return g_(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=$v(t,Jv);var e=$v(t.firestore,sb),n=ob(e),r=new d_(e);return function(t,e){var n=this,r=new Tp;return t.asyncQueue.enqueueAndForget(function(){return Object(wo.b)(n,void 0,void 0,function(){var n;return Object(wo.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(wo.b)(this,void 0,void 0,function(){var r,i;return Object(wo.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=Bl(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=s.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Dl(Nl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=gy(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Cv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new zb(e,r,t._key,n,new Hb(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=$v(t,Jv);var e=$v(t.firestore,sb);return Av(ob(e),t._key,{source:"server"}).then(function(n){return y_(e,t,n)})}(this._delegate):function(t){t=$v(t,Jv);var e=$v(t.firestore,sb);return Av(ob(e),t._key).then(function(n){return y_(e,t,n)})}(this._delegate)).then(function(t){return new N_(e.firestore,new zb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?I_.nu(this.firestore,e):null))},t}();function A_(t,e,n){return t.message=t.message.replace(e,n),t}function k_(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!ib(r))return r}return{}}function j_(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=ib(t[0])?t[0]:ib(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var N_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new x_(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Qb(this._delegate,t._delegate)},t}(),D_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(wo.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(N_),P_=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new O_(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Yb(this._delegate,function(t,e,n){var r=e,i=Bb("where",t);return new Xb(i,r,n)}(e,n,r)))}catch(e){throw A_(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Yb(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Bb("orderBy",t);return new Zb(r,n)}(e,n)))}catch(e){throw A_(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Yb(this._delegate,function(t){return Gv("limit",t),new t_("limit",t,"F")}(e)))}catch(e){throw A_(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Yb(this._delegate,function(t){return Gv("limitToLast",t),new t_("limitToLast",t,"L")}(e)))}catch(e){throw A_(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Yb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new e_("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw A_(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Yb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new e_("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw A_(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Yb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new n_("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw A_(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Yb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new n_("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw A_(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return nb(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=$v(t,Yv);var e=$v(t.firestore,sb),n=ob(e),r=new d_(e);return function(t,e){var n=this,r=new Tp;return t.asyncQueue.enqueueAndForget(function(){return Object(wo.b)(n,void 0,void 0,function(){var n;return Object(wo.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(wo.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(wo.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,em(t,e,!0)];case 1:return a=u.sent(),r=new jy(e,a.Bn),i=r._o(a.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=gy(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Cv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new $b(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=$v(t,Yv);var e=$v(t.firestore,sb),n=ob(e),r=new d_(e);return kv(n,t._query,{source:"server"}).then(function(n){return new $b(e,r,t,n)})}(this._delegate):function(t){t=$v(t,Yv);var e=$v(t.firestore,sb),n=ob(e),r=new d_(e);return Wb(t._query),kv(n,t._query).then(function(n){return new $b(e,r,t,n)})}(this._delegate)).then(function(t){return new F_(e.firestore,new $b(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=k_(e),i=j_(e,function(e){return new F_(t.firestore,new $b(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return g_(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?I_.nu(this.firestore,e):null))},t}(),R_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new D_(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),F_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new P_(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new D_(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new R_(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new D_(n._firestore,r))})},t.prototype.isEqual=function(t){return Qb(this._delegate,t._delegate)},t}(),M_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(wo.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new x_(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new x_(this.firestore,void 0===t?tb(this._delegate):tb(this._delegate,t))}catch(t){throw A_(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=$v(t.firestore,sb),r=tb(t),i=u_(t.converter,e);return m_(n,[wb(_b(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Dd.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new x_(e.firestore,t)})},e.prototype.isEqual=function(t){return eb(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?I_.nu(this.firestore,t):null))},e}(P_);function L_(t){return $v(t,Jv)}var V_,U_=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(lb.bind.apply(lb,Object(wo.f)([void 0],t)))}return t.documentId=function(){return new t(nh.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(So.h)(t))instanceof lb&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),q_=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Ob("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Sb("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Cb("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Tb("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Ib("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),B_=n("/6Yf"),H_={Firestore:E_,GeoPoint:fb,Timestamp:Ql,Blob:w_,Transaction:C_,WriteBatch:T_,DocumentReference:x_,DocumentSnapshot:N_,Query:P_,QueryDocumentSnapshot:D_,QuerySnapshot:F_,CollectionReference:M_,FieldPath:U_,FieldValue:q_,setLogLevel:function(t){Pl.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new B_.a("firestore",function(t){return function(t,e){return new E_(t,new sb(t,e),new S_)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},H_)))})(V_=_o.a),V_.registerVersion("@firebase/firestore","2.4.1");var z_=n("VRyK"),K_=n("qgXg"),$_=n("Ylt2");class G_ extends mn.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Q_(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new yn.a;if(this.isStopped||this.hasError?s=pr.a.EMPTY:(this.observers.push(t),s=new $_.a(this,t)),r&&t.add(t=new yo.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||K_.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class Q_{constructor(t,e){this.time=t,this.value=e}}function W_(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new G_(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function J_(t,e){return e?Jn(()=>t,e):Jn(()=>t)}var Y_=n("tf+s");const X_=new r.q("angularfire2.auth.use-emulator"),Z_=new r.q("angularfire2.auth.settings"),tw=new r.q("angularfire2.auth.tenant-id"),ew=new r.q("angularfire2.auth.langugage-code"),nw=new r.q("angularfire2.auth.use-device-language"),rw=new r.q("angularfire.auth.persistence");let iw=(()=>{class t{constructor(t,e,r,i,s,o,a,u,c,l){const h=new vo.d(i),d=Object(vo.h)(h),f=new mn.a,p=Object(gn.a)(void 0).pipe(Object(yo.b)(h.outsideAngular),Jn(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(_t.a)(()=>Object(vo.g)(t,i,e)),Object(_t.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(vo.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),W_({bufferSize:1,refCount:!1}));if(M(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(gn.a)(null);else{p.pipe(dr()).subscribe();const t=p.pipe(Jn(t=>t.getRedirectResult().then(t=>t,()=>null)),d,W_({bufferSize:1,refCount:!1})),e=t=>new vt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Jn(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Jn(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(J_(n),Object(Y_.a)(h.outsideAngular),Object(yo.b)(h.insideAngular)),this.user=t.pipe(J_(r),Object(Y_.a)(h.outsideAngular),Object(yo.b)(h.insideAngular)),this.idToken=this.user.pipe(Jn(t=>t?Object(St.a)(t.getIdToken()):Object(gn.a)(null))),this.idTokenResult=this.user.pipe(Jn(t=>t?Object(St.a)(t.getIdTokenResult()):Object(gn.a)(null))),this.credential=Object(z_.a)(t,f,this.authState.pipe(Pn(t=>!t))).pipe(Object(_t.a)(t=>(null==t?void 0:t.user)?t:null),Object(Y_.a)(h.outsideAngular),Object(yo.b)(h.insideAngular))}return Object(vo.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(vo.c),r.Sb(vo.b,8),r.Sb(r.B),r.Sb(r.z),r.Sb(X_,8),r.Sb(Z_,8),r.Sb(tw,8),r.Sb(ew,8),r.Sb(nw,8),r.Sb(rw,8))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(vo.c),Object(r.Sb)(vo.b,8),Object(r.Sb)(r.B),Object(r.Sb)(r.z),Object(r.Sb)(X_,8),Object(r.Sb)(Z_,8),Object(r.Sb)(tw,8),Object(r.Sb)(ew,8),Object(r.Sb)(nw,8),Object(r.Sb)(rw,8))},token:t,providedIn:"any"}),t})();function sw(t,e){return function(t,e=lo.a){return new vt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function ow(t,e){return sw(t,e).pipe(Object(_t.a)(t=>({payload:t,type:"query"})))}function aw(t,e){return ow(t,e).pipe(rr(void 0),ho(),Object(_t.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function uw(t,e,n){return aw(t,n).pipe(ir((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return cw(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return cw(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return cw(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new go(void 0,void 0)),Object(_t.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function cw(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function lw(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(vo.e)(iw,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class hw{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=aw(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(_t.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(rr(void 0),ho(),Pn(([t,e])=>e.length>0||!t),Object(_t.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ir((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=lw(t);return uw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return ow(this.query,this.afs.schedulers.outsideAngular).pipe(Object(_t.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(St.a)(this.query.get(t)).pipe(Object(yo.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new dw(this.ref.doc(t),this.afs)}}class dw{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=vw(n,e);return new hw(r,i,this.afs)}snapshotChanges(){return sw(this.ref,this.afs.schedulers.outsideAngular).pipe(rr(void 0),ho(),Object(_t.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(_t.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(St.a)(this.ref.get(t)).pipe(Object(yo.b)(this.afs.schedulers.insideAngular))}}class fw{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?aw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(_t.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Pn(t=>t.length>0),this.afs.keepUnstableUntilFirst):aw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ir((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=lw(t);return uw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return ow(this.query,this.afs.schedulers.outsideAngular).pipe(Object(_t.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(St.a)(this.query.get(t)).pipe(Object(yo.b)(this.afs.schedulers.insideAngular))}}const pw=new r.q("angularfire2.enableFirestorePersistence"),gw=new r.q("angularfire2.firestore.persistenceSettings"),mw=new r.q("angularfire2.firestore.settings"),yw=new r.q("angularfire2.firestore.use-emulator");function vw(t,e=(t=>t)){return{query:e(t),ref:t}}let bw=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new vo.d(s),this.keepUnstableUntilFirst=Object(vo.h)(this.schedulers);const c=Object(vo.g)(t,s,e);!bo.a.auth&&u&&Object(vo.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(vo.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!M(i)){const e=()=>{try{return Object(St.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(V_){return"undefined"!=typeof console&&console.warn(V_),Object(gn.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(gn.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=vw(n,e),s=this.schedulers.ngZone.run(()=>r);return new hw(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new fw(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new dw(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(vo.c),r.Sb(vo.b,8),r.Sb(pw,8),r.Sb(mw,8),r.Sb(r.B),r.Sb(r.z),r.Sb(gw,8),r.Sb(yw,8),r.Sb(X_,8))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(vo.c),Object(r.Sb)(vo.b,8),Object(r.Sb)(pw,8),Object(r.Sb)(mw,8),Object(r.Sb)(r.B),Object(r.Sb)(r.z),Object(r.Sb)(gw,8),Object(r.Sb)(yw,8),Object(r.Sb)(X_,8))},token:t,providedIn:"any"}),t})(),_w=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:pw,useValue:!0},{provide:gw,useValue:e}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[bw]}),t})(),ww=(()=>{class t{constructor(t){this.firestore=t}agregarEmpleado(t){return this.firestore.collection("empleados").add(t)}getClients(){return this.firestore.collection("empleados",t=>t.orderBy("business","asc")).snapshotChanges()}eliminateClient(t){return this.firestore.collection("empleados").doc(t).delete()}getClient(t){return this.firestore.collection("empleados").doc(t).snapshotChanges()}actualizarEmpleado(t,e){return this.firestore.collection("empleados").doc(t).update(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(bw))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Sw{}const Ew="*";function Ow(t,e=null){return{type:4,styles:e,timings:t}}function Cw(t,e=null){return{type:2,steps:t,options:e}}function Tw(t){return{type:6,styles:t,offset:null}}function Iw(t,e,n){return{type:0,name:t,styles:e,options:n}}function xw(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Aw(t){Promise.resolve(null).then(t)}class kw{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Aw(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class jw{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Aw(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const Nw=["toast-component",""];function Dw(t,e){if(1&t){const t=r.Pb();r.Ob(0,"button",5),r.Vb("click",function(){return r.ec(t),r.Xb().remove()}),r.Ob(1,"span",6),r.lc(2,"\xd7"),r.Nb(),r.Nb()}}function Pw(t,e){if(1&t&&(r.Mb(0),r.lc(1),r.Lb()),2&t){const t=r.Xb(2);r.yb(1),r.nc("[",t.duplicatesCount+1,"]")}}function Rw(t,e){if(1&t&&(r.Ob(0,"div"),r.lc(1),r.kc(2,Pw,2,1,"ng-container",4),r.Nb()),2&t){const t=r.Xb();r.Ab(t.options.titleClass),r.zb("aria-label",t.title),r.yb(1),r.nc(" ",t.title," "),r.yb(1),r.ac("ngIf",t.duplicatesCount)}}function Fw(t,e){if(1&t&&r.Kb(0,"div",7),2&t){const t=r.Xb();r.Ab(t.options.messageClass),r.ac("innerHTML",t.message,r.fc)}}function Mw(t,e){if(1&t&&(r.Ob(0,"div",8),r.lc(1),r.Nb()),2&t){const t=r.Xb();r.Ab(t.options.messageClass),r.zb("aria-label",t.message),r.yb(1),r.nc(" ",t.message," ")}}function Lw(t,e){if(1&t&&(r.Ob(0,"div"),r.Kb(1,"div",9),r.Nb()),2&t){const t=r.Xb();r.yb(1),r.ic("width",t.width+"%")}}function Vw(t,e){if(1&t){const t=r.Pb();r.Ob(0,"button",5),r.Vb("click",function(){return r.ec(t),r.Xb().remove()}),r.Ob(1,"span",6),r.lc(2,"\xd7"),r.Nb(),r.Nb()}}function Uw(t,e){if(1&t&&(r.Mb(0),r.lc(1),r.Lb()),2&t){const t=r.Xb(2);r.yb(1),r.nc("[",t.duplicatesCount+1,"]")}}function qw(t,e){if(1&t&&(r.Ob(0,"div"),r.lc(1),r.kc(2,Uw,2,1,"ng-container",4),r.Nb()),2&t){const t=r.Xb();r.Ab(t.options.titleClass),r.zb("aria-label",t.title),r.yb(1),r.nc(" ",t.title," "),r.yb(1),r.ac("ngIf",t.duplicatesCount)}}function Bw(t,e){if(1&t&&r.Kb(0,"div",7),2&t){const t=r.Xb();r.Ab(t.options.messageClass),r.ac("innerHTML",t.message,r.fc)}}function Hw(t,e){if(1&t&&(r.Ob(0,"div",8),r.lc(1),r.Nb()),2&t){const t=r.Xb();r.Ab(t.options.messageClass),r.zb("aria-label",t.message),r.yb(1),r.nc(" ",t.message," ")}}function zw(t,e){if(1&t&&(r.Ob(0,"div"),r.Kb(1,"div",9),r.Nb()),2&t){const t=r.Xb();r.yb(1),r.ic("width",t.width+"%")}}class Kw{constructor(t,e,n,r,i,s){this.toastId=t,this.config=e,this.message=n,this.title=r,this.toastType=i,this.toastRef=s,this._onTap=new mn.a,this._onAction=new mn.a,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const $w={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},Gw=new r.q("ToastConfig");class Qw{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Ww extends class{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,n){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(t,e){const n=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=n.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Jw=(()=>{class t{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(a))},token:t,providedIn:"root"}),t})();class Yw{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let Xw=(()=>{class t{constructor(t,e,n,r){this._overlayContainer=t,this._componentFactoryResolver=e,this._appRef=n,this._document=r,this._paneElements=new Map}create(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}getPaneElement(t="",e){return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}_createPaneElement(t,e){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(t){return new Ww(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new Yw(this._createPortalHost(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Jw),r.Sb(r.j),r.Sb(r.g),r.Sb(a))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(Jw),Object(r.Sb)(r.j),Object(r.Sb)(r.g),Object(r.Sb)(a))},token:t,providedIn:"root"}),t})();class Zw{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new mn.a,this._activate=new mn.a,this._manualClose=new mn.a,this._resetTimeout=new mn.a,this._countDuplicate=new mn.a}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class tS{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,n){return t===Kw?this._toastPackage:this._parentInjector.get(t,e,n)}}let eS=(()=>{class t{constructor(t,e,n,r,i){this.overlay=e,this._injector=n,this.sanitizer=r,this.ngZone=i,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,e,n={},r=""){return this._preBuildNotification(r,t,e,this.applyConfig(n))}success(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,e,this.applyConfig(n))}error(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,e,this.applyConfig(n))}info(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,e,this.applyConfig(n))}warning(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,e,this.applyConfig(n))}clear(t){for(const e of this.toasts)if(void 0!==t){if(e.toastId===t)return void e.toastRef.manualClose()}else e.toastRef.manualClose()}remove(t){const e=this._findToast(t);if(!e)return!1;if(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const t=this.toasts[this.currentlyActive].toastRef;t.isInactive()||(this.currentlyActive=this.currentlyActive+1,t.activate())}return!0}findDuplicate(t="",e="",n,r){const{includeTitleDuplicates:i}=this.toastrConfig;for(const s of this.toasts){const o=i&&s.title===t;if((!i||o)&&s.message===e)return s.toastRef.onDuplicate(n,r),s}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}_preBuildNotification(t,e,n,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,e,n,r)):this._buildNotification(t,e,n,r)}_buildNotification(t,e,n,i){if(!i.toastComponent)throw new Error("toastComponent required");const s=this.findDuplicate(n,e,this.toastrConfig.resetTimeoutOnDuplicate&&i.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||e)&&this.toastrConfig.preventDuplicates&&null!==s)return s;this.previousToastMessage=e;let o=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(o=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const a=this.overlay.create(i.positionClass,this.overlayContainer);this.index=this.index+1;let u=e;e&&i.enableHtml&&(u=this.sanitizer.sanitize(r.H.HTML,e));const c=new Zw(a),l=new Kw(this.index,i,u,n,t,c),h=new tS(l,this._injector),d=new Qw(i.toastComponent,h),f=a.attach(d,this.toastrConfig.newestOnTop);c.componentInstance=f.instance;const p={toastId:this.index,title:n||"",message:e||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:l.onTap(),onAction:l.onAction(),portal:f};return o||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{p.toastRef.activate()})),this.toasts.push(p),p}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Gw),r.Sb(Xw),r.Sb(r.r),r.Sb(dt),r.Sb(r.z))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(Gw),Object(r.Sb)(Xw),Object(r.Sb)(r.o),Object(r.Sb)(dt),Object(r.Sb)(r.z))},token:t,providedIn:"root"}),t})(),nS=(()=>{class t{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.ngZone=n,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),e)):this.timeout=setTimeout(()=>t(),e)}outsideInterval(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),e)):this.intervalId=setInterval(()=>t(),e)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}var e;return t.\u0275fac=function(e){return new(e||t)(r.Jb(eS),r.Jb(Kw),r.Jb(r.z))},t.\u0275cmp=r.Db({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,e){1&t&&r.Vb("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(r.jc("@flyInOut",e.state),r.Ab(e.toastClasses),r.ic("display",e.displayStyle))},attrs:Nw,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(r.kc(0,Dw,3,0,"button",0),r.kc(1,Rw,3,5,"div",1),r.kc(2,Fw,1,3,"div",2),r.kc(3,Mw,2,4,"div",3),r.kc(4,Lw,2,2,"div",4)),2&t&&(r.ac("ngIf",e.options.closeButton),r.yb(1),r.ac("ngIf",e.title),r.yb(1),r.ac("ngIf",e.message&&e.options.enableHtml),r.yb(1),r.ac("ngIf",e.message&&!e.options.enableHtml),r.yb(1),r.ac("ngIf",e.options.progressBar))},directives:[D],encapsulation:2,data:{animation:[(e=[Iw("inactive",Tw({opacity:0})),Iw("active",Tw({opacity:1})),Iw("removed",Tw({opacity:0})),xw("inactive => active",Ow("{{ easeTime }}ms {{ easing }}")),xw("active => removed",Ow("{{ easeTime }}ms {{ easing }}"))],{type:7,name:"flyInOut",definitions:e,options:{}})]}}),t})();const rS=Object.assign(Object.assign({},$w),{toastComponent:nS});let iS=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:Gw,useValue:{default:rS,config:e}}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[F]]}),t})(),sS=(()=>{class t{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.appRef=n,this.width=-1,this.toastClasses="",this.state="inactive",this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state&&(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(eS),r.Jb(Kw),r.Jb(r.g))},t.\u0275cmp=r.Db({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,e){1&t&&r.Vb("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(r.Ab(e.toastClasses),r.ic("display",e.displayStyle))},attrs:Nw,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(r.kc(0,Vw,3,0,"button",0),r.kc(1,qw,3,5,"div",1),r.kc(2,Bw,1,3,"div",2),r.kc(3,Hw,2,4,"div",3),r.kc(4,zw,2,2,"div",4)),2&t&&(r.ac("ngIf",e.options.closeButton),r.yb(1),r.ac("ngIf",e.title),r.yb(1),r.ac("ngIf",e.message&&e.options.enableHtml),r.yb(1),r.ac("ngIf",e.message&&!e.options.enableHtml),r.yb(1),r.ac("ngIf",e.options.progressBar))},directives:[D],encapsulation:2}),t})();function oS(t,e){1&t&&(r.Ob(0,"div",27),r.Ob(1,"span",28),r.lc(2,"Loading..."),r.Nb(),r.Nb())}function aS(t,e){1&t&&(r.Ob(0,"span",29),r.lc(1,"All Fields Are Required."),r.Nb())}function uS(t,e){if(1&t&&(r.Ob(0,"option",30),r.lc(1),r.Nb()),2&t){const t=e.$implicit;r.ac("ngValue",t),r.yb(1),r.mc(t)}}function cS(t,e){if(1&t&&(r.Ob(0,"option",30),r.Ob(1,"span",31),r.lc(2),r.Nb(),r.Nb()),2&t){const t=e.$implicit;r.ac("ngValue",t),r.yb(2),r.mc(t)}}Object.assign(Object.assign({},$w),{toastComponent:sS});let lS=(()=>{class t{constructor(t,e,n,r,i){this.fb=t,this._empleadoService=e,this.router=n,this.toastr=r,this.aRoute=i,this.submitted=!1,this.loading=!1,this.titulo="Add Client",this.evcValues=["EVC","DSC"],this.formfreq=["Yearly","Quarterly"],this.createEmpleado=this.fb.group({firmname:["",Rt.required],business:["",Rt.required],gst:["",Rt.required],prop:["",Rt.required],userId:["",Rt.required],userPassword:["",Rt.required],emailId:["",Rt.required],emailPass:["",Rt.required],frequency:["",Rt.required],evc:["",Rt.required],mobile:["",Rt.required],isActive:["false"]}),this.id=this.aRoute.snapshot.paramMap.get("id"),console.log(this.id),console.log(this.createEmpleado)}ngOnInit(){this.isEdited()}addEditClient(){this.submitted=!0,this.createEmpleado.invalid||(null===this.id?this.agregarEmpleado():this.editClient(this.id))}agregarEmpleado(){const t={firmname:this.createEmpleado.value.firmname,business:this.createEmpleado.value.business,gst:this.createEmpleado.value.gst,prop:this.createEmpleado.value.prop,userId:this.createEmpleado.value.userId,userPassword:this.createEmpleado.value.userPassword,emailId:this.createEmpleado.value.emailId,emailPass:this.createEmpleado.value.emailPass,frequency:this.createEmpleado.value.frequency,evc:this.createEmpleado.value.evc,mobile:this.createEmpleado.value.mobile,isActive:this.createEmpleado.value.isActive};this.loading=!0,this._empleadoService.agregarEmpleado(t).then(()=>{this.toastr.success("Client was registered successfully!","Client Registered",{positionClass:"toast-bottom-right"}),this.loading=!1,this.router.navigate(["/list-empleados"])}).catch(t=>{console.log(t),this.loading=!1})}editClient(t){console.log(t),this.titulo="Edit Client";const e={firmname:this.createEmpleado.value.firmname,business:this.createEmpleado.value.business,gst:this.createEmpleado.value.gst,prop:this.createEmpleado.value.prop,userId:this.createEmpleado.value.userId,userPassword:this.createEmpleado.value.userPassword,emailId:this.createEmpleado.value.emailId,emailPass:this.createEmpleado.value.emailPass,frequency:this.createEmpleado.value.frequency,evc:this.createEmpleado.value.evc,mobile:this.createEmpleado.value.mobile};this.loading=!0,this._empleadoService.actualizarEmpleado(t,e).then(()=>{this.loading=!1,this.toastr.info("Client information was modified successfully!","Updated Client information",{positionClass:"toast-bottom-right"}),this.router.navigate(["/list-empleados"])})}isEdited(){null!==this.id&&(this.loading=!0,this._empleadoService.getClient(this.id).subscribe(t=>{this.loading=!1,this.createEmpleado.setValue({firmname:t.payload.data().firmname,business:t.payload.data().business,gst:t.payload.data().gst,prop:t.payload.data().prop,userId:t.payload.data().userId,userPassword:t.payload.data().userPassword,emailId:t.payload.data().emailId,emailPass:t.payload.data().emailPass,frequency:t.payload.data().frequency,evc:t.payload.data().evc,mobile:t.payload.data().mobile,isActive:t.payload.data().isActive})}))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Qe),r.Jb(ww),r.Jb(Bs),r.Jb(eS),r.Jb(Ei))},t.\u0275cmp=r.Db({type:t,selectors:[["app-create-empleado"]],decls:61,vars:6,consts:[[1,"container","pt-4"],[1,"row"],[1,"col-lg-6","offset-lg-3"],[1,"card","text-center",2,"max-height","600px!important","overflow-y","auto"],[1,"card-body"],["class","spinner-border float-right","role","status",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],[1,"mt-4",3,"formGroup","ngSubmit"],[1,"col",2,"margin-top","5px"],["type","text","formControlName","firmname","placeholder","Firm Name",1,"form-control","form-control-lg"],["type","text","formControlName","business","placeholder","Business",1,"form-control","form-control-lg"],[1,"row",2,"margin-top","5px"],[1,"col"],["type","text","formControlName","gst","placeholder","GST",1,"form-control","form-control-lg"],["type","text","formControlName","prop","placeholder","Position",1,"form-control","form-control-lg"],["for","cars"],["id","country","formControlName","frequency"],[3,"ngValue",4,"ngFor","ngForOf"],["id","country","formControlName","evc"],["type","text","formControlName","userId","placeholder","User Id",1,"form-control","form-control-lg"],["type","text","formControlName","userPassword","placeholder","User Password",1,"form-control","form-control-lg"],["type","text","formControlName","emailId","placeholder","Email",1,"form-control","form-control-lg"],["type","text","formControlName","emailPass","placeholder","Email Password",1,"form-control","form-control-lg"],["type","text","formControlName","mobile","placeholder","Contact No.",1,"form-control","form-control-lg"],[1,"mt-3"],["type","text","routerLink","/list-empleados",1,"btn","btn-secondary","btn-lg","mr-3"],["type","submit",1,"btn","btn-dark","btn-lg"],["role","status",1,"spinner-border","float-right"],[1,"sr-only"],[1,"badge","badge-danger"],[3,"ngValue"],[2,"margin-left","3px"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Ob(2,"div",2),r.Ob(3,"div",3),r.Ob(4,"div",4),r.Ob(5,"h3"),r.lc(6),r.kc(7,oS,3,0,"div",5),r.Nb(),r.kc(8,aS,2,0,"span",6),r.Ob(9,"form",7),r.Vb("ngSubmit",function(){return e.addEditClient()}),r.Kb(10,"hr"),r.lc(11,"Company Details"),r.Kb(12,"hr"),r.Ob(13,"div",1),r.Ob(14,"div",8),r.Kb(15,"input",9),r.Nb(),r.Ob(16,"div",8),r.Kb(17,"input",10),r.Nb(),r.Nb(),r.Ob(18,"div",11),r.Ob(19,"div",12),r.Kb(20,"input",13),r.Nb(),r.Ob(21,"div",12),r.Kb(22,"input",14),r.Nb(),r.Nb(),r.Kb(23,"hr"),r.lc(24,"GST Related"),r.Kb(25,"hr"),r.Ob(26,"div",11),r.Ob(27,"div",12),r.Ob(28,"label",15),r.Ob(29,"b"),r.lc(30,"Frequency : "),r.Nb(),r.Nb(),r.Ob(31,"select",16),r.kc(32,uS,2,2,"option",17),r.Nb(),r.Nb(),r.Ob(33,"div",12),r.Ob(34,"div",12),r.Ob(35,"label",15),r.Ob(36,"b"),r.lc(37,"EVC / DSC : "),r.Nb(),r.Nb(),r.Ob(38,"select",18),r.kc(39,cS,3,2,"option",17),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Kb(40,"hr"),r.lc(41,"Client Details"),r.Kb(42,"hr"),r.Ob(43,"div",11),r.Ob(44,"div",12),r.Kb(45,"input",19),r.Nb(),r.Ob(46,"div",12),r.Kb(47,"input",20),r.Nb(),r.Nb(),r.Ob(48,"div",11),r.Ob(49,"div",12),r.Kb(50,"input",21),r.Nb(),r.Ob(51,"div",12),r.Kb(52,"input",22),r.Nb(),r.Nb(),r.Ob(53,"div",11),r.Ob(54,"div",12),r.Kb(55,"input",23),r.Nb(),r.Nb(),r.Ob(56,"div",24),r.Ob(57,"button",25),r.lc(58,"Cancel"),r.Nb(),r.Ob(59,"button",26),r.lc(60,"Add"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.yb(6),r.nc("",e.titulo," "),r.yb(1),r.ac("ngIf",e.loading),r.yb(1),r.ac("ngIf",e.submitted&&e.createEmpleado.invalid),r.yb(1),r.ac("formGroup",e.createEmpleado),r.yb(23),r.ac("ngForOf",e.formfreq),r.yb(7),r.ac("ngForOf",e.evcValues))},directives:[D,qe,Xt,ze,At,Yt,$e,ue,j,Hs,ce,fe],styles:[""]}),t})();function hS(t,e){1&t&&(r.Ob(0,"h5",5),r.lc(1,"No client data found"),r.Nb())}function dS(t,e){if(1&t){const t=r.Pb();r.Ob(0,"i",10),r.Vb("click",function(){r.ec(t);const e=r.Xb().$implicit;return r.Xb(2).deleteClient(e.id)}),r.Nb()}}const fS=function(t){return["/editEmpleado/",t]};function pS(t,e){if(1&t&&(r.Ob(0,"tr"),r.Ob(1,"td"),r.lc(2),r.Nb(),r.Ob(3,"td"),r.lc(4),r.Nb(),r.Ob(5,"td"),r.lc(6),r.Nb(),r.Ob(7,"td"),r.lc(8),r.Nb(),r.Ob(9,"td"),r.lc(10),r.Nb(),r.Ob(11,"td"),r.lc(12),r.Nb(),r.Ob(13,"td"),r.lc(14),r.Nb(),r.Ob(15,"td"),r.lc(16),r.Nb(),r.Ob(17,"td"),r.lc(18),r.Nb(),r.Ob(19,"td"),r.lc(20),r.Nb(),r.Ob(21,"td"),r.lc(22),r.Nb(),r.Ob(23,"td"),r.Kb(24,"i",8),r.kc(25,dS,1,0,"i",9),r.Nb(),r.Nb()),2&t){const t=e.$implicit;r.yb(2),r.mc(t.firmname),r.yb(2),r.mc(t.business),r.yb(2),r.mc(t.gst),r.yb(2),r.mc(t.prop),r.yb(2),r.mc(t.userId),r.yb(2),r.mc(t.userPassword),r.yb(2),r.mc(t.emailId),r.yb(2),r.mc(t.emailPass),r.yb(2),r.mc(t.evc),r.yb(2),r.mc(t.mobile),r.yb(2),r.mc(t.frequency),r.yb(2),r.ac("routerLink",r.bc(13,fS,t.id)),r.yb(1),r.ac("ngIf",t.IsActive)}}function gS(t,e){if(1&t&&(r.Ob(0,"table",6),r.Ob(1,"thead"),r.Ob(2,"tr"),r.Ob(3,"th"),r.lc(4,"Firm Name"),r.Nb(),r.Ob(5,"th"),r.lc(6,"Business"),r.Nb(),r.Ob(7,"th"),r.lc(8,"GST"),r.Nb(),r.Ob(9,"th"),r.lc(10,"Position"),r.Nb(),r.Ob(11,"th"),r.lc(12,"User Id"),r.Nb(),r.Ob(13,"th"),r.lc(14,"User Password"),r.Nb(),r.Ob(15,"th"),r.lc(16,"Email Id"),r.Nb(),r.Ob(17,"th"),r.lc(18,"Email Password"),r.Nb(),r.Ob(19,"th"),r.lc(20,"EVC / DSC"),r.Nb(),r.Ob(21,"th"),r.lc(22,"Contact No."),r.Nb(),r.Ob(23,"th"),r.lc(24,"Frequency"),r.Nb(),r.Kb(25,"th"),r.Nb(),r.Nb(),r.Ob(26,"tbody"),r.kc(27,pS,26,15,"tr",7),r.Nb(),r.Nb()),2&t){const t=r.Xb();r.yb(27),r.ac("ngForOf",t.empleados)}}const mS=[{path:"",redirectTo:"list-empleados",pathMatch:"full"},{path:"list-empleados",component:(()=>{class t{constructor(t,e){this._empleadoService=t,this.toastr=e,this.empleados=[]}ngOnInit(){this.getEmpleados()}getEmpleados(){this._empleadoService.getClients().subscribe(t=>{this.empleados=[],t.forEach(t=>{this.empleados.push(Object.assign({id:t.payload.doc.id},t.payload.doc.data()))}),console.log(this.empleados)})}deleteClient(t){this._empleadoService.eliminateClient(t).then(()=>{console.log("empelado eliminado con exito"),this.toastr.error("Client details deleted successfully!","Client Removed!",{positionClass:"toast-bottom-right"})}).catch(t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(ww),r.Jb(eS))},t.\u0275cmp=r.Db({type:t,selectors:[["app-list-empleados"]],decls:9,vars:2,consts:[[1,"container","mt-4",2,"max-width","1500px!important"],[1,"h3"],["routerLink","/create-empleado",1,"btn","btn-dark","btn-lg","float-right"],["style","margin-top: 30px;",4,"ngIf"],["class","table table-striped mt-5","style","max-width: 1500px!important;overflow-y: auto;",4,"ngIf"],[2,"margin-top","30px"],[1,"table","table-striped","mt-5",2,"max-width","1500px!important","overflow-y","auto"],[4,"ngFor","ngForOf"],[1,"fas","fa-edit","fa-lg","text-info","mr-2",3,"routerLink"],["class","fas fa-trash-alt fa-lg text-danger",3,"click",4,"ngIf"],[1,"fas","fa-trash-alt","fa-lg","text-danger",3,"click"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div"),r.Ob(2,"div"),r.Ob(3,"span",1),r.lc(4,"GST Client List"),r.Nb(),r.Ob(5,"button",2),r.lc(6,"Add"),r.Nb(),r.kc(7,hS,2,0,"h5",3),r.kc(8,gS,28,1,"table",4),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.yb(7),r.ac("ngIf",0==e.empleados.length),r.yb(1),r.ac("ngIf",e.empleados.length>0))},directives:[Hs,D,j],styles:["i[_ngcontent-%COMP%]{cursor:pointer}"]}),t})()},{path:"create-empleado",component:lS},{path:"editEmpleado/:id",component:lS},{path:"**",redirectTo:"list-empleados",pathMatch:"full"}];let yS=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[eo.forRoot(mS)],eo]}),t})();function vS(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function bS(t){switch(t.length){case 0:return new kw;case 1:return t[0];default:return new jw(t)}}function _S(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case Ew:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function wS(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&SS(n,"start",t)));break;case"done":t.onDone(()=>r(n&&SS(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&SS(n,"destroy",t)))}}function SS(t,e,n){const r=n.totalTime,i=ES(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function ES(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function OS(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function CS(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let TS=(t,e)=>!1,IS=(t,e)=>!1,xS=(t,e,n)=>[];const AS=vS();(AS||"undefined"!=typeof Element)&&(TS=(t,e)=>t.contains(e),IS=(()=>{if(AS||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):IS}})(),xS=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let kS=null,jS=!1;function NS(t){kS||(kS=("undefined"!=typeof document?document.body:null)||{},jS=!!kS.style&&"WebkitAppearance"in kS.style);let e=!0;return kS.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in kS.style,!e&&jS)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in kS.style),e}const DS=IS,PS=TS,RS=xS;function FS(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let MS=(()=>{class t{validateStyleProperty(t){return NS(t)}matchesElement(t,e){return DS(t,e)}containsElement(t,e){return PS(t,e)}query(t,e,n){return RS(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new kw(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),LS=(()=>{class t{}return t.NOOP=new MS,t})();const VS="ng-enter",US="ng-leave",qS="ng-trigger",BS=".ng-trigger",HS="ng-animating",zS=".ng-animating";function KS(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:$S(parseFloat(e[1]),e[2])}function $S(t,e){switch(e){case"s":return 1e3*t;default:return t}}function GS(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=$S(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=$S(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function QS(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function WS(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else QS(t,n);return n}function JS(t,e,n){return n?e+":"+n+";":""}function YS(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=JS(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=JS(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function XS(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=oE(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),vS()&&YS(t))}function ZS(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=oE(e);t.style[n]=""}),vS()&&YS(t))}function tE(t){return Array.isArray(t)?1==t.length?t[0]:Cw(t):t}const eE=new RegExp("{{\\s*(.+?)\\s*}}","g");function nE(t){let e=[];if("string"==typeof t){let n;for(;n=eE.exec(t);)e.push(n[1]);eE.lastIndex=0}return e}function rE(t,e,n){const r=t.toString(),i=r.replace(eE,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function iE(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const sE=/-+([a-z0-9])/g;function oE(t){return t.replace(sE,(...t)=>t[1].toUpperCase())}function aE(t,e){return 0===t||0===e}function uE(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=lE(t,e)})}}return e}function cE(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function lE(t,e){return window.getComputedStyle(t)[e]}const hE="*";function dE(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(gE(i,o)),"<"!=s[0]||i==hE&&o==hE||e.push(gE(o,i))}(t,n,e)):n.push(t),n}const fE=new Set(["true","1"]),pE=new Set(["false","0"]);function gE(t,e){const n=fE.has(t)||pE.has(t),r=fE.has(e)||pE.has(e);return(i,s)=>{let o=t==hE||t==i,a=e==hE||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?fE.has(t):pE.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?fE.has(e):pE.has(e)),o&&a}}const mE=new RegExp("s*:selfs*,?","g");function yE(t,e,n){return new vE(t).build(e,n)}class vE{constructor(t){this._driver=t}build(t,e){const n=new bE(e);return this._resetContextStyleTimingState(n),cE(this,tE(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(_E(t)){const e=t;Object.keys(e).forEach(t=>{nE(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=iE(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=cE(this,tE(t.animation),e);return{type:1,matchers:dE(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:wE(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>cE(this,t,e)),options:wE(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=cE(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:wE(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return SE(GS(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=SE(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||GS(r,e),SE(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Tw({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Tw(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Ew?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(_E(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=nE(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(_E(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(_E(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:cE(this,tE(t.animation),e),options:wE(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:wE(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:wE(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(mE,"")),[t=t.replace(/@\*/g,BS).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,zS),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,OS(e.collectedStyles,e.currentQuerySelector,{});const o=cE(this,tE(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:wE(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:GS(t.timings,e.errors,!0);return{type:12,animation:cE(this,tE(t.animation),e),timings:n,options:null}}}class bE{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function _E(t){return!Array.isArray(t)&&"object"==typeof t}function wE(t){var e;return t?(t=QS(t)).params&&(t.params=(e=t.params)?QS(e):null):t={},t}function SE(t,e,n){return{duration:t,delay:e,easing:n}}function EE(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class OE{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const CE=new RegExp(":enter","g"),TE=new RegExp(":leave","g");function IE(t,e,n,r,i,s={},o={},a,u,c=[]){return(new xE).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class xE{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new OE;const l=new kE(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),cE(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[EE(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?KS(n.duration):null,s=null!=n.delay?KS(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),cE(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=AE);const t=KS(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>cE(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?KS(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),cE(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return GS(e.params?rE(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?KS(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=AE);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),cE(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;cE(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const AE={};class kE{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=AE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new jE(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=KS(n.duration)),null!=n.delay&&(r.delay=KS(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=rE(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new kE(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=AE,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new NE(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(CE,"."+this._enterClassName)).replace(TE,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class jE{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new jE(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Ew,this._currentKeyframe[t]=Ew}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=Ew})):WS(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=rE(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Ew),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=WS(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==Ew&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?iE(t.values()):[],s=e.size?iE(e.values()):[];if(n){const t=r[0],e=QS(t);t.offset=0,e.offset=1,r=[t,e]}return EE(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class NE extends jE{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=WS(t[0],!1);a.offset=0,i.push(a);const u=WS(t[0],!1);u.offset=DE(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=WS(t[r],!1);o.offset=DE((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return EE(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function DE(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class PE{}class RE extends PE{normalizePropertyName(t,e){return oE(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(FE[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const FE=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ME(t,e,n,r,i,s,o,a,u,c,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:d}}const LE={};class VE{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||LE,d=this.buildStyles(n,o&&o.params||LE,l),f=a&&a.params||LE,p=this.buildStyles(r,f,l),g=new Set,m=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),f)},_=c?[]:IE(t,e,this.ast.animation,i,s,d,p,b,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return ME(e,this._triggerName,n,r,v,d,p,[],[],m,y,w,l);_.forEach(t=>{const n=t.element,r=OS(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=OS(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const S=iE(g.values());return ME(e,this._triggerName,n,r,v,d,p,_,S,m,y,w)}}class UE{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=QS(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=rE(s,r,e)),n[t]=s})}}),n}}class qE{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new UE(t.style,t.options&&t.options.params||{})}),BE(this.states,"true","1"),BE(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new VE(t,e,this.states))}),this.fallbackTransition=new VE(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function BE(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const HE=new OE;class zE{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=yE(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=_S(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=IE(this._driver,e,i,VS,US,{},{},n,HE,r),s.forEach(t=>{const e=OS(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Ew)})});const a=bS(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=ES(e,"","","");return wS(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const KE="ng-animate-queued",$E="ng-animate-disabled",GE=".ng-animate-disabled",QE=[],WE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},JE={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class YE{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=QS(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const XE="void",ZE=new YE(XE);class tO{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,aO(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=OS(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=OS(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(aO(t,qS),aO(t,"ng-trigger-"+e),a[e]=ZE),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new nO(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(aO(t,qS),aO(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new YE(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=ZE),u.value!==XE&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{ZS(t,n),XS(t,r)})}return}const c=OS(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(aO(t,KE),s.onStart(()=>{uO(t,KE)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,BS,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,XE,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&bS(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||ZE,o=new YE(XE),a=new nO(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==WE||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){aO(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=ES(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,wS(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class eO{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new tO(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(rO(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!rO(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),aO(t,$E)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),uO(t,$E))}removeNode(t,e,n,r){if(rO(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return rO(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,BS,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,zS,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return bS(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=WE,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,GE)&&this.markElementAsDisabled(t,!1),this.driver.query(t,GE,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)aO(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?bS(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new OE,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=oO(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=VS+p++;f.set(e,n),t.forEach(t=>aO(t,n))});const g=[],m=new Set,y=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){const t=this.collectedLeaveElements[k],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const v=new Map,b=oO(h,Array.from(m));b.forEach((t,e)=>{const n=US+p++;v.set(e,n),t.forEach(t=>aO(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>uO(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>uO(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>ZS(i,p.fromStyles)),e.onDestroy(()=>XS(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>ZS(i,p.fromStyles)),e.onDestroy(()=>XS(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>OS(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const S=new Map,E=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{OS(S,e,[]).push(t),t.destroy()})});const O=g.filter(t=>hO(t,a,u)),C=new Map;sO(C,this.driver,y,u,Ew).forEach(t=>{hO(t,a,u)&&O.push(t)});const T=new Map;d.forEach((t,e)=>{sO(T,this.driver,new Set(t),a,"!")}),O.forEach(t=>{const e=C.get(t),n=T.get(t);C.set(t,Object.assign(Object.assign({},e),n))});const I=[],x=[],A={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>XS(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=A;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,S,i,T,C);if(s.setRealPlayer(n),t===A)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=bS(e)),r.push(s)}}else ZS(e,o.fromStyles),s.onDestroy(()=>XS(e,o.toStyles)),x.push(s),c.has(e)&&r.push(s)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=bS(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let k=0;k<g.length;k++){const t=g[k],e=t.__ng_removed;if(uO(t,US),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,zS,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?cO(this,t,r):this.processLeaveNode(t)}return g.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==XE;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=OS(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}ZS(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new kw(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return lO(t,e),e}((n.get(h)||QE).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),y=_S(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new nO(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{OS(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>aO(t,HS));const d=bS(h);return d.onDestroy(()=>{c.forEach(t=>uO(t,HS)),XS(a,e.toStyles)}),l.forEach(t=>{OS(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new kw(t.duration,t.delay)}}class nO{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new kw,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>wS(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){OS(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function rO(t){return t&&1===t.nodeType}function iO(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function sO(t,e,n,r,i){const s=[];n.forEach(t=>s.push(iO(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=JE,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>iO(t,s[a++])),o}function oO(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function aO(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function uO(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function cO(t,e,n){bS(n).onDone(()=>t.processLeaveNode(e))}function lO(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof jw?lO(r.players,e):e.push(r)}}function hO(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class dO{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new eO(t,e,n),this._timelineEngine=new zE(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=yE(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new qE(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=CS(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=CS(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function fO(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=gO(e[0]),e.length>1&&(r=gO(e[e.length-1]))):e&&(n=gO(e)),n||r?new pO(t,n,r):null}let pO=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&XS(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(XS(this._element,this._initialStyles),this._endStyles&&(XS(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(ZS(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ZS(this._element,this._endStyles),this._endStyles=null),XS(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function gO(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];mO(i)&&(e=e||{},e[i]=t[i])}return e}function mO(t){return"display"===t||"position"===t}const yO="animation",vO="animationend";class bO{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=CO(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),OO(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),EO(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){_O(this._element,this._name,"paused")}resume(){_O(this._element,this._name,"running")}setPosition(t){const e=wO(this._element,this._name);this._position=t*this._duration,OO(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),EO(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=CO(t,"").split(","),r=SO(n,e);r>=0&&(n.splice(r,1),OO(t,"",n.join(",")))}(this._element,this._name))}}function _O(t,e,n){OO(t,"PlayState",n,wO(t,e))}function wO(t,e){const n=CO(t,"");return n.indexOf(",")>0?SO(n.split(","),e):SO([n],e)}function SO(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function EO(t,e,n){n?t.removeEventListener(vO,e):t.addEventListener(vO,e)}function OO(t,e,n,r){const i=yO+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function CO(t,e){return t.style[yO+e]}class TO{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new bO(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:lE(this.element,n))})}this.currentSnapshot=t}}class IO extends kw{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=FS(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class xO{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return NS(t)}matchesElement(t,e){return DS(t,e)}containsElement(t,e){return PS(t,e)}query(t,e,n){return RS(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>FS(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof TO),u={};aE(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=uE(t,e,u));if(0==n)return new IO(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=fO(t,e),f=new TO(t,e,l,n,r,i,c,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class AO{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:lE(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class kO{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(jO().toString()),this._cssKeyframesDriver=new xO}validateStyleProperty(t){return NS(t)}matchesElement(t,e){return DS(t,e)}containsElement(t,e){return PS(t,e)}query(t,e,n){return RS(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof AO);aE(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=fO(t,e=uE(t,e=e.map(t=>WS(t,!1)),u));return new AO(t,e,a,l)}}function jO(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let NO=(()=>{class t extends Sw{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.Q.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Cw(t):t;return RO(this._renderer,null,e,"register",[n]),new DO(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.E),r.Sb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class DO extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new PO(this._id,t,e||{},this._renderer)}}class PO{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return RO(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function RO(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const FO="@",MO="@.disabled";let LO=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new VO("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new UO(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.E),r.Sb(dO),r.Sb(r.z))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class VO{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==FO&&e==MO?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class UO extends VO{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==FO?"."==e.charAt(1)&&e==MO?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==FO){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=FO&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let qO=(()=>{class t extends dO{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a),r.Sb(LS),r.Sb(PE))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const BO=[{provide:LS,useFactory:function(){return"function"==typeof jO()?new kO:new xO}},{provide:new r.q("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Sw,useClass:NO},{provide:PE,useFactory:function(){return new RE}},{provide:dO,useClass:qO},{provide:r.E,useFactory:function(t,e,n){return new LO(t,e,n)},deps:[nt,dO,r.z]}];let HO=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:BO,imports:[yt]}),t})(),zO=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-navbar"]],decls:5,vars:0,consts:[[1,"navbar","navbar-dark","bg-dark"],[1,"navbar-brand","mb-0","h1"],["type","button","routerLink","/list-empleados",1,"btn","btn-dark"]],template:function(t,e){1&t&&(r.Ob(0,"nav",0),r.Ob(1,"span",1),r.lc(2,"Aniket & Associates"),r.Nb(),r.Ob(3,"button",2),r.lc(4,"List"),r.Nb(),r.Nb())},directives:[Hs],styles:[""]}),t})(),KO=(()=>{class t{constructor(){this.title="OfficeSuit"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Kb(0,"app-navbar"),r.Kb(1,"router-outlet"))},directives:[zO,Ks],styles:[""]}),t})(),$O=(()=>{class t{}return t.\u0275mod=r.Hb({type:t,bootstrap:[KO]}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[],imports:[[pn,yt,yS,vo.a.initializeApp(i),_w,Je,iS.forRoot(),HO]]}),t})();Object(r.S)(),gt().bootstrapModule($O).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);